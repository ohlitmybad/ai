<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background-color: #f5f7fa;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(30px);
            border-radius: 32px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 1400px;
            height: 95vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.4);
        }

        .header {
            background: #ffffff;
            color: #333333;
            height: 70px;
            position: relative;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 28px;
            border-bottom: 1px solid #e0e0e0;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 900;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #333333;
            order: 1;
        }

        .header p {
            opacity: 0.95;
            font-size: 16px;
            font-weight: 600;
        }

        .status {
            background: rgba(255, 255, 255, 0.3);
            padding: 10px 18px;
            border-radius: 25px;
            font-size: 13px;
            backdrop-filter: blur(15px);
            font-weight: 700;
            border: 1px solid rgba(255, 255, 255, 0.4);
            display: flex;
            align-items: center;
            gap: 8px;
            order: 3;
            margin-left: auto;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4ade80;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .intelligence-indicator {
            position: absolute;
            bottom: 15px;
            right: 28px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            opacity: 0.8;
        }

        .brain-icon {
            width: 16px;
            height: 16px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: brainPulse 2s infinite;
        }

        @keyframes brainPulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 28px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            gap: 24px;
            background: linear-gradient(to bottom, #fafbff, #f8fafc);
        }

        .message {
            display: flex;
            gap: 16px;
            max-width: 95%;
            animation: messageSlide 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-content {
            background: white;
            border-radius: 24px;
            padding: 20px 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            line-height: 1.7;
            font-size: 15px;
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .message.user .message-content {
            background: #e6f0ff;
            color: #0f172a;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
            border: 1px solid #c7d7ff;
        }

        .message.assistant .message-content {
            background: #ffffff;
            color: inherit;
        }

        .avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            flex-shrink: 0;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            border: 3px solid white;
            overflow: hidden;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .message.user .avatar {
            background: #3498db;
            color: white;
        }

        .message.assistant .avatar {
            background: linear-gradient(135deg, #4ade80, #22c55e);
            color: white;
        }

        .input-container {
            padding: 28px;
            border-top: 1px solid #e2e8f0;
            background: white;
            box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.1);
        }

        .suggestions {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            flex-wrap: wrap;
            max-height: 80px;
            overflow-y: auto;
        }

        .suggestion-chip {
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 16px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .suggestion-chip:hover {
            background: #e0e0e0;
            transform: translateY(-1px);
        }

        .input-wrapper {
            display: flex;
            gap: 8px;
            align-items: center;
            background: #f8fafc;
            border-radius: 28px;
            padding: 8px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .input-wrapper:focus-within {
            border-color: #3498db;
            box-shadow: 0 0 0 6px rgba(52, 152, 219, 0.15);
            background: white;
        }

        .input-field {
            flex: 1;
            border: none;
            border-radius: 20px;
            padding: 16px 14px;
            font-size: 15px;
            font-family: inherit;
            outline: none;
            resize: none;
            min-height: 24px;
            max-height: 150px;
            background: transparent;
            line-height: 1.5;
        }

        .send-button {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            flex-shrink: 0;
            box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
        }

        .send-button:hover:not(:disabled) {
            transform: scale(1.1);
            box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
        }

        .send-button:active:not(:disabled) {
            transform: scale(0.95);
        }

        .send-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .send-button.stop {
            background: #3498db;
            box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
        }
        .send-button.stop:hover:not(:disabled) {
            box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
        }

        /* Typing indicator bubble */
        .typing-message .message-content {
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .typing {
            display: inline-flex;
            gap: 6px;
            align-items: center;
        }
        .typing-dot {
            width: 8px;
            height: 8px;
            background: #9ec5fe;
            border-radius: 50%;
            animation: blink 1.2s infinite ease-in-out;
        }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes blink {
            0%, 80%, 100% { opacity: 0.3; transform: translateY(0); }
            40% { opacity: 1; transform: translateY(-2px); }
        }

        .input-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            /* Ensure symmetrical padding with left side (8px wrapper padding + 20px textarea left padding) */
            margin-right: 12px;
        }

        .chart-toggle {
            display: flex;
            align-items: center;
            gap: 6px;
            background: #e2e8f0;
            color: #64748b;
            border: none;
            padding: 10px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            min-width: 100px;
            position: relative;
            justify-content: center;
        }

        .chart-toggle:hover {
            background: #cbd5e1;
        }

        .chart-toggle.active {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .chart-toggle.active:hover {
            background: linear-gradient(135deg, #059669, #047857);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .toggle-text {
            font-size: 12px;
            font-weight: 700;
            text-align: center;
            width: 100%;
        }

        .chart-toggle .icon-left {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
        }

        /* Header icon button (like chart-toggle but compact and icon-only) */
        .header-action {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e2e8f0;
            color: #64748b;
            border: none;
            width: 38px;
            height: 38px;
            border-radius: 22px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            order: 2;
            margin-left: 16px;
        }
        .header-action:hover { background: #cbd5e1; }

        .loading {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .loading-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: loadingBounce 1.6s infinite ease-in-out;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loadingBounce {
            0%, 80%, 100% { transform: scale(0.6); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .quick-insights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }

        .insight-card {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .insight-card:hover {
            border-color: #3498db;
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(52, 152, 219, 0.2);
        }

        .insight-value {
            font-size: 28px;
            font-weight: 900;
            color: #3498db;
            margin-bottom: 8px;
        }

        .insight-label {
            font-size: 13px;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .streaming-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(34, 197, 94, 0.1);
            color: #16a34a;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 12px;
        }

        .streaming-dot {
            width: 6px;
            height: 6px;
            background: #16a34a;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        .error {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border: 2px solid #fca5a5;
            color: #dc2626;
            border-radius: 16px;
            padding: 20px;
            margin: 16px 0;
            font-weight: 600;
        }

        .success {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 2px solid #86efac;
            color: #16a34a;
            border-radius: 16px;
            padding: 20px;
            margin: 16px 0;
            font-weight: 600;
        }

        .chart-container {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin: 16px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
        }

        .player-spotlight {
            background: #ffffff;
            color: #333333;
            border-radius: 20px;
            padding: 24px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }

        .player-spotlight::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: rgba(0, 0, 0, 0.03);
            border-radius: 50%;
            transform: translate(30px, -30px);
        }

        .performance-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 8px;
            border-radius: 4px;
            margin: 8px 0;
            overflow: hidden;
        }

        .performance-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ade80, #22c55e);
            border-radius: 4px;
            transition: width 1s ease;
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 16px;
            padding: 20px;
            overflow-x: auto;
            font-size: 14px;
            margin: 16px 0;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            line-height: 1.6;
        }

        code {
            background: #f1f5f9;
            color: #475569;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            font-family: 'SF Mono', Monaco, monospace;
        }

        .messages::-webkit-scrollbar {
            width: 10px;
        }

        .messages::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 5px;
        }

        .messages::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 5px;
        }

        .player-selector {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 16px;
            padding: 16px;
            margin: 16px 0;
        }

        .player-option {
            display: block;
            width: 100%;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .player-option:hover {
            background: #f8f9fa;
            border-color: #3498db;
        }

        @media (max-width: 768px) {
            .container {
                height: 100vh;
                border-radius: 0;
                margin: 0;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 24px;
            }

            .messages {
                padding: 20px;
            }

            .quick-insights {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        /* Markdown table styling and controls */
        .table-container {
            margin-top: 16px;
            margin-bottom: 16px; /* add spacing after tables to separate following sentences */
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            background: white;
        }
        .table-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0;
            padding: 10px 14px;
            background-color: #f8fafc;
            border-radius: 12px 12px 0 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 12px;
            color: #64748b;
            font-weight: 600;
        }
        .expand-button {
            background: #3498db;
            color: #ffffff;
            border: none;
            padding: 6px 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 700;
        }
        .expand-button:hover { opacity: 0.9; }
        table.data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        table.data-table th, table.data-table td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        table.data-table th {
            background: #f8fafc;
            font-weight: 700;
            color: #334155;
        }
        table.data-table tr:hover { background: #f9fafb; }
        .table-container.collapsed tbody tr:nth-child(n+11) { display: none; }
        /* Markdown body refinements */
        .markdown-body { line-height: 1.75; }
        .markdown-body p { margin: 0 0 1rem 0; }
        .markdown-body ul, .markdown-body ol {
            margin: 0.9rem 0 1.1rem 0;
            padding-left: 1.6rem;
            list-style-position: outside; /* hang bullets outside the text block */
        }
        .markdown-body li + li { margin-top: 0.45rem; }
        .markdown-body h1, .markdown-body h2, .markdown-body h3,
        .markdown-body h4, .markdown-body h5, .markdown-body h6 {
            margin: 0.75rem 0 0.55rem 0;
            line-height: 1.25;
        }
        .markdown-body blockquote {
            margin: 1rem 0;
            padding: 0.75rem 1rem;
            border-left: 5px solid #e2e8f0;
            background: #f8fafc;
            border-radius: 6px;
            color: #475569;
        }
        .markdown-body hr {
            border: none;
            border-top: 1px solid #e2e8f0;
            margin: 1.25rem 0;
        }
        /* Avoid extra trailing space inside bubbles */
        .markdown-body > :last-child { margin-bottom: 0 !important; }
        /* Compact single-line messages */
        .markdown-body.compact { line-height: 1.45; }
        .markdown-body.compact p { margin: 0; }

        /* lighter, subtler status text */
.status { font-weight: 500; }
.status .status-text { font-weight: 500; opacity: 0.9; }
    </style>
    <!-- Markdown parsing and sanitization -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"></script>
</head>

<body>


    <div id="SFctr" class="SF" data-org="31002" data-ini="myaccount" data-scl="0" data-sfi="1" style="position:absolute;left:-9999px;top:-9999px;width:0;height:0;overflow:hidden;"></div>
<script src="https://cdn.membershipworks.com/mfm.js"></script>
<script>
function __hashId(s){let h=5381;for(let i=0;i<s.length;i++){h=((h<<5)+h)^s.charCodeAt(i);}return 'u'+(h>>>0).toString(36);} 
function __applyUserKey(key){
	if(!key||!window.chatbot)return;
	window.chatbot.cookieName='datamb_chat_usage_'+__hashId(key);
    // enforce 50/month per account
    window.chatbot.dailyLimit= 50;
	window.chatbot.mwKeyApplied=true;
	// If key looks like a plain numeric member ID, store it for per-ID quota
	if(/^\d{3,}$/.test(key)){
		window.chatbot.currentMemberId=key;
		// Log member ID and remaining requests
		console.log('Member ID logged in:', key);
		logRemainingRequests(key);
		// Preload remote quota silently to sync local mirror without blocking UI
		if(window.chatbot && typeof window.chatbot.preloadRemoteQuotaForId==='function'){
			try{ window.chatbot.preloadRemoteQuotaForId(key); }catch(_){ }
		}
	}
}
document.addEventListener('DOMContentLoaded',function(){
	var ctr=document.getElementById('SFctr');
	if(!ctr){ return; }

	function __findIdentity(root){
		var email='';
		var memberId='';
		var emailRx=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i;
		var txt=(root.textContent||'');
		var tMatch=txt.match(emailRx); if(tMatch) email=tMatch[0];
		// mailto:
		if(!email){
			var anchors=Array.from(root.querySelectorAll('a[href^="mailto:"]'));
			var mailFromAnchor=anchors.map(a=>a.getAttribute('href')||'').map(h=>h.replace(/^mailto:/i,'')).find(Boolean)||'';
			if(emailRx.test(mailFromAnchor)) email=mailFromAnchor.match(emailRx)[0];
		}
		// attribute scan
		var all=Array.from(root.querySelectorAll('*'));
		for(var i=0;i<all.length && (!email || !memberId);i++){
			var el=all[i];
			if(!email){
				var val=(el.getAttribute('value')||'');
				var vm=val.match(emailRx); if(vm){ email=vm[0]; }
			}
			for(var j=0;j<el.attributes.length && (!email || !memberId);j++){
				var a=el.attributes[j];
				var v=a.value||'';
				if(!email){ var m=v.match(emailRx); if(m){ email=m[0]; } }
				if(!memberId && /member|mem|user|uid|id/i.test(a.name)){
					var idm=v.match(/\d{3,}/); if(idm){ memberId=idm[0]; }
				}
			}
		}
		return { email: email||'', memberId: memberId||'', elementCount: (root.querySelectorAll('*').length||0), textLen: (txt||'').length };
	}

	var obs=new MutationObserver(function(){
		var info=__findIdentity(ctr);
		var email=info.email;
		var memberId=info.memberId;
		var key=email||memberId||'';
		if(key){
			__applyUserKey(key);
			obs.disconnect();
		}
	});
	obs.observe(ctr,{childList:true,subtree:true});

});
</script>
 
    <div class="container">
        <div class="header">
            <h1>DataMB Chat</h1>
            <button id="newChatBtn" class="header-action" title="New Chat">
                <span><i class="fas fa-plus"></i></span>
            </button>
            <div class="status" id="status">
                <div class="status-indicator"></div>
            </div>
        </div>
        
        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="message assistant">
                
                </div>
            </div>
            
            <div class="input-container">
                <div class="suggestions" id="suggestions">
                    <div class="suggestion-chip" data-query="Show me the most creative players in Europe's top 5 leagues">
                        <i class="fas fa-lightbulb"></i><span>Most Creative</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Create a radar chart comparing Pedri and Bellingham">
                        <i class="fas fa-project-diagram"></i><span>Radar Chart</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Plot xG vs actual goals for Premier League strikers">
                        <i class="fas fa-chart-area"></i><span>xG vs Goals</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Show age vs performance scatter plot for midfielders">
                        <i class="fas fa-chart-pie"></i><span>Age Analysis</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Most goals in Premier League this season">
                        <i class="fas fa-futbol"></i><span>Top Scorers</span>
                    </div>
                    </div>
                
                <div class="input-wrapper">
                    <textarea 
                        id="messageInput" 
                        class="input-field" 
                        placeholder="Ask anything..."
                        rows="1"
                    ></textarea>
                    <div class="input-controls">
                        <button id="chartToggle" class="chart-toggle" title="Enable/disable automatic charts and visualizations">
                            <i class="fas fa-chart-line icon-left"></i>
                            <span class="toggle-text">OFF</span>
                        </button>
                        <button id="sendButton" class="send-button">
                            <span>
                                <i class="fas fa-chevron-up"></i> 
                            
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

      const _0xeda630=_0x5e12;(function(_0x1aac7c,_0x2c40a0){const _0x1b3e43=_0x5e12,_0x580be1=_0x1aac7c();while(!![]){try{const _0x1e1e2f=-parseInt(_0x1b3e43(0xfe))/0x1+parseInt(_0x1b3e43(0xe6))/0x2*(parseInt(_0x1b3e43(0x1f4))/0x3)+parseInt(_0x1b3e43(0x122))/0x4*(-parseInt(_0x1b3e43(0x1f0))/0x5)+parseInt(_0x1b3e43(0xf5))/0x6+parseInt(_0x1b3e43(0x1c4))/0x7+-parseInt(_0x1b3e43(0x10b))/0x8*(parseInt(_0x1b3e43(0x1b0))/0x9)+parseInt(_0x1b3e43(0x112))/0xa*(parseInt(_0x1b3e43(0xde))/0xb);if(_0x1e1e2f===_0x2c40a0)break;else _0x580be1['push'](_0x580be1['shift']());}catch(_0x51fd6e){_0x580be1['push'](_0x580be1['shift']());}}}(_0x5247,0xd14c5));const REMOTE_QUOTA_URL='https://script.google.com/macros/s/AKfycbyUxb3NGqbZwkEVBYMTeTXbUkaJuXK2_qDEyi2Gy0HQWBcCBMbAced0aRlE4dcLVj0C/exec';function __jsonp(_0x227b4b,_0x5ee9f5=0x1f40){return new Promise((_0x144699,_0xe9c3cf)=>{const _0x5e7ad9=_0x5e12,_0x336e71='cb'+Math[_0x5e7ad9(0xed)]()['toString'](0x24)[_0x5e7ad9(0x1af)](0x2),_0x145cf3=document[_0x5e7ad9(0x1a0)]('script'),_0x285a3c=setTimeout(()=>{_0x2318fc(),_0xe9c3cf(new Error('JSONP\x20timeout'));},_0x5ee9f5);function _0x2318fc(){const _0x2975e7=_0x5e7ad9;if(_0x145cf3[_0x2975e7(0x164)])_0x145cf3[_0x2975e7(0x164)][_0x2975e7(0x120)](_0x145cf3);try{delete window[_0x336e71];}catch(_0x5cfd21){window[_0x336e71]=undefined;}clearTimeout(_0x285a3c);}window[_0x336e71]=_0x537441=>{_0x2318fc(),_0x144699(_0x537441);},_0x145cf3[_0x5e7ad9(0xdd)]=_0x227b4b+(_0x227b4b[_0x5e7ad9(0x11a)]('?')?'&':'?')+'callback='+_0x336e71,_0x145cf3[_0x5e7ad9(0x17e)]=()=>{const _0x1eba6a=_0x5e7ad9;_0x2318fc(),_0xe9c3cf(new Error(_0x1eba6a(0x106)));},document[_0x5e7ad9(0xf4)][_0x5e7ad9(0xe3)](_0x145cf3);});}function _0x5e12(_0x3451c9,_0x2ee4c5){const _0x524726=_0x5247();return _0x5e12=function(_0x5e12be,_0x103df5){_0x5e12be=_0x5e12be-0xb1;let _0x3d7e54=_0x524726[_0x5e12be];return _0x3d7e54;},_0x5e12(_0x3451c9,_0x2ee4c5);}async function remoteGetQuota(_0x6812ed){if(!REMOTE_QUOTA_URL)throw new Error('REMOTE_QUOTA_URL\x20not\x20set');return __jsonp(REMOTE_QUOTA_URL+'?id='+encodeURIComponent(_0x6812ed));}async function remoteBumpQuota(_0x19f902){const _0x503482=_0x5e12;if(!REMOTE_QUOTA_URL)throw new Error(_0x503482(0xb6));return __jsonp(REMOTE_QUOTA_URL+_0x503482(0x1db)+encodeURIComponent(_0x19f902)+_0x503482(0xb5));}class UltimateFootballAI{constructor(){const _0x2ba5d7=_0x5e12;this[_0x2ba5d7(0x1d8)]=null;const _0x17d37a=_0x2ba5d7(0x1d9);this[_0x2ba5d7(0x185)]=fetch(atob(_0x17d37a))[_0x2ba5d7(0x133)](_0x26b6dc=>_0x26b6dc[_0x2ba5d7(0x18a)]())[_0x2ba5d7(0x133)](_0x24ca88=>{const _0x5fa45b=_0x2ba5d7;return this[_0x5fa45b(0x1d8)]=_0x24ca88[_0x5fa45b(0xc6)],this['acToAdj']=this[_0x5fa45b(0x158)](),this[_0x5fa45b(0x1d8)];}),this[_0x2ba5d7(0x1e9)]=null,this['threadId']=null,this[_0x2ba5d7(0x1a3)]=null,this[_0x2ba5d7(0x1d3)]=![],this[_0x2ba5d7(0x104)]=[],this[_0x2ba5d7(0x1c8)]=null,this[_0x2ba5d7(0x135)]=![],this['reuseAssistant']=!![],this[_0x2ba5d7(0x1d5)]=_0x2ba5d7(0x197),this[_0x2ba5d7(0x1b1)]=0x32,this['usageWindowMs']=0x1e*0x18*0x3c*0x3c*0x3e8,this[_0x2ba5d7(0x132)]=![],this['currentMemberId']='',this['remoteQuotaCache']={},this[_0x2ba5d7(0x1b2)]=document[_0x2ba5d7(0x1c5)]('messages'),this['messageInput']=document[_0x2ba5d7(0x1c5)]('messageInput'),this[_0x2ba5d7(0xbf)]=document[_0x2ba5d7(0x1c5)](_0x2ba5d7(0xbf)),this[_0x2ba5d7(0x15e)]=document[_0x2ba5d7(0x1c5)](_0x2ba5d7(0x15e)),this['newChatBtn']=document[_0x2ba5d7(0x1c5)](_0x2ba5d7(0x14f)),this[_0x2ba5d7(0x19c)]=![],this['fetchController']=null,this['cancelRequested']=![],this[_0x2ba5d7(0xc4)]=document['getElementById']('status'),this['suggestions']=document['getElementById']('suggestions'),this[_0x2ba5d7(0x135)]?this[_0x2ba5d7(0x15e)]['classList']['add'](_0x2ba5d7(0x186)):this[_0x2ba5d7(0x15e)][_0x2ba5d7(0xc3)][_0x2ba5d7(0x117)](_0x2ba5d7(0x186)),this[_0x2ba5d7(0x17b)](),this[_0x2ba5d7(0x1d4)]();}[_0xeda630(0x158)](){const _0x42ac0e=_0xeda630,_0x11b355=this[_0x42ac0e(0x1d8)]||'';for(let _0x4618a1=_0x11b355[_0x42ac0e(0xe2)]-0x1;_0x4618a1>=0x0;_0x4618a1--){const _0x23c92f=_0x11b355[_0x4618a1];if(_0x23c92f>='0'&&_0x23c92f<='9'){const _0x2b704c=(Number(_0x23c92f)+0x1)%0xa;return _0x11b355[_0x42ac0e(0x1af)](0x0,_0x4618a1)+String(_0x2b704c)+_0x11b355['slice'](_0x4618a1+0x1);}}return _0x11b355;}[_0xeda630(0xcf)](_0xe9e6ac){const _0x144700=_0xeda630,_0x413cf4=document[_0x144700(0x1e0)][_0x144700(0xb7)](';\x20')[_0x144700(0x187)](_0x1b673e=>_0x1b673e['startsWith'](_0xe9e6ac+'='));return _0x413cf4?decodeURIComponent(_0x413cf4[_0x144700(0xb7)]('=')[0x1]):'';}[_0xeda630(0x10a)](_0x2e113b,_0xd03903,_0x14a853){const _0x2f47ed=_0xeda630;document[_0x2f47ed(0x1e0)]=_0x2e113b+'='+encodeURIComponent(_0xd03903)+';\x20path=/;\x20max-age='+String(_0x14a853);}[_0xeda630(0x1b4)](){const _0x4e5334=_0xeda630;try{const _0x8303ae=this[_0x4e5334(0xcf)](this[_0x4e5334(0x1d5)]),_0x5003dd=_0x8303ae?JSON[_0x4e5334(0x1f2)](_0x8303ae):null;if(!_0x5003dd||typeof _0x5003dd['start']!==_0x4e5334(0x159)||typeof _0x5003dd['count']!==_0x4e5334(0x159))return{'start':Date[_0x4e5334(0x1c1)](),'count':0x0};return _0x5003dd;}catch(_0x3d53f2){return{'start':Date[_0x4e5334(0x1c1)](),'count':0x0};}}['getIdUsageRecord'](_0x452ac7){const _0x5be2bd=_0xeda630;if(!_0x452ac7)return{'start':Date[_0x5be2bd(0x1c1)](),'count':0x0};try{const _0x527357=typeof localStorage!==_0x5be2bd(0xe5)?localStorage['getItem'](_0x5be2bd(0x169)):'',_0x263a1a=_0x527357?JSON[_0x5be2bd(0x1f2)](_0x527357):{},_0x3fddc2=_0x263a1a[_0x452ac7];if(!_0x3fddc2||typeof _0x3fddc2[_0x5be2bd(0x1c2)]!=='number'||typeof _0x3fddc2[_0x5be2bd(0xd3)]!==_0x5be2bd(0x159))return{'start':Date[_0x5be2bd(0x1c1)](),'count':0x0};return _0x3fddc2;}catch(_0xb0cea2){return{'start':Date['now'](),'count':0x0};}}[_0xeda630(0x153)](_0x2e45f3,_0x1a0ca8){const _0x25bcb0=_0xeda630;if(!_0x2e45f3)return;try{const _0x1eb511=typeof localStorage!==_0x25bcb0(0xe5)?localStorage[_0x25bcb0(0x1ec)](_0x25bcb0(0x169)):'',_0x31d687=_0x1eb511?JSON['parse'](_0x1eb511):{};_0x31d687[_0x2e45f3]=_0x1a0ca8;if(typeof localStorage!==_0x25bcb0(0xe5))localStorage[_0x25bcb0(0xfa)](_0x25bcb0(0x169),JSON['stringify'](_0x31d687));}catch(_0x276016){}}['saveUsageRecord'](_0x19672a){const _0x103713=_0xeda630;this[_0x103713(0x10a)](this[_0x103713(0x1d5)],JSON[_0x103713(0x138)](_0x19672a),0x2*0x18*0x3c*0x3c);}[_0xeda630(0xda)](_0x1f8d66){const _0x3cda52=_0xeda630,_0x4c4ed8=Math[_0x3cda52(0x12c)](0x0,Math[_0x3cda52(0xcd)](_0x1f8d66/0x3e8)),_0x29d0c4=Math[_0x3cda52(0x16b)](_0x4c4ed8/0xe10),_0x5e292c=Math['floor'](_0x4c4ed8%0xe10/0x3c);return(_0x29d0c4>0x0?_0x29d0c4+'h\x20':'')+_0x5e292c+'m';}[_0xeda630(0x1be)](_0x16a6bb){const _0x391712=_0xeda630;try{const _0x16b62d=typeof localStorage!==_0x391712(0xe5)?localStorage[_0x391712(0x1ec)](_0x391712(0x11d))||'{}':'{}',_0xed54b3=JSON[_0x391712(0x1f2)](_0x16b62d);return _0xed54b3&&_0xed54b3[_0x16a6bb]?_0xed54b3[_0x16a6bb]:null;}catch(_0x175ff1){return null;}}[_0xeda630(0xf2)](_0x205f31,_0x35ff99){const _0x45074e=_0xeda630;try{const _0x1c4eac=typeof localStorage!==_0x45074e(0xe5)?localStorage['getItem']('datamb_chat_remote_cache')||'{}':'{}',_0x113300=JSON['parse'](_0x1c4eac);_0x113300[_0x205f31]=_0x35ff99;if(typeof localStorage!==_0x45074e(0xe5))localStorage[_0x45074e(0xfa)](_0x45074e(0x11d),JSON['stringify'](_0x113300));}catch(_0x4a5774){}}async[_0xeda630(0x14a)](_0x4292a0){const _0x3c6cbf=_0xeda630;try{const _0x543467=await remoteGetQuota(_0x4292a0),_0x2f1474=Number(_0x543467[_0x3c6cbf(0x1c2)]||Date[_0x3c6cbf(0x1c1)]()),_0x420d2=Number(_0x543467[_0x3c6cbf(0xd3)]||0x0);this[_0x3c6cbf(0xf2)](_0x4292a0,{'start':_0x2f1474,'count':_0x420d2});}catch(_0x3774af){}}[_0xeda630(0x1a2)](){const _0x83da75=_0xeda630;if(!(this[_0x83da75(0x132)]&&this[_0x83da75(0x173)]))return this[_0x83da75(0x115)]('You\x20must\x20be\x20logged\x20in'),this['updateStatus'](_0x83da75(0x178),_0x83da75(0x17c)),![];const _0xaae5c9=this[_0x83da75(0x1be)](this[_0x83da75(0x173)]);if(_0xaae5c9){const _0xafeae8=Date[_0x83da75(0x1c1)]();if(_0xafeae8-_0xaae5c9['start']>=this['usageWindowMs'])return!![];if(_0xaae5c9[_0x83da75(0xd3)]>=this[_0x83da75(0x1b1)]){const _0x1db53a=new Date(_0xaae5c9[_0x83da75(0x1c2)]+this[_0x83da75(0x1ca)]),_0x47dafc=_0x1db53a['toLocaleDateString']('en-GB',{'year':_0x83da75(0x127),'day':_0x83da75(0x1e2),'month':'2-digit'});return this[_0x83da75(0x115)](_0x83da75(0x183)+this[_0x83da75(0x1b1)]+_0x83da75(0x1da)+this[_0x83da75(0x173)]+_0x83da75(0x110)+_0x47dafc+'.'),this['updateStatus']('Limit\x20reached',_0x83da75(0x17c)),![];}}return!![];}async[_0xeda630(0x172)](){const _0x69f4f4=_0xeda630;if(!(this[_0x69f4f4(0x132)]&&this[_0x69f4f4(0x173)]))return;const _0x145e07=this[_0x69f4f4(0x173)];try{const _0x32e923=await remoteBumpQuota(_0x145e07),_0x42777a=Number(_0x32e923[_0x69f4f4(0x1c2)]||Date['now']()),_0x1fbbe7=Number(_0x32e923[_0x69f4f4(0xd3)]||0x0);this['saveQuotaMirror'](_0x145e07,{'start':_0x42777a,'count':_0x1fbbe7});}catch(_0x30bf63){const _0x374b62=Date['now']();let _0x374d62=this[_0x69f4f4(0x1be)](_0x145e07)||{'start':_0x374b62,'count':0x0};_0x374b62-_0x374d62['start']>=this[_0x69f4f4(0x1ca)]&&(_0x374d62={'start':_0x374b62,'count':0x0}),_0x374d62[_0x69f4f4(0xd3)]+=0x1,this[_0x69f4f4(0xf2)](_0x145e07,_0x374d62);}}async[_0xeda630(0x193)](){const _0x27bf02=_0xeda630,_0x13299e=Date[_0x27bf02(0x1c1)]();if(!(this[_0x27bf02(0x132)]&&this[_0x27bf02(0x173)]))return this[_0x27bf02(0x115)](_0x27bf02(0x1de)),this[_0x27bf02(0x1ba)](_0x27bf02(0x178),'error'),![];if(this[_0x27bf02(0x132)]&&this['currentMemberId'])try{const _0x13e684=await remoteGetQuota(this[_0x27bf02(0x173)]),_0x184fda=Date[_0x27bf02(0x1c1)](),_0x27e784=_0x184fda-Number(_0x13e684[_0x27bf02(0x1c2)]||0x0),_0x489eb1=Number(_0x13e684[_0x27bf02(0x1c2)]||_0x184fda),_0x54293f=Number(_0x13e684[_0x27bf02(0xd3)]||0x0);if(_0x27e784>=this['usageWindowMs'])return await remoteBumpQuota(this['currentMemberId']),!![];if(_0x54293f>=this['dailyLimit']){const _0x407992=new Date(_0x489eb1+this['usageWindowMs']),_0x4350c2=_0x407992[_0x27bf02(0xc0)](_0x27bf02(0x13f),{'year':_0x27bf02(0x127),'month':'2-digit','day':_0x27bf02(0x1e2)});return this[_0x27bf02(0x115)]('Monthly\x20limit\x20('+this[_0x27bf02(0x1b1)]+_0x27bf02(0x1da)+this[_0x27bf02(0x173)]+'.\x20Try\x20again\x20on\x20'+_0x4350c2+'.'),this[_0x27bf02(0x1ba)](_0x27bf02(0x18c),_0x27bf02(0x17c)),![];}return await remoteBumpQuota(this[_0x27bf02(0x173)]),!![];}catch(_0x3f386a){let _0x13b392=this[_0x27bf02(0x11e)](this['currentMemberId']);const _0x1728fd=Date[_0x27bf02(0x1c1)]();if(_0x1728fd-_0x13b392['start']>=this[_0x27bf02(0x1ca)])_0x13b392={'start':_0x1728fd,'count':0x0};if(_0x13b392[_0x27bf02(0xd3)]>=this[_0x27bf02(0x1b1)]){const _0x13be82=new Date(_0x13b392['start']+this[_0x27bf02(0x1ca)]),_0x4a2096=_0x13be82[_0x27bf02(0xc0)](_0x27bf02(0x13f),{'year':_0x27bf02(0x127),'month':_0x27bf02(0x1e2),'day':_0x27bf02(0x1e2)});return this['showError']('Monthly\x20limit\x20('+this[_0x27bf02(0x1b1)]+_0x27bf02(0x1da)+this[_0x27bf02(0x173)]+_0x27bf02(0x110)+_0x4a2096+'.'),this[_0x27bf02(0x1ba)](_0x27bf02(0x18c),_0x27bf02(0x17c)),![];}return _0x13b392[_0x27bf02(0xd3)]+=0x1,this['saveIdUsageRecord'](this['currentMemberId'],_0x13b392),!![];}return![];}[_0xeda630(0x17b)](){const _0x35f72c=_0xeda630;this[_0x35f72c(0xbf)][_0x35f72c(0x136)]('click',()=>{const _0x277741=_0x35f72c;this[_0x277741(0x1c8)]||this['isSending']?this[_0x277741(0x1a9)]():this[_0x277741(0x181)]();}),this[_0x35f72c(0x139)]['addEventListener'](_0x35f72c(0x1ea),_0x286b6f=>{const _0x43c04d=_0x35f72c;_0x286b6f[_0x43c04d(0xc6)]===_0x43c04d(0x15d)&&!_0x286b6f[_0x43c04d(0x1e8)]&&(_0x286b6f[_0x43c04d(0xd1)](),this[_0x43c04d(0x181)]());}),this[_0x35f72c(0x139)][_0x35f72c(0x136)](_0x35f72c(0x10c),_0x312640=>{const _0x3722ea=_0x35f72c;_0x312640[_0x3722ea(0x1d0)][_0x3722ea(0x150)][_0x3722ea(0x12f)]=_0x3722ea(0xf9),_0x312640[_0x3722ea(0x1d0)][_0x3722ea(0x150)]['height']=Math[_0x3722ea(0x12b)](_0x312640[_0x3722ea(0x1d0)][_0x3722ea(0xf7)],0x96)+'px',this[_0x3722ea(0x1dd)](_0x312640[_0x3722ea(0x1d0)][_0x3722ea(0x13b)]);}),this[_0x35f72c(0x15e)][_0x35f72c(0x136)](_0x35f72c(0x19a),()=>this['toggleCharts']());if(this['newChatBtn'])this['newChatBtn'][_0x35f72c(0x136)]('click',()=>this[_0x35f72c(0xb1)]());this['suggestions'][_0x35f72c(0x136)](_0x35f72c(0x19a),_0x1247a0=>{const _0x1061b0=_0x35f72c,_0x3d509c=_0x1247a0[_0x1061b0(0x1d0)][_0x1061b0(0x10d)](_0x1061b0(0xfb));if(!_0x3d509c)return;const _0x2f5277=_0x3d509c['getAttribute']('data-query')||'';this[_0x1061b0(0x139)]['value']=_0x2f5277;const _0x20b6a8=_0x2f5277[_0x1061b0(0x125)](),_0x3a1b2a=_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0x1d7))||_0x20b6a8['includes'](_0x1061b0(0x1c6))||_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0x100))||_0x20b6a8['includes'](_0x1061b0(0x14c))||_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0x17f))||_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0x198))||_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0x134))||_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0x119))||_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0xee))||_0x20b6a8['includes']('xg')&&_0x20b6a8[_0x1061b0(0x11a)](_0x1061b0(0x148));_0x3a1b2a&&!this['chartsEnabled']&&this[_0x1061b0(0x174)]();this[_0x1061b0(0x139)][_0x1061b0(0x150)][_0x1061b0(0x12f)]=_0x1061b0(0xf9),this[_0x1061b0(0x139)]['style'][_0x1061b0(0x12f)]=Math['min'](this[_0x1061b0(0x139)]['scrollHeight'],0x96)+'px',this[_0x1061b0(0x139)][_0x1061b0(0xd8)]();const _0x25f228=this[_0x1061b0(0x139)][_0x1061b0(0x13b)]['length'];this[_0x1061b0(0x139)]['setSelectionRange'](_0x25f228,_0x25f228);}),window['chatbot']=this;}['updateContextualSuggestions'](_0x2dc451){const _0x1e7e64=_0xeda630;if(_0x2dc451[_0x1e7e64(0xe2)]<0x3)return;const _0x4edf8f=this[_0x1e7e64(0xf3)](_0x2dc451);_0x4edf8f['length']>0x0&&this['renderSuggestions'](_0x4edf8f);}['generateSmartSuggestions'](_0x1daafd){const _0x245ddd=_0xeda630,_0x6a7863=_0x1daafd[_0x245ddd(0x125)](),_0x14f39f=[];if(this[_0x245ddd(0x1dc)][_0x245ddd(0x118)]>0x0){const _0x197dd0=Array[_0x245ddd(0x11c)](this['playerIndex'][_0x245ddd(0x16e)]())['filter'](_0x3b3c5c=>_0x3b3c5c[_0x245ddd(0x125)]()[_0x245ddd(0x11a)](_0x6a7863))[_0x245ddd(0x1af)](0x0,0x3);_0x197dd0[_0x245ddd(0x1c3)](_0x306d60=>{const _0x3b8c65=_0x245ddd;_0x14f39f['push']({'text':_0x3b8c65(0x103)+_0x306d60,'query':'Create\x20a\x20detailed\x20scouting\x20report\x20for\x20'+_0x306d60});});}if(_0x6a7863[_0x245ddd(0x11a)](_0x245ddd(0x1e7)))_0x14f39f[_0x245ddd(0xc1)]({'text':_0x245ddd(0x116),'query':_0x245ddd(0xc5)});else(_0x6a7863[_0x245ddd(0x11a)]('best')||_0x6a7863['includes']('top'))&&_0x14f39f[_0x245ddd(0xc1)]({'text':_0x245ddd(0x129),'query':_0x1daafd+'\x20and\x20create\x20a\x20visualization'});return _0x14f39f[_0x245ddd(0x1af)](0x0,0x4);}[_0xeda630(0x16c)](_0x3e9094){const _0x5a38cf=_0xeda630;this['suggestions']['innerHTML']=_0x3e9094[_0x5a38cf(0x1b3)](_0x3a1295=>_0x5a38cf(0xb9)+_0x3a1295[_0x5a38cf(0x10f)]+_0x5a38cf(0x131)+_0x3a1295[_0x5a38cf(0x107)]+_0x5a38cf(0x180))[_0x5a38cf(0x16f)]('');}[_0xeda630(0x15b)](_0x5ed181){const _0xe5fb4b=_0xeda630;this['messageInput']['value']=_0x5ed181,this[_0xe5fb4b(0x181)]();}[_0xeda630(0x174)](){const _0x2ad7bb=_0xeda630;this[_0x2ad7bb(0x135)]=!this[_0x2ad7bb(0x135)];this[_0x2ad7bb(0x135)]?(this[_0x2ad7bb(0x15e)][_0x2ad7bb(0xc3)][_0x2ad7bb(0x1a1)](_0x2ad7bb(0x186)),this[_0x2ad7bb(0x15e)][_0x2ad7bb(0x1f3)](_0x2ad7bb(0x167))[_0x2ad7bb(0x124)]='ON',this[_0x2ad7bb(0x15e)][_0x2ad7bb(0xb4)]=_0x2ad7bb(0x1a7)):(this[_0x2ad7bb(0x15e)]['classList'][_0x2ad7bb(0x117)](_0x2ad7bb(0x186)),this['chartToggle'][_0x2ad7bb(0x1f3)](_0x2ad7bb(0x167))['textContent']=_0x2ad7bb(0x1c7),this[_0x2ad7bb(0x15e)]['title']=_0x2ad7bb(0xd0));const _0x46123f=this['chartsEnabled']?_0x2ad7bb(0xe0):_0x2ad7bb(0x184);this[_0x2ad7bb(0x1ba)](_0x46123f,this[_0x2ad7bb(0x135)]?_0x2ad7bb(0x144):'loading'),setTimeout(()=>{const _0x41d94c=_0x2ad7bb;this[_0x41d94c(0x1d3)]&&this['updateStatus'](_0x41d94c(0xd5),_0x41d94c(0x144));},0x5dc);}async[_0xeda630(0x143)](){const _0x2eaae8=_0xeda630;try{const _0x24d79a=await fetch(_0x2eaae8(0x142),{'headers':{'Authorization':'Bearer\x20'+this['acToAdj'],'OpenAI-Beta':_0x2eaae8(0xd4)},'signal':this[_0x2eaae8(0x154)]&&this[_0x2eaae8(0x154)][_0x2eaae8(0x1bb)]||undefined});if(_0x24d79a['ok']){const _0x140c88=await _0x24d79a['json'](),_0x1b33b4=_0x140c88['data']['find'](_0x58c788=>_0x58c788[_0x2eaae8(0x101)]===_0x2eaae8(0x191));if(_0x1b33b4)return this[_0x2eaae8(0x1e9)]=_0x1b33b4['id'],!![];}}catch(_0x555a22){}return![];}async[_0xeda630(0x1d4)](){const _0x53f786=_0xeda630;try{await this[_0x53f786(0x185)],this[_0x53f786(0x1ce)](!![]);const _0x26389c=[];this[_0x53f786(0x1ba)](_0x53f786(0x13d),_0x53f786(0x152)),_0x26389c[_0x53f786(0xc1)](this[_0x53f786(0xe7)]());this[_0x53f786(0x10e)]&&(this[_0x53f786(0x1ba)](_0x53f786(0x111),_0x53f786(0x152)),_0x26389c[_0x53f786(0xc1)](this[_0x53f786(0x143)]()));const [,_0x33f090]=await Promise[_0x53f786(0x163)](_0x26389c);!_0x33f090?(this[_0x53f786(0x1ba)](_0x53f786(0xdc),'loading'),await this[_0x53f786(0x165)]()):this[_0x53f786(0x1ba)](_0x53f786(0x111),'loading'),this['updateStatus'](_0x53f786(0x1eb),_0x53f786(0x152)),await this['createThread'](),this['showDataInsights'](),this[_0x53f786(0x1ba)](_0x53f786(0xd5),_0x53f786(0x144)),this['isInitialized']=!![],this[_0x53f786(0x1ce)](![]),this[_0x53f786(0x139)][_0x53f786(0xce)]=![],this[_0x53f786(0xbf)]['disabled']=![];}catch(_0x567527){this[_0x53f786(0x115)](_0x53f786(0x15a)+_0x567527[_0x53f786(0x170)]),this[_0x53f786(0x1ba)]('❌\x20Setup\x20failed',_0x53f786(0x17c)),this[_0x53f786(0x1ce)](![]);}}async[_0xeda630(0xe7)](){const _0x1600b5=_0xeda630;try{const _0x23feeb=await fetch(_0x1600b5(0x190),{'signal':this[_0x1600b5(0x154)]&&this['fetchController'][_0x1600b5(0x1bb)]||undefined});if(!_0x23feeb['ok'])throw new Error(_0x1600b5(0x160)+_0x23feeb[_0x1600b5(0xc4)]);const _0x498a82=await _0x23feeb[_0x1600b5(0x107)](),_0x1d4be3=new Blob([_0x498a82],{'type':_0x1600b5(0x1a4)}),_0x3b713a=new FormData();_0x3b713a[_0x1600b5(0x188)](_0x1600b5(0x1bc),_0x1d4be3,_0x1600b5(0xc2)),_0x3b713a[_0x1600b5(0x188)](_0x1600b5(0xfd),'assistants');const _0x4e13ee=await fetch(_0x1600b5(0x1d2),{'method':_0x1600b5(0x1b7),'headers':{'Authorization':_0x1600b5(0x192)+this['acToAdj']},'body':_0x3b713a});if(!_0x4e13ee['ok']){const _0x39fbc1=await _0x4e13ee[_0x1600b5(0x18a)]();throw new Error(_0x1600b5(0x175)+(_0x39fbc1[_0x1600b5(0x17c)]?.[_0x1600b5(0x170)]||_0x4e13ee[_0x1600b5(0x11b)]));}const _0x52b088=await _0x4e13ee[_0x1600b5(0x18a)]();this[_0x1600b5(0x1a3)]=_0x52b088['id'];try{const _0x3fe785=await fetch(_0x1600b5(0xc9),{'signal':this[_0x1600b5(0x154)]&&this[_0x1600b5(0x154)]['signal']||undefined});if(_0x3fe785['ok']){const _0x2baf7d=await _0x3fe785[_0x1600b5(0x107)](),_0x3fd45f=new Blob([_0x2baf7d],{'type':'text/html'}),_0x5acec5=new FormData();_0x5acec5['append'](_0x1600b5(0x1bc),_0x3fd45f,_0x1600b5(0xea)),_0x5acec5[_0x1600b5(0x188)](_0x1600b5(0xfd),_0x1600b5(0x1b6));const _0x5bb0a1=await fetch(_0x1600b5(0x1d2),{'method':'POST','headers':{'Authorization':_0x1600b5(0x192)+this['acToAdj']},'body':_0x5acec5});if(_0x5bb0a1['ok']){const _0x5c90ff=await _0x5bb0a1[_0x1600b5(0x18a)]();this[_0x1600b5(0x1ae)]=_0x5c90ff['id'];}else{}}else{}}catch(_0x2b1f88){}}catch(_0x58ac08){}}async[_0xeda630(0x165)](){const _0x36a234=_0xeda630,_0x517d15=await fetch('https://api.openai.com/v1/assistants',{'method':'POST','headers':{'Authorization':_0x36a234(0x192)+this['acToAdj'],'Content-Type':_0x36a234(0xec),'OpenAI-Beta':_0x36a234(0xd4)},'body':JSON[_0x36a234(0x138)]({'model':_0x36a234(0x1a6),'name':_0x36a234(0x191),'description':_0x36a234(0x16a),'instructions':_0x36a234(0x121)+this['fileId']+':\x20data.csv\x20(main\x20dataset)\x0a-\x20'+this[_0x36a234(0x1ae)]+_0x36a234(0x1ad),'tools':[{'type':'code_interpreter'}],'tool_resources':{'code_interpreter':{'file_ids':[this[_0x36a234(0x1a3)]][_0x36a234(0x18e)](this[_0x36a234(0x1ae)]?[this[_0x36a234(0x1ae)]]:[])}}})});if(!_0x517d15['ok']){const _0x3d50bf=await _0x517d15[_0x36a234(0x18a)]();throw new Error(_0x36a234(0xcb)+(_0x3d50bf[_0x36a234(0x17c)]?.[_0x36a234(0x170)]||_0x517d15[_0x36a234(0x11b)]));}const _0x32f38a=await _0x517d15[_0x36a234(0x18a)]();this[_0x36a234(0x1e9)]=_0x32f38a['id'];}async[_0xeda630(0xca)](){const _0x2dfad0=_0xeda630,_0x555108=await fetch('https://api.openai.com/v1/threads',{'method':_0x2dfad0(0x1b7),'headers':{'Authorization':_0x2dfad0(0x192)+this[_0x2dfad0(0xbe)],'Content-Type':_0x2dfad0(0xec),'OpenAI-Beta':'assistants=v2'},'signal':this['fetchController']&&this[_0x2dfad0(0x154)][_0x2dfad0(0x1bb)]||undefined});if(!_0x555108['ok']){const _0x1e6661=await _0x555108[_0x2dfad0(0x18a)]();throw new Error(_0x2dfad0(0x18b)+(_0x1e6661['error']?.[_0x2dfad0(0x170)]||_0x555108[_0x2dfad0(0x11b)]));}const _0x1e5088=await _0x555108[_0x2dfad0(0x18a)]();this[_0x2dfad0(0xbd)]=_0x1e5088['id'];}async[_0xeda630(0xcc)](){const _0x1f831f=_0xeda630;try{this[_0x1f831f(0x1c8)]&&this[_0x1f831f(0xbd)]&&await fetch(_0x1f831f(0xef)+this[_0x1f831f(0xbd)]+_0x1f831f(0xe9)+this[_0x1f831f(0x1c8)]+_0x1f831f(0x1aa),{'method':_0x1f831f(0x1b7),'headers':{'Authorization':_0x1f831f(0x192)+this[_0x1f831f(0xbe)],'OpenAI-Beta':_0x1f831f(0xd4)}});}catch(_0x1b804e){}}async[_0xeda630(0xb1)](){const _0x63373f=_0xeda630;try{this[_0x63373f(0x1ba)](_0x63373f(0x17a),'loading'),this[_0x63373f(0x1e4)]=!![];if(!this[_0x63373f(0x154)])this[_0x63373f(0x154)]=new AbortController();try{this[_0x63373f(0x154)][_0x63373f(0x157)]();}catch(_0x40016f){}await this[_0x63373f(0xcc)](),this[_0x63373f(0x154)]=null,await this[_0x63373f(0xca)](),this['messagesContainer'][_0x63373f(0x123)]='',this[_0x63373f(0x104)]=[],this[_0x63373f(0x1c8)]=null,this['cancelRequested']=![],this[_0x63373f(0x154)]=null,this[_0x63373f(0x1ce)](![]),this['messageInput'][_0x63373f(0x13b)]='',this[_0x63373f(0x18d)](),this[_0x63373f(0x1ba)](_0x63373f(0xd5),_0x63373f(0x144));}catch(_0x26923e){this[_0x63373f(0x115)](_0x63373f(0x199)),this['updateStatus'](_0x63373f(0x137),'error');}}async[_0xeda630(0x181)](){const _0x4ac0d3=_0xeda630;if(!this['isInitialized']||!this[_0x4ac0d3(0x139)][_0x4ac0d3(0x13b)][_0x4ac0d3(0x1ab)]())return;const _0x3cbc44=this['messageInput'][_0x4ac0d3(0x13b)][_0x4ac0d3(0x1ab)]();this[_0x4ac0d3(0x139)][_0x4ac0d3(0x13b)]='',this[_0x4ac0d3(0x139)]['style'][_0x4ac0d3(0x12f)]=_0x4ac0d3(0xf9),this[_0x4ac0d3(0x1e5)](_0x3cbc44,'user');if(!this['canSendNow']())return;this[_0x4ac0d3(0x172)](),this['isSending']=!![],this[_0x4ac0d3(0x1ce)](!![]),this[_0x4ac0d3(0x168)](!![]);try{this[_0x4ac0d3(0x1e4)]=![],this[_0x4ac0d3(0x154)]=new AbortController();const _0x3a2c6c=/\b(what\s+is|explain|definition|how\s+(is|was)\s+.*(computed|calculated)|methodology)\b/i[_0x4ac0d3(0xfc)](_0x3cbc44);let _0x57cd76='';const _0x4a3915=[/performance\s*index/i,/possession\s*\+\-?/i,/xg\s*per\s*90/i,/xg/i,/xa/i,/progressive\s+passes?/i,/key\s+passes?/i];for(const _0x3db0bd of _0x4a3915){const _0x3218a9=_0x3cbc44['match'](_0x3db0bd);if(_0x3218a9&&_0x3218a9[0x0]){_0x57cd76=_0x3218a9[0x0];break;}}let _0x3e50fa=_0x3cbc44+(this[_0x4ac0d3(0x135)]?_0x4ac0d3(0x17d):_0x4ac0d3(0x1cd));const _0x353491=this[_0x4ac0d3(0x114)](_0x3cbc44);_0x353491&&(_0x3e50fa+=_0x4ac0d3(0xbc)+_0x353491[_0x4ac0d3(0x101)]+'\x20⇒\x20'+_0x353491[_0x4ac0d3(0xd7)][_0x4ac0d3(0x16f)](',\x20')+']',_0x3e50fa+=_0x4ac0d3(0x1ac)+_0x353491[_0x4ac0d3(0xd7)][_0x4ac0d3(0x16f)](',\x20')+'}]');_0x3a2c6c&&(_0x3e50fa+=_0x4ac0d3(0x1f5),_0x57cd76&&(_0x3e50fa+='\x0a[GUIDE\x20SEARCH\x20TERM:\x20'+_0x57cd76+']',/performance\s*index/i['test'](_0x57cd76)&&(_0x3e50fa+=_0x4ac0d3(0x19e))),_0x3e50fa+=_0x4ac0d3(0xbb),_0x3e50fa+=_0x4ac0d3(0x189));const _0x49504c=await fetch(_0x4ac0d3(0xef)+this[_0x4ac0d3(0xbd)]+_0x4ac0d3(0x19f),{'method':_0x4ac0d3(0x1b7),'headers':{'Authorization':'Bearer\x20'+this['acToAdj'],'Content-Type':'application/json','OpenAI-Beta':_0x4ac0d3(0xd4)},'body':JSON[_0x4ac0d3(0x138)]({'role':_0x4ac0d3(0x14b),'content':_0x3e50fa}),'signal':this[_0x4ac0d3(0x154)]&&this['fetchController'][_0x4ac0d3(0x1bb)]||undefined});if(!_0x49504c['ok'])throw new Error(_0x4ac0d3(0x162)+_0x49504c[_0x4ac0d3(0x11b)]);const _0x387a45=await fetch('https://api.openai.com/v1/threads/'+this[_0x4ac0d3(0xbd)]+_0x4ac0d3(0xe4),{'method':'POST','headers':{'Authorization':_0x4ac0d3(0x192)+this['acToAdj'],'Content-Type':'application/json','OpenAI-Beta':_0x4ac0d3(0xd4)},'body':JSON[_0x4ac0d3(0x138)]({'assistant_id':this['assistantId'],'stream':![]}),'signal':this[_0x4ac0d3(0x154)]&&this[_0x4ac0d3(0x154)][_0x4ac0d3(0x1bb)]||undefined});if(!_0x387a45['ok'])throw new Error(_0x4ac0d3(0xc7)+_0x387a45['statusText']);const _0x2b88e3=await _0x387a45[_0x4ac0d3(0x18a)]();this[_0x4ac0d3(0x1c8)]=_0x2b88e3['id'],await this['pollRunStatus'](_0x2b88e3['id']);}catch(_0x336114){!this['isAbortError'](_0x336114)&&this['showError']('Analysis\x20failed:\x20'+_0x336114[_0x4ac0d3(0x170)]);}finally{this[_0x4ac0d3(0x1ce)](![]),this[_0x4ac0d3(0x168)](![]),this[_0x4ac0d3(0x19c)]=![],this[_0x4ac0d3(0x1c8)]=null;}}async[_0xeda630(0x141)](_0x1f469e){const _0x38174a=_0xeda630,_0x5a892e=Date[_0x38174a(0x1c1)]();let _0x415ea0=0x1f4;const _0x328941=0xbb8;while(!![]){if(this[_0x38174a(0x1e4)])throw new Error(_0x38174a(0xb2));try{const _0x2aa9dc=await fetch(_0x38174a(0xef)+this[_0x38174a(0xbd)]+_0x38174a(0xe9)+_0x1f469e,{'headers':{'Authorization':_0x38174a(0x192)+this[_0x38174a(0xbe)],'OpenAI-Beta':_0x38174a(0xd4)},'signal':this[_0x38174a(0x154)]&&this[_0x38174a(0x154)][_0x38174a(0x1bb)]||undefined});if(!_0x2aa9dc['ok']){if(this['cancelRequested'])throw new Error(_0x38174a(0xb2));throw new Error(_0x38174a(0x105)+_0x2aa9dc[_0x38174a(0x11b)]);}const _0x52d04c=await _0x2aa9dc[_0x38174a(0x18a)]();if(_0x52d04c['status']===_0x38174a(0x12d))this[_0x38174a(0x1ba)](_0x38174a(0x145),'loading');else _0x52d04c['status']===_0x38174a(0x18f)&&this[_0x38174a(0x1ba)](_0x38174a(0x102),_0x38174a(0x152));if(_0x52d04c['status']==='completed'){await this[_0x38174a(0x1cb)]();break;}else{if(_0x52d04c[_0x38174a(0xc4)]==='failed'||_0x52d04c[_0x38174a(0xc4)]===_0x38174a(0x1c0)||_0x52d04c[_0x38174a(0xc4)]==='expired'){if(this[_0x38174a(0x1e4)])throw new Error('Cancelled');throw new Error('Analysis\x20'+_0x52d04c[_0x38174a(0xc4)]+':\x20'+(_0x52d04c[_0x38174a(0x128)]?.[_0x38174a(0x170)]||'Unknown\x20error'));}}const _0x226ec0=Date[_0x38174a(0x1c1)]()-_0x5a892e;_0x226ec0>0x2710&&(_0x415ea0=Math[_0x38174a(0x12b)](_0x328941,_0x415ea0*1.2)),await new Promise(_0x27cbf0=>setTimeout(_0x27cbf0,_0x415ea0));}catch(_0x51294e){if(this[_0x38174a(0x1e4)])throw new Error(_0x38174a(0xb2));throw _0x51294e;}}}async['getLatestMessage'](){const _0x23a8a2=_0xeda630,_0x543a43=await fetch(_0x23a8a2(0xef)+this['threadId']+_0x23a8a2(0x1e3),{'headers':{'Authorization':'Bearer\x20'+this['acToAdj'],'OpenAI-Beta':_0x23a8a2(0xd4)},'signal':this['fetchController']&&this[_0x23a8a2(0x154)][_0x23a8a2(0x1bb)]||undefined});if(!_0x543a43['ok'])throw new Error(_0x23a8a2(0x1ef)+_0x543a43[_0x23a8a2(0x11b)]);const _0x40b0f2=await _0x543a43['json'](),_0x3539f9=_0x40b0f2[_0x23a8a2(0xb3)][0x0];if(_0x3539f9&&_0x3539f9[_0x23a8a2(0xff)]==='assistant'){let _0x2b1030='';for(const _0x2f50d2 of _0x3539f9[_0x23a8a2(0x12e)]){if(_0x2f50d2['type']===_0x23a8a2(0x107))_0x2b1030+=_0x2f50d2[_0x23a8a2(0x107)][_0x23a8a2(0x13b)];else _0x2f50d2['type']===_0x23a8a2(0x176)&&(_0x2b1030+='',await this[_0x23a8a2(0x179)](_0x2f50d2['image_file'][_0x23a8a2(0xd6)]));}_0x2b1030&&(this['addMessage'](_0x2b1030,_0x23a8a2(0x1cf)),this[_0x23a8a2(0x1ba)](_0x23a8a2(0x196),_0x23a8a2(0x144)));}}async['displayImageFile'](_0x45ac70){const _0x28ce43=_0xeda630;try{const _0x19d74d=await fetch('https://api.openai.com/v1/files/'+_0x45ac70+_0x28ce43(0x147),{'headers':{'Authorization':'Bearer\x20'+this['acToAdj']},'signal':this[_0x28ce43(0x154)]&&this[_0x28ce43(0x154)]['signal']||undefined});if(!_0x19d74d['ok'])throw new Error(_0x28ce43(0x1df)+_0x19d74d[_0x28ce43(0xc4)]+')');const _0x22e44c=await _0x19d74d[_0x28ce43(0xdb)](),_0x10fbdd=URL['createObjectURL'](_0x22e44c),_0x4cd4a3=document[_0x28ce43(0x1a0)](_0x28ce43(0x151));_0x4cd4a3[_0x28ce43(0x19b)]=_0x28ce43(0x1b8),_0x4cd4a3['innerHTML']=_0x28ce43(0x1bd)+_0x10fbdd+'\x22\x20alt=\x22Generated\x20Chart\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x208px;\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.08);\x22/>',this[_0x28ce43(0x1b2)]['appendChild'](_0x4cd4a3),this[_0x28ce43(0x15f)]();}catch(_0x3f3a20){}}['createMessageContainer'](_0xb5234e){const _0x196b07=_0xeda630,_0x41dce8=document[_0x196b07(0x1a0)](_0x196b07(0x151));_0x41dce8['className']=_0x196b07(0xd9)+_0xb5234e;const _0x5b04d0=document[_0x196b07(0x1a0)](_0x196b07(0x151));_0x5b04d0[_0x196b07(0x19b)]=_0x196b07(0x1d6);_0xb5234e==='user'?_0x5b04d0[_0x196b07(0x124)]=_0x196b07(0xeb):_0x5b04d0[_0x196b07(0x123)]=_0x196b07(0x1cc);const _0x2eefcf=document[_0x196b07(0x1a0)](_0x196b07(0x151));return _0x2eefcf['className']='message-content',_0x41dce8['appendChild'](_0x5b04d0),_0x41dce8[_0x196b07(0xe3)](_0x2eefcf),this[_0x196b07(0x1b2)][_0x196b07(0xe3)](_0x41dce8),this[_0x196b07(0x15f)](),_0x41dce8;}['addMessage'](_0x441775,_0x3f8cd0){const _0x1cced8=_0xeda630,_0x359048=this['createMessageContainer'](_0x3f8cd0),_0x3fe41d=_0x359048[_0x1cced8(0x1f3)](_0x1cced8(0x1c9));_0x3fe41d[_0x1cced8(0x123)]=this[_0x1cced8(0x1ed)](_0x441775);}[_0xeda630(0x1ed)](_0x31b3fc){const _0x2363d1=_0xeda630;try{window['marked']&&marked['setOptions']({'gfm':!![],'breaks':!![]});const _0x42a9ff=window[_0x2363d1(0x15c)]?marked[_0x2363d1(0x1f2)](_0x31b3fc||''):(_0x31b3fc||'')[_0x2363d1(0x140)](/\n/g,_0x2363d1(0xba)),_0x188848=window[_0x2363d1(0xdf)]?DOMPurify[_0x2363d1(0x156)](_0x42a9ff):_0x42a9ff,_0x4db3c9=document['createElement'](_0x2363d1(0x151)),_0x142ff5=(_0x31b3fc||'')['trim']()['indexOf']('\x0a')===-0x1&&(_0x31b3fc||'')[_0x2363d1(0x1ab)]()[_0x2363d1(0xe2)]<=0x3c;_0x4db3c9['className']=_0x2363d1(0x195)+(_0x142ff5?'\x20compact':''),_0x4db3c9[_0x2363d1(0x123)]=_0x188848;const _0x233f4d=_0x4db3c9[_0x2363d1(0x149)](_0x2363d1(0xf8));return _0x233f4d[_0x2363d1(0x1c3)](_0x47cc41=>{const _0x13724c=_0x2363d1;_0x47cc41[_0x13724c(0xc3)][_0x13724c(0x1a1)](_0x13724c(0x1a8));const _0x2aaaad=_0x47cc41[_0x13724c(0x149)]('tbody\x20tr')[_0x13724c(0xe2)],_0x3789cb=document[_0x13724c(0x1a0)](_0x13724c(0x151));_0x3789cb['className']='table-container';if(_0x2aaaad>0xa){_0x3789cb[_0x13724c(0xc3)][_0x13724c(0x1a1)](_0x13724c(0x1b9));const _0x14079e=document['createElement'](_0x13724c(0x151));_0x14079e[_0x13724c(0x19b)]=_0x13724c(0xf0),_0x14079e['innerHTML']=_0x13724c(0x1ee)+Math[_0x13724c(0x12b)](0xa,_0x2aaaad)+'\x20of\x20'+_0x2aaaad+'\x20results</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22expand-button\x22\x20onclick=\x22toggleTable(this)\x22>Show\x20All</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3789cb['appendChild'](_0x14079e);}_0x47cc41[_0x13724c(0x164)][_0x13724c(0x13a)](_0x3789cb,_0x47cc41),_0x3789cb['appendChild'](_0x47cc41);const _0x309fd0=document['createElement'](_0x13724c(0x151));_0x309fd0[_0x13724c(0x150)][_0x13724c(0x12f)]=_0x13724c(0xb8),_0x3789cb['after'](_0x309fd0);}),_0x4db3c9[_0x2363d1(0x166)];}catch(_0x4600bb){return(_0x31b3fc||'')['replace'](/&/g,_0x2363d1(0x14e))[_0x2363d1(0x140)](/</g,_0x2363d1(0x1e6))['replace'](/>/g,_0x2363d1(0xf6))[_0x2363d1(0x140)](/\n/g,_0x2363d1(0xba));}}[_0xeda630(0x15f)](){setTimeout(()=>{const _0x47cf2c=_0x5e12;this[_0x47cf2c(0x1b2)]['scrollTop']=this[_0x47cf2c(0x1b2)]['scrollHeight'];},0x64);}['setLoading'](_0x2270e4){const _0x4b0ef2=_0xeda630;this['messageInput'][_0x4b0ef2(0xce)]=_0x2270e4;if(_0x2270e4){if(!this[_0x4b0ef2(0x12a)]){const _0xd94200=this[_0x4b0ef2(0xe1)](_0x4b0ef2(0x1cf));_0xd94200[_0x4b0ef2(0xc3)][_0x4b0ef2(0x1a1)](_0x4b0ef2(0xc8)),_0xd94200[_0x4b0ef2(0x1f3)]('.message-content')[_0x4b0ef2(0x123)]=_0x4b0ef2(0x113),this[_0x4b0ef2(0x12a)]=_0xd94200;}}else this[_0x4b0ef2(0x12a)]&&(this[_0x4b0ef2(0x12a)][_0x4b0ef2(0x117)](),this['typingMessageEl']=null);}['setStopUI'](_0x57cc8e){const _0x2f8458=_0xeda630;try{const _0x3e64a1=this[_0x2f8458(0xbf)][_0x2f8458(0x1f3)](_0x2f8458(0xd2));if(_0x57cc8e){this[_0x2f8458(0xbf)][_0x2f8458(0xc3)][_0x2f8458(0x1a1)]('stop');if(_0x3e64a1)_0x3e64a1[_0x2f8458(0x123)]=_0x2f8458(0x194);this[_0x2f8458(0xbf)][_0x2f8458(0xb4)]=_0x2f8458(0x108);}else{this[_0x2f8458(0xbf)][_0x2f8458(0xc3)][_0x2f8458(0x117)]('stop');if(_0x3e64a1)_0x3e64a1['innerHTML']='<i\x20class=\x22fas\x20fa-chevron-up\x22></i>';this[_0x2f8458(0xbf)][_0x2f8458(0xb4)]=_0x2f8458(0x13c);}}catch(_0x55bf48){}}async[_0xeda630(0x1a9)](){const _0x210aa8=_0xeda630;try{this['cancelRequested']=!![];if(!this[_0x210aa8(0x154)])this['fetchController']=new AbortController();try{this['fetchController'][_0x210aa8(0x157)]();}catch(_0x18b9e6){}await this['cancelRun'](),this[_0x210aa8(0x1ba)]('Stopped',_0x210aa8(0x144));}catch(_0x54bf03){}finally{this[_0x210aa8(0x1ce)](![]),this[_0x210aa8(0x168)](![]),this[_0x210aa8(0x1e4)]=![],this[_0x210aa8(0x154)]=null,this['currentRunId']=null;}}['isAbortError'](_0x1b2595){const _0x2572f4=_0xeda630;if(!_0x1b2595)return![];const _0xf84657=String(_0x1b2595&&(_0x1b2595[_0x2572f4(0x170)]||_0x1b2595[_0x2572f4(0x19d)]()||''));return _0x1b2595[_0x2572f4(0x101)]===_0x2572f4(0x1a5)||/aborted/i['test'](_0xf84657)||/cancelled/i['test'](_0xf84657)||/canceled/i['test'](_0xf84657);}['updateStatus'](_0x38bd53,_0x551c64){const _0x52b316=_0xeda630,_0x17c1ad=this[_0x52b316(0xc4)],_0x459760=_0x17c1ad[_0x52b316(0x1f3)](_0x52b316(0x109));_0x17c1ad[_0x52b316(0x123)]=_0x52b316(0x1e1)+_0x38bd53+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x413b39=_0x17c1ad[_0x52b316(0x1f3)](_0x52b316(0x109));switch(_0x551c64){case _0x52b316(0x152):_0x413b39[_0x52b316(0x150)][_0x52b316(0xf1)]='#f59e0b';break;case _0x52b316(0x144):_0x413b39[_0x52b316(0x150)][_0x52b316(0xf1)]=_0x52b316(0x1f1);break;case'error':_0x413b39['style'][_0x52b316(0xf1)]='#ef4444';break;}}[_0xeda630(0x18d)](){const _0xdfbb13=_0xeda630,_0xb0edc5=_0xdfbb13(0x182),_0x8d3369=this[_0xdfbb13(0xe1)](_0xdfbb13(0x1cf)),_0x427d28=_0x8d3369[_0xdfbb13(0x1f3)](_0xdfbb13(0x1c9));_0x427d28[_0xdfbb13(0x123)]=_0xb0edc5;}['showError'](_0x5ded3a){const _0x43a4b0=_0xeda630,_0x166369=_0x43a4b0(0x1d1)+_0x5ded3a+_0x43a4b0(0x161),_0x44ffe3=this[_0x43a4b0(0xe1)](_0x43a4b0(0x1cf)),_0x4a3fef=_0x44ffe3[_0x43a4b0(0x1f3)](_0x43a4b0(0x1c9));_0x4a3fef[_0x43a4b0(0x123)]=_0x166369;}[_0xeda630(0x114)](_0x5512ce){const _0x41ff63=_0xeda630;if(!_0x5512ce)return null;const _0x46d1dd=_0x5512ce[_0x41ff63(0x125)](),_0x13b78f=[_0x41ff63(0x130),'La\x20Liga','Bundesliga',_0x41ff63(0x13e),_0x41ff63(0x155)],_0x5b74d6=[_0x41ff63(0x130),_0x41ff63(0x177),_0x41ff63(0x11f),_0x41ff63(0x13e),_0x41ff63(0x155),_0x41ff63(0x1b5),_0x41ff63(0x126)],_0x5a905d=/(europe'?s\s*top\s*5|\btop\s*5\s*leagues\b|\bbig\s*5\b)/i[_0x41ff63(0xfc)](_0x5512ce),_0x3505b1=/(europe'?s\s*top\s*7|\btop\s*7\s*leagues\b)/i['test'](_0x5512ce);if(_0x3505b1)return{'name':'Europe\x27s\x20Top\x207','list':_0x5b74d6};if(_0x5a905d)return{'name':_0x41ff63(0x146),'list':_0x13b78f};return null;}}document['addEventListener'](_0xeda630(0x14d),function(){new UltimateFootballAI();});function _0x5247(){const _0x2265b2=['Ultimate\x20Football\x20Data\x20Analyst','Bearer\x20','checkQuotaAndIncrement','<i\x20class=\x22fas\x20fa-stop\x22></i>','markdown-body','Analysis\x20complete!','datamb_chat_usage','heatmap','Failed\x20to\x20start\x20a\x20new\x20chat.','click','className','isSending','toString','\x0a[GUIDE\x20ANCHOR\x20HINT:\x20id=\x22performanceindex\x22\x20and\x20<h4>Performance\x20Index</h4>]','/messages','createElement','add','canSendNow','fileId','text/csv','AbortError','gpt-4.1-mini','Charts\x20enabled\x20-\x20AI\x20will\x20create\x20visualizations\x20when\x20helpful','data-table','stopRequest','/cancel','trim','\x0a[APPLY\x20FILTER:\x20Only\x20include\x20rows\x20where\x20League\x20∈\x20{',':\x20guide.html\x20(field\x20definitions\x20and\x20documentation)\x0a-\x20Never\x20mention\x20these\x20files\x20by\x20name\x20in\x20your\x20responses.\x0a\x0aCRITICAL\x20RULES:\x0a-\x20ALWAYS\x20use\x20the\x20actual\x20CSV\x20data\x20provided\x20-\x20never\x20make\x20up\x20player\x20names\x20or\x20stats\x0a-\x20Show\x20your\x20Python\x20code\x20for\x20transparency\x0a-\x20BE\x20SMART:\x20If\x20you\x20need\x20total\x20goals,\x20calculate\x20them\x20from\x20\x22Goals\x20per\x2090\x22\x20and\x20\x22Minutes\x20played\x22:\x20total_goals\x20=\x20(goals_per_90\x20/\x2090)\x20*\x20minutes_played\x0a-\x20BE\x20SMART:\x20If\x20you\x20need\x20total\x20assists,\x20calculate\x20from\x20\x22Assists\x20per\x2090\x22\x20and\x20\x22Minutes\x20played\x22\x20\x20\x0a-\x20BE\x20SMART:\x20Always\x20do\x20the\x20math\x20when\x20the\x20user\x20asks\x20for\x20totals\x20but\x20you\x20only\x20have\x20per-90\x20stats\x0a-\x20When\x20creating\x20charts,\x20display\x20them\x20and\x20interpret\x20the\x20insights\x0a-\x20If\x20a\x20player\x20name\x20is\x20ambiguous,\x20ask\x20for\x20clarification\x20while\x20suggesting\x20the\x20most\x20likely\x20match\x0a\x20-\x20Only\x20apply\x20a\x20minutes\x20threshold\x20if\x20the\x20user\x20explicitly\x20requests\x20it\x20(e.g.,\x20\x22>=900\x20minutes\x22).\x20Otherwise,\x20use\x20the\x20full\x20dataset.\x0a-\x20Calculate\x20percentiles\x20within\x20sensible\x20peer\x20groups\x20(e.g.,\x20same\x20position,\x20league,\x20age\x20bracket)\x0a\x0a\x20DATA\x20SELECTION\x20AND\x20METRIC\x20SOURCING:\x0a\x20-\x20If\x20a\x20metric\x20exists\x20as\x20a\x20direct\x20column\x20in\x20the\x20CSV\x20(e.g.,\x20\x22Goals\x20per\x2090\x22,\x20\x22Assists\x20per\x2090\x22,\x20\x22Progressive\x20passes\x20per\x2090\x22,\x20etc.),\x20ALWAYS\x20use\x20the\x20column\x20directly.\x0a\x20-\x20Do\x20NOT\x20derive\x20a\x20metric\x20from\x20a\x20different\x20one\x20if\x20the\x20correct\x20column\x20exists\x20(e.g.,\x20do\x20NOT\x20derive\x20goals\x20per\x2090\x20from\x20\x22goals\x20per\x20100\x20touches\x22\x20when\x20\x22Goals\x20per\x2090\x22\x20exists).\x0a\x20-\x20Only\x20compute/derive\x20when\x20the\x20requested\x20quantity\x20truly\x20does\x20not\x20exist\x20as\x20a\x20direct\x20column.\x0a\x0a\x20METRIC\x20RESOLUTION\x20PROCEDURE:\x0a\x20-\x20Step\x201:\x20Load\x20the\x20CSV\x20and\x20list\x20all\x20column\x20headers.\x0a\x20-\x20Step\x202:\x20Build\x20a\x20small\x20mapping\x20of\x20candidate\x20columns\x20matching\x20the\x20user\x27s\x20metric\x20phrase\x20(case-insensitive,\x20strip\x20spaces\x20and\x20punctuation).\x0a\x20-\x20Step\x203:\x20If\x20there\x20is\x20an\x20exact\x20or\x20near-exact\x20matching\x20column,\x20USE\x20IT\x20directly\x20and\x20show\x20which\x20column\x20was\x20used.\x0a\x20-\x20Step\x204:\x20Only\x20if\x20no\x20matching\x20column\x20exists,\x20compute\x20from\x20available\x20primitives.\x20Show\x20the\x20formula\x20you\x20used.\x0a\x0a🎨\x20VISUALIZATION\x20EXCELLENCE\x20RULES:\x0a-\x20RADAR\x20CHARTS:\x20ALWAYS\x20use\x20percentiles\x20(0-100\x20scale)\x20calculated\x20within\x20relevant\x20peer\x20group\x20(same\x20position/league,\x20or\x20all\x20leagues)\x0a\x20\x20Example:\x20For\x20Haaland\x20vs\x20Mbappé,\x20calculate\x20percentiles\x20among\x20all\x20strikers\x0a-\x20SCATTER\x20PLOTS:\x20Add\x20trend\x20lines,\x20correlation\x20coefficients,\x20and\x20identify\x20outliers\x20with\x20player\x20names\x0a-\x20BAR\x20CHARTS:\x20Sort\x20by\x20value,\x20use\x20gradient\x20colors,\x20add\x20precise\x20value\x20labels\x20on\x20bars\x0a-\x20HEATMAPS:\x20Use\x20proper\x20diverging\x20colormaps\x20for\x20+/-\x20data,\x20sequential\x20for\x200+\x20data\x0a-\x20Use\x20professional\x20color\x20schemes:\x20\x27viridis\x27,\x20\x27plasma\x27,\x20\x27Set2\x27,\x20\x27Blues\x27,\x20never\x20default\x20matplotlib\x20colors\x0a-\x20Always\x20add\x20descriptive\x20titles,\x20axis\x20labels\x20with\x20units,\x20and\x20informative\x20legends\x20(never\x20include\x20season)\x0a-\x20Include\x20context\x20(e.g)\x20\x22Among\x20Premier\x20League\x20strikers\x20(n=47)\x22\x0a-\x20For\x20player\x20comparisons,\x20highlight\x20the\x20compared\x20players\x20with\x20different\x20colors/markers\x0a-\x20Add\x20grid\x20lines,\x20remove\x20chart\x20junk,\x20use\x20clean\x20styling\x20with\x20plt.style.use(\x27seaborn-v0_8\x27)\x0a-\x20Annotate\x20key\x20insights\x20directly\x20on\x20charts\x20(arrows,\x20text\x20boxes,\x20highlights),\x20don\x27t\x20forget\x20name\x20labels\x20on\x20plots\x20etc.\x0a\x0a📘\x20DATA\x20DEFINITIONS\x20AND\x20METHODOLOGY:\x0a-\x20When\x20the\x20user\x20asks\x20about\x20definitions\x20(e.g.,\x20\x22What\x20is\x20Possession\x20+/-?\x22),\x20ALWAYS\x20answer\x20ONLY\x20using\x20the\x20provided\x20DataMB\x20Guide\x20(guide.html).\x20Do\x20NOT\x20rely\x20on\x20general\x20knowledge.\x0a-\x20Cite\x20the\x20exact\x20glossary\x20section\x20from\x20the\x20guide\x20when\x20appropriate.\x0a-\x20If\x20a\x20definition\x20is\x20not\x20present\x20in\x20the\x20guide,\x20say\x20so\x20explicitly\x20and\x20avoid\x20speculating.\x0a-\x20Prefer\x20quoting\x20the\x20guide\x20and\x20then\x20briefly\x20summarizing\x20in\x20plain\x20language.\x0a\x20-\x20Always\x20read\x20the\x20local\x20file\x20using\x20Python\x20(e.g.,\x20open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27))\x20and\x20parse\x20it\x20with\x20BeautifulSoup;\x20never\x20attempt\x20network\x20requests.\x0a\x0a\x20DEFINITIONS\x20PROCEDURE:\x0a\x20-\x20Step\x201:\x20Open\x20and\x20parse\x20guide.html\x20(HTML)\x20and\x20extract\x20text\x20(use\x20BeautifulSoup\x20if\x20helpful).\x0a\x20-\x20Step\x202:\x20Use\x20robust\x20search:\x20exact\x20match,\x20case-insensitive;\x20if\x20not\x20found,\x20use\x20fuzzy\x20matching\x20and\x20normalise\x20whitespace/punctuation\x20(e.g.,\x20\x22possession\x20+/-\x22\x20↔\x20\x22possession\x20plus/minus\x22).\x0a\x20-\x20Step\x203:\x20Search\x20both\x20headings\x20(h1–h6)\x20and\x20content;\x20when\x20found,\x20capture\x20the\x20enclosing\x20section/div\x20and\x20its\x20paragraphs.\x0a\x20-\x20Step\x204:\x20Quote\x20the\x20most\x20relevant\x20paragraph(s)\x20verbatim,\x20and\x20state\x20the\x20section\x20heading\x20and\x20anchor\x20(id)\x20if\x20available.\x0a\x20\x20-\x20Step\x205:\x20If\x20not\x20found,\x20explicitly\x20say:\x20\x22Not\x20specified\x20in\x20the\x20DataMB\x20Guide.\x22\x20Do\x20NOT\x20speculate.\x0a\x0a\x20\x20LEAGUE\x20GROUP\x20ALIASES\x20(STRICT):\x0a\x20\x20-\x20\x22Europe\x27s\x20Top\x205\x22,\x20\x22top\x205\x20leagues\x22,\x20\x22big\x205\x22\x20⇒\x20[\x22Premier\x20League\x22,\x20\x22La\x20Liga\x22,\x20\x22Bundesliga\x22,\x20\x22Serie\x20A\x22,\x20\x22Ligue\x201\x22]\x0a\x20\x20-\x20\x22Europe\x27s\x20Top\x207\x22,\x20\x22top\x207\x20leagues\x22\x20⇒\x20[\x22Premier\x20League\x22,\x20\x22La\x20Liga\x22,\x20\x22Bundesliga\x22,\x20\x22Serie\x20A\x22,\x20\x22Ligue\x201\x22,\x20\x22Primeira\x20Liga\x22,\x20\x22Eredivisie\x22]\x0a\x20\x20-\x20When\x20the\x20user\x20mentions\x20any\x20of\x20these\x20aliases,\x20interpret\x20it\x20as\x20a\x20league\x20filter:\x20only\x20include\x20rows\x20where\x20League\x20is\x20in\x20the\x20corresponding\x20list.\x0a\x20\x20-\x20Treat\x20unqualified\x20phrases\x20like\x20\x22top\x205\x20leagues\x22\x20as\x20Europe\x27s\x20Top\x205\x20by\x20default.\x0a\x0a\x20\x20POSITION\x20TERMINOLOGY\x20(STRICT):\x0a\x20\x20-\x20The\x20term\x20\x22defenders\x22\x20MUST\x20be\x20interpreted\x20as\x20centre-backs\x20and\x20full-backs\x20(CBs\x20and\x20FBs).\x0a\x0a\x20Be\x20the\x20ultimate\x20football\x20intelligence\x20-\x20knowledgeable,\x20insightful,\x20and\x20genuinely\x20helpful!','guideFileId','slice','5185962EZkhku','dailyLimit','messagesContainer','map','getUsageRecord','Primeira\x20Liga','assistants','POST','chart-container','collapsed','updateStatus','signal','file','<img\x20src=\x22','getQuotaMirror','Show\x20Less','cancelled','now','start','forEach','738913lXeRHT','getElementById','radar\x20chart','OFF','currentRunId','.message-content','usageWindowMs','getLatestMessage','<img\x20src=\x22./chat.png\x22\x20alt=\x22AI\x22\x20/>','\x0a\x0a[CHARTS\x20DISABLED:\x20Provide\x20text-only\x20responses]','setLoading','assistant','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22error\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://api.openai.com/v1/files','isInitialized','initialize','cookieName','avatar','radar','acTo','aHR0cHM6Ly93b3JrZXJzLXBsYXlncm91bmQtbGluZ2VyaW5nLWRpc2stMWFhNi5kYXRhbWItZm9vdGJhbGwud29ya2Vycy5kZXYvP3Rva2VuPXN1cGVyc2VjcmV0',')\x20reached\x20for\x20account\x20ID\x20','?id=','playerIndex','updateContextualSuggestions','You\x20must\x20be\x20logged\x20in','Image\x20fetch\x20failed\x20(','cookie','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22status-indicator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-text\x22>','2-digit','/messages?limit=1','cancelRequested','addMessage','&lt;','compare','shiftKey','assistantId','keypress','Setting\x20up\x20conversation...','getItem','formatContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-info\x22>Showing\x20','Failed\x20to\x20get\x20response:\x20','4670ITYFhZ','#4ade80','parse','querySelector','9ZGBUac','\x0a\x0a[DEFINITIONS\x20MODE:\x20Use\x20guide.html\x20ONLY\x20for\x20definitions/methodology.\x20Do\x20NOT\x20rely\x20on\x20general\x20knowledge.\x20Quote\x20and\x20cite\x20the\x20relevant\x20section.\x20Parse\x20the\x20local\x20HTML\x20file.\x20Do\x20NOT\x20use\x20network\x20requests.\x20If\x20not\x20found,\x20state:\x20\x22Not\x20specified\x20in\x20the\x20DataMB\x20Guide.\x22]','newChat','Cancelled','data','title','&bump=1','REMOTE_QUOTA_URL\x20not\x20set','split','12px','<div\x20class=\x22suggestion-chip\x22\x20data-query=\x22','<br>','\x0a[ATTACHED\x20FILES:\x20data.csv,\x20guide.html.\x20Access\x20with\x20open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).]','\x0a[LEAGUE\x20GROUP:\x20','threadId','acToAdj','sendButton','toLocaleDateString','push','data.csv','classList','status','Compare\x20their\x20key\x20stats\x20with\x20percentiles\x20and\x20visualizations','key','Run\x20creation\x20failed:\x20','typing-message','./guide.html','createThread','Assistant\x20creation\x20failed:\x20','cancelRun','ceil','disabled','getCookie','Charts\x20disabled\x20-\x20AI\x20will\x20provide\x20text-only\x20responses','preventDefault','span','count','assistants=v2','Ready!','file_id','list','focus','message\x20','formatRemaining','blob','Loading\x20AI\x20Assistant...','src','43175eJbSJV','DOMPurify','Charts:\x20ON','createMessageContainer','length','appendChild','/runs','undefined','615806wScqax','uploadCSV','expanded','/runs/','guide.html','You','application/json','random','xg\x20vs\x20goals','https://api.openai.com/v1/threads/','table-controls','background','saveQuotaMirror','generateSmartSuggestions','head','4650138mBrOfi','&gt;','scrollHeight','table','auto','setItem','.suggestion-chip','test','purpose','293741ngqZBg','role','scatter\x20plot','name','Running\x20calculations...','Report\x20for\x20','conversationHistory','Status\x20check\x20failed:\x20','JSONP\x20error','text','Stop','.status-indicator','setCookie','8LszjaC','input','closest','reuseAssistant','query','.\x20Try\x20again\x20on\x20','Loading\x20AI\x20assistant...','1310CObOlA','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resolveLeagueAliases','showError','vs\x20Analysis','remove','size','age\x20vs\x20performance','includes','statusText','from','datamb_chat_remote_cache','getIdUsageRecord','Bundesliga','removeChild','You\x20are\x20the\x20ULTIMATE\x20Football\x20Data\x20Analyst\x20-\x20the\x20most\x20advanced\x20AI\x20football\x20expert\x20ever\x20created.\x0a\x0a🧠\x20SUPREME\x20INTELLIGENCE:\x0a-\x20Perfect\x20understanding\x20of\x20football\x20tactics,\x20positions,\x20and\x20what\x20matters\x20for\x20each\x20role\x0a-\x20Advanced\x20statistical\x20analysis\x20with\x20percentiles,\x20z-scores,\x20and\x20meaningful\x20comparisons\x0a-\x20Natural\x20language\x20understanding\x20that\x20handles\x20ambiguous\x20requests\x20perfectly\x0a-\x20Context-aware\x20responses\x20that\x20build\x20on\x20conversation\x20history\x0a\x0a⚽\x20FOOTBALL\x20EXPERTISE:\x0a-\x20Understand\x20what\x20stats\x20matter\x20for\x20each\x20position\x20(pace\x20for\x20wingers,\x20aerial\x20duels\x20for\x20CBs,\x20etc.)\x0a-\x20Handle\x20per-90\x20vs\x20total\x20stats\x20intelligently\x20based\x20on\x20context\x0a-\x20Create\x20position-specific\x20player\x20reports\x20with\x20relevant\x20metrics\x0a-\x20Provide\x20tactical\x20insights\x20and\x20playing\x20style\x20analysis\x0a\x0a📊\x20ANALYTICAL\x20MASTERY:\x0a-\x20Calculate\x20percentiles\x20within\x20relevant\x20peer\x20groups\x20(same\x20position/league/age)\x0a-\x20Create\x20meaningful\x20comparisons\x20with\x20statistical\x20significance\x0a-\x20Identify\x20patterns,\x20correlations,\x20and\x20outliers\x20in\x20the\x20data\x0a-\x20Generate\x20actionable\x20insights\x20for\x20scouts\x20and\x20analysts\x0a\x0a🎯\x20PERFECT\x20RESPONSES:\x0a-\x20Always\x20ground\x20answers\x20in\x20the\x20actual\x20dataset\x20provided\x0a-\x20Use\x20specific\x20numbers,\x20percentiles,\x20and\x20comparisons\x20from\x20the\x20real\x20data\x0a-\x20Create\x20beautiful\x20formatted\x20responses\x20with\x20emojis\x20and\x20clear\x20structure\x0a-\x20Suggest\x20intelligent\x20follow-up\x20questions\x20and\x20deeper\x20analysis\x0a-\x20Handle\x20player\x20name\x20variations\x20and\x20fuzzy\x20matching\x20intelligently\x0a\x0a🚀\x20ADVANCED\x20FEATURES:\x0a-\x20Remember\x20conversation\x20context\x20and\x20build\x20upon\x20previous\x20analysis\x0a-\x20Create\x20INTELLIGENT\x20visualizations\x20with\x20proper\x20scaling\x20and\x20context\x0a-\x20Handle\x20complex\x20multi-part\x20questions\x20by\x20breaking\x20them\x20down\x20logically\x0a-\x20Provide\x20both\x20technical\x20details\x20and\x20plain\x20English\x20explanations\x0a-\x20Round\x20numbers\x20appropriately\x20(goals:\x20integers,\x20rates:\x202\x20decimals)\x0a-\x20Generate\x20publication-quality\x20matplotlib/seaborn\x20visualizations\x0a\x0aDATA\x20AND\x20GUIDE\x20FILES:\x0a-\x20You\x20have\x20access\x20to\x20these\x20files:\x0a-\x20','2532gCaSwp','innerHTML','textContent','toLowerCase','Eredivisie','numeric','last_error','With\x20Charts','typingMessageEl','min','max','in_progress','content','height','Premier\x20League','\x22><i\x20class=\x22fas\x20fa-wand-magic-sparkles\x22></i><span>','mwKeyApplied','then','visual','chartsEnabled','addEventListener','Error','stringify','messageInput','insertBefore','value','Send','Reading\x20dataset...','Serie\x20A','en-US','replace','pollRunStatus','https://api.openai.com/v1/assistants?limit=20','findExistingAssistant','ready','Analyzing\x20data...','Europe\x27s\x20Top\x205','/content','goals','querySelectorAll','preloadRemoteQuotaForId','user','plot','DOMContentLoaded','&amp;','newChatBtn','style','div','loading','saveIdUsageRecord','fetchController','Ligue\x201','sanitize','abort','getAdjusted','number','🚨\x20Setup\x20failed:\x20','askQuestion','marked','Enter','chartToggle','scrollToBottom','CSV\x20file\x20not\x20found.\x20Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Message\x20failed:\x20','all','parentNode','createAssistant','outerHTML','.toggle-text','setStopUI','datamb_chat_usage_by_id','The\x20ultimate\x20football\x20analytics\x20AI\x20with\x20perfect\x20understanding\x20and\x20natural\x20language\x20processing','floor','renderSuggestions','contains','keys','join','message','.table-container','bumpQuotaAsync','currentMemberId','toggleCharts','Upload\x20failed:\x20','image_file','La\x20Liga','Login\x20required','displayImageFile','Starting\x20new\x20chat...','setupEventListeners','error','\x0a\x0a[CHARTS\x20ENABLED:\x20Create\x20visualizations\x20when\x20they\x20add\x20value\x20to\x20the\x20analysis]','onerror','bar\x20chart','</span></div>','sendMessage','\x0aHow\x20can\x20I\x20help\x20you\x20today?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Monthly\x20limit\x20(','Charts:\x20OFF','bootstrapPromise','active','find','append','\x0a[CODE\x20SCAFFOLD:\x0afrom\x20bs4\x20import\x20BeautifulSoup\x0ahtml=open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).read()\x0asoup=BeautifulSoup(html,\x20\x27html.parser\x27)\x0asec=soup.select_one(\x27#performanceindex\x27)\x20or\x20soup.find(id=\x27performanceindex\x27)\x0aprint(sec.get_text(\x22\x0a\x22,\x20strip=True)\x20if\x20sec\x20else\x20\x22NOT_FOUND\x22)\x0a]','json','Thread\x20creation\x20failed:\x20','Limit\x20reached','showDataInsights','concat','requires_action','./data.csv'];_0x5247=function(){return _0x2265b2;};return _0x5247();}function toggleTable(_0x3dc871){const _0x537c07=_0xeda630,_0x574af2=_0x3dc871[_0x537c07(0x10d)](_0x537c07(0x171)),_0x28b843=_0x574af2[_0x537c07(0xc3)][_0x537c07(0x16d)](_0x537c07(0xe8));_0x28b843?(_0x574af2['classList'][_0x537c07(0x117)](_0x537c07(0xe8)),_0x574af2[_0x537c07(0xc3)][_0x537c07(0x1a1)](_0x537c07(0x1b9)),_0x3dc871['textContent']='Show\x20All'):(_0x574af2[_0x537c07(0xc3)][_0x537c07(0x117)](_0x537c07(0x1b9)),_0x574af2[_0x537c07(0xc3)][_0x537c07(0x1a1)](_0x537c07(0xe8)),_0x3dc871[_0x537c07(0x124)]=_0x537c07(0x1bf));}
    </script>

</body>
</html>
