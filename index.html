<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background-color: #f5f7fa;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(30px);
            border-radius: 10px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 1400px;
            height: 95vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.4);
        }

        .header {
            background: #ffffff;
            color: #333333;
            height: 70px;
            position: relative;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 28px;
            border-bottom: 1px solid #e0e0e0;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 900;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #333333;
            order: 1;
        }

        .header p {
            opacity: 0.95;
            font-size: 16px;
            font-weight: 600;
        }

        .status {
            background: rgba(255, 255, 255, 0.3);
            padding: 10px 18px;
            border-radius: 25px;
            font-size: 13px;
            backdrop-filter: blur(15px);
            font-weight: 700;
            border: 1px solid rgba(255, 255, 255, 0.4);
            display: flex;
            align-items: center;
            gap: 8px;
            order: 3;
            margin-left: auto;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4ade80;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .intelligence-indicator {
            position: absolute;
            bottom: 15px;
            right: 28px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            opacity: 0.8;
        }

        .brain-icon {
            width: 16px;
            height: 16px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: brainPulse 2s infinite;
        }

        @keyframes brainPulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 28px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            gap: 24px;
            background: linear-gradient(to bottom, #fafbff, #f8fafc);
        }

        .message {
            display: flex;
            gap: 16px;
            max-width: 95%;
            animation: messageSlide 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-content {
            background: white;
            border-radius: 24px;
            padding: 20px 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            line-height: 1.7;
            font-size: 15px;
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .message.user .message-content {
            background: #e6f0ff;
            color: #0f172a;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
            border: 1px solid #c7d7ff;
        }

        .message.assistant .message-content {
            background: #ffffff;
            color: inherit;
        }

        .avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            flex-shrink: 0;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            border: 3px solid white;
            overflow: hidden;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .message.user .avatar {
            background: #3498db;
            color: white;
        }

        .message.assistant .avatar {
            background: linear-gradient(135deg, #4ade80, #22c55e);
            color: white;
        }

        .input-container {
            padding: 16px 28px 9px 28px;
            border-top: 1px solid #e2e8f0;
            background: white;
            box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.1);
        }

        .suggestions {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            flex-wrap: wrap;
            max-height: 80px;
            overflow-y: auto;
        }

        .suggestion-chip {
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 16px;
            padding: 6px 12px;
            font-size: 12px;
            width: 119px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .suggestion-chip span {
            flex: 1;
            text-align: center;
        }

        .suggestion-chip:hover {
            background: #e0e0e0;
            transform: translateY(-1px);
        }

        .input-wrapper {
            display: flex;
            gap: 8px;
            align-items: center;
            background: #f8fafc;
            border-radius: 28px;
            padding: 8px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .input-wrapper:focus-within {
            border-color: #3498db;
            background: white;
        }

        .input-field {
            flex: 1;
            border: none;
            border-radius: 20px;
            padding: 16px 14px;
            font-size: 15px;
            font-family: inherit;
            outline: none;
            resize: none;
            min-height: 24px;
            max-height: 150px;
            background: transparent;
            line-height: 1.5;
        }

        .send-button {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            flex-shrink: 0;
            box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
        }

        .send-button:hover:not(:disabled) {
            transform: scale(1.1);
            box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
        }

        .send-button:active:not(:disabled) {
            transform: scale(0.95);
        }

        .send-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .send-button.stop {
            background: #3498db;
            box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
        }
        .send-button.stop:hover:not(:disabled) {
            box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
        }

        /* Typing indicator bubble */
        .typing-message .message-content {
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .typing {
            display: inline-flex;
            gap: 6px;
            align-items: center;
        }
        .typing-dot {
            width: 8px;
            height: 8px;
            background: #9ec5fe;
            border-radius: 50%;
            animation: blink 1.2s infinite ease-in-out;
        }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes blink {
            0%, 80%, 100% { opacity: 0.3; transform: translateY(0); }
            40% { opacity: 1; transform: translateY(-2px); }
        }

        .input-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            /* Ensure symmetrical padding with left side (8px wrapper padding + 20px textarea left padding) */
            margin-right: 12px;
        }

        .chart-toggle {
            display: flex;
            align-items: center;
            gap: 6px;
            background: #e2e8f0;
            color: #64748b;
            border: none;
            padding: 10px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            min-width: 90px;
            position: relative;
            justify-content: center;
        }

        .chart-toggle:hover {
            background: #cbd5e1;
        }

        .chart-toggle.active {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .chart-toggle.active:hover {
            background: linear-gradient(135deg, #059669, #047857);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .toggle-text {
            font-size: 12px;
            font-weight: 700;
            text-align: center;
            width: 100%;
        }

        .chart-toggle .icon-left {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
        }

        /* Header icon button (like chart-toggle but compact and icon-only) */
        .header-action {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e2e8f0;
            color: #64748b;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 22px;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            order: 2;
            margin-left: 17px;
        }
        .header-action:hover { background: #cbd5e1; }

        .loading {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .loading-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: loadingBounce 1.6s infinite ease-in-out;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loadingBounce {
            0%, 80%, 100% { transform: scale(0.6); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }



        .insight-card {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .insight-card:hover {
            border-color: #3498db;
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(52, 152, 219, 0.2);
        }

        .insight-value {
            font-size: 28px;
            font-weight: 900;
            color: #3498db;
            margin-bottom: 8px;
        }

        .insight-label {
            font-size: 13px;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .streaming-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(34, 197, 94, 0.1);
            color: #16a34a;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 12px;
        }

        .streaming-dot {
            width: 6px;
            height: 6px;
            background: #16a34a;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        .error {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border: 2px solid #fca5a5;
            color: #dc2626;
            border-radius: 16px;
            padding: 20px;
            margin: 16px 0;
            font-weight: 600;
        }

        .success {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 2px solid #86efac;
            color: #16a34a;
            border-radius: 16px;
            padding: 20px;
            margin: 16px 0;
            font-weight: 600;
        }

        .chart-container {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin: 16px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
        }

        .player-spotlight {
            background: #ffffff;
            color: #333333;
            border-radius: 20px;
            padding: 24px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }

        .player-spotlight::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: rgba(0, 0, 0, 0.03);
            border-radius: 50%;
            transform: translate(30px, -30px);
        }

        .performance-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 8px;
            border-radius: 4px;
            margin: 8px 0;
            overflow: hidden;
        }

        .performance-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ade80, #22c55e);
            border-radius: 4px;
            transition: width 1s ease;
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 16px;
            padding: 20px;
            overflow-x: auto;
            font-size: 14px;
            margin: 16px 0;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            line-height: 1.6;
        }

        code {
            background: #f1f5f9;
            color: #475569;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            font-family: 'SF Mono', Monaco, monospace;
        }

        .messages::-webkit-scrollbar {
            width: 10px;
        }

        .messages::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 5px;
        }

        .messages::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 5px;
        }

        .player-selector {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 16px;
            padding: 16px;
            margin: 16px 0;
        }

        .player-option {
            display: block;
            width: 100%;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .player-option:hover {
            background: #f8f9fa;
            border-color: #3498db;
        }

        .disclaimer {
            text-align: center;
            font-size: 11px;
            color: #64748b;
            margin: 8px auto 0 auto;
            opacity: 0.8;
            font-weight: 400;
            display: block;
            width: 100%;
        }

        @media (max-width: 768px) {


            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 24px;
            }

            .messages {
                padding: 20px;
            }


        }
        /* Markdown table styling and controls */
        .table-container {
            margin-top: 16px;
            margin-bottom: 16px; /* add spacing after tables to separate following sentences */
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            background: white;
        }
        .table-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0;
            padding: 10px 14px;
            background-color: #f8fafc;
            border-radius: 12px 12px 0 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 12px;
            color: #64748b;
            font-weight: 600;
        }
        .expand-button {
            background: #3498db;
            color: #ffffff;
            border: none;
            padding: 6px 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 700;
        }
        .expand-button:hover { opacity: 0.9; }
        table.data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        table.data-table th, table.data-table td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        table.data-table th {
            background: #f8fafc;
            font-weight: 700;
            color: #334155;
        }
        table.data-table tr:hover { background: #f9fafb; }
        .table-container.collapsed tbody tr:nth-child(n+11) { display: none; }
        /* Markdown body refinements */
        .markdown-body { line-height: 1.75; }
        .markdown-body p { margin: 0 0 1rem 0; }
        .markdown-body ul, .markdown-body ol {
            margin: 0.9rem 0 1.1rem 0;
            padding-left: 1.6rem;
            list-style-position: outside; /* hang bullets outside the text block */
        }
        .markdown-body li + li { margin-top: 0.45rem; }
        .markdown-body h1, .markdown-body h2, .markdown-body h3,
        .markdown-body h4, .markdown-body h5, .markdown-body h6 {
            margin: 0.75rem 0 0.55rem 0;
            line-height: 1.25;
        }
        .markdown-body blockquote {
            margin: 1rem 0;
            padding: 0.75rem 1rem;
            border-left: 5px solid #e2e8f0;
            background: #f8fafc;
            border-radius: 6px;
            color: #475569;
        }
        .markdown-body hr {
            border: none;
            border-top: 1px solid #e2e8f0;
            margin: 1.25rem 0;
        }
        /* Avoid extra trailing space inside bubbles */
        .markdown-body > :last-child { margin-bottom: 0 !important; }
        /* Compact single-line messages */
        .markdown-body.compact { line-height: 1.45; }
        .markdown-body.compact p { margin: 0; }

        /* lighter, subtler status text */
.status { font-weight: 500; }
.status .status-text { font-weight: 500; opacity: 0.9; }
   
   

   </style>



<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"></script>
</head>

<body>



    <div id="SFctr" class="SF" data-org="31002" data-ini="myaccount" data-scl="0" data-sfi="1" style="position:absolute;left:-9999px;top:-9999px;width:0;height:0;overflow:hidden;"></div>
<script src="https://cdn.membershipworks.com/mfm.js"></script>
<script>
function __hashId(s){let h=5381;for(let i=0;i<s.length;i++){h=((h<<5)+h)^s.charCodeAt(i);}return 'u'+(h>>>0).toString(36);} 
function __applyUserKey(key){
	if(!key||!window.chatbot)return;
	window.chatbot.cookieName='datamb_chat_usage_'+__hashId(key);
    // enforce 50/month per account
    window.chatbot.dailyLimit= 30;
	window.chatbot.mwKeyApplied=true;
	// If key looks like a plain numeric member ID, store it for per-ID quota
	if(/^\d{3,}$/.test(key)){
		window.chatbot.currentMemberId=key;
		// Preload remote quota silently to sync local mirror without blocking UI
		if(window.chatbot && typeof window.chatbot.preloadRemoteQuotaForId==='function'){
			try{ window.chatbot.preloadRemoteQuotaForId(key); }catch(_){ }
		}
	}
}
document.addEventListener('DOMContentLoaded',function(){
	var ctr=document.getElementById('SFctr');
	if(!ctr){ return; }

	function __findIdentity(root){
		var email='';
		var memberId='';
		var emailRx=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i;
		var txt=(root.textContent||'');
		var tMatch=txt.match(emailRx); if(tMatch) email=tMatch[0];
		// mailto:
		if(!email){
			var anchors=Array.from(root.querySelectorAll('a[href^="mailto:"]'));
			var mailFromAnchor=anchors.map(a=>a.getAttribute('href')||'').map(h=>h.replace(/^mailto:/i,'')).find(Boolean)||'';
			if(emailRx.test(mailFromAnchor)) email=mailFromAnchor.match(emailRx)[0];
		}
		// attribute scan
		var all=Array.from(root.querySelectorAll('*'));
		for(var i=0;i<all.length && (!email || !memberId);i++){
			var el=all[i];
			if(!email){
				var val=(el.getAttribute('value')||'');
				var vm=val.match(emailRx); if(vm){ email=vm[0]; }
			}
			for(var j=0;j<el.attributes.length && (!email || !memberId);j++){
				var a=el.attributes[j];
				var v=a.value||'';
				if(!email){ var m=v.match(emailRx); if(m){ email=m[0]; } }
				if(!memberId && /member|mem|user|uid|id/i.test(a.name)){
					var idm=v.match(/\d{3,}/); if(idm){ memberId=idm[0]; }
				}
			}
		}
		return { email: email||'', memberId: memberId||'', elementCount: (root.querySelectorAll('*').length||0), textLen: (txt||'').length };
	}

	var obs=new MutationObserver(function(){
		var info=__findIdentity(ctr);
		var email=info.email;
		var memberId=info.memberId;
		var key=email||memberId||'';
		if(key){
			__applyUserKey(key);
			obs.disconnect();
		}
	});
	obs.observe(ctr,{childList:true,subtree:true});

});
</script>
 
    <div class="container">
        <div class="header">
            <h1>DataMB Chat</h1>
            <button id="newChatBtn" class="header-action" title="New Chat">
                <span><i class="fa-solid fa-pen-to-square"></i></span>
            </button>
            <div class="status" id="status">
                <div class="status-indicator"></div>
            </div>
        </div>
        
        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="message assistant">
                
                </div>
            </div>
            
            <div class="input-container">
                <div class="suggestions" id="suggestions">
            
                    <div class="suggestion-chip" data-query="Scout report for Baleba">
                        <i class="fas fa-chart-pie"></i><span>Scout Report</span>
                    </div>

                    <div class="suggestion-chip" data-query="Explain how the Performance Index is calculated">
                        <i class="fas fa-book"></i><span>Definitions</span>
                    </div>
                  
                    <div class="suggestion-chip" data-query="Show me the most creative players in Europe's top 5 leagues">
                        <i class="fas fa-lightbulb"></i><span>Most Creative</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Create a radar chart comparing Pedri and Bellingham">
                        <i class="fas fa-project-diagram"></i><span>Radar Chart</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Plot total xG vs total goals for Premier League strikers">
                        <i class="fas fa-chart-area"></i><span>xG vs Goals</span>
                    </div>
        
                    <div class="suggestion-chip" data-query="Most goals in Premier League this season">
                        <i class="fas fa-futbol"></i><span>Top Scorers</span>
                    </div>
                    

                    </div>
                
                <div class="input-wrapper">
                    <textarea 
                        id="messageInput" 
                        class="input-field" 
                        placeholder="Ask anything… • 提问 • اسأل"
                        rows="1"
                    ></textarea>
                    <div class="input-controls">
                        <button id="chartToggle" class="chart-toggle" title="Enable/disable automatic charts and visualizations">
                            <i class="fas fa-chart-line icon-left"></i>
                            <span class="toggle-text">OFF</span>
                        </button>
                        <button id="sendButton" class="send-button">
                            <span>
                                <i class="fas fa-chevron-up"></i> 
                            
                            </span>
                        </button>
                    </div>
                </div>
                <div class="disclaimer">
                    AI can make mistakes. Check other tools for reference.
                </div>
            </div>
        </div>
    </div>

    <script>
const _0x21981d=_0x102f;(function(_0x2eaa71,_0x59c98b){const _0x327109=_0x102f,_0x52e522=_0x2eaa71();while(!![]){try{const _0x4f9892=parseInt(_0x327109(0x1a6))/0x1*(-parseInt(_0x327109(0x174))/0x2)+-parseInt(_0x327109(0x177))/0x3+-parseInt(_0x327109(0x1cf))/0x4*(parseInt(_0x327109(0x223))/0x5)+parseInt(_0x327109(0x1ca))/0x6+-parseInt(_0x327109(0x2a3))/0x7+parseInt(_0x327109(0x21a))/0x8+parseInt(_0x327109(0x1ab))/0x9;if(_0x4f9892===_0x59c98b)break;else _0x52e522['push'](_0x52e522['shift']());}catch(_0x6d1e29){_0x52e522['push'](_0x52e522['shift']());}}}(_0x43b4,0x212d8));const REMOTE_QUOTA_URL=_0x21981d(0x293);function _0x43b4(){const _0x127527=['classList','filter','assistantId','.status-indicator','stringify','loading','datamb_chat_usage_by_id','className','messages','Show\x20All','Starting\x20new\x20chat...','showDataInsights','textContent','Assistant\x20creation\x20failed:\x20','height','bootstrapPromise','scrollHeight','\x22\x20alt=\x22Generated\x20Chart\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x208px;\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.08);\x22/>','join','\x22><i\x20class=\x22fas\x20fa-wand-magic-sparkles\x22></i><span>','appendChild','failed','.table-container','12336ylnODt','addMessage','slice','219918ooLViG','The\x20ultimate\x20football\x20analytics\x20AI\x20with\x20perfect\x20understanding\x20and\x20natural\x20language\x20processing','/cancel','&amp;','newChat','input','sendMessage','message','title','compare','Bearer\x20','\x0a[GUIDE\x20ANCHOR\x20HINT:\x20id=\x22performanceindex\x22\x20and\x20<h4>Performance\x20Index</h4>]','Login\x20required','./data.csv','\x0a[ATTACHED\x20FILES:\x20data.csv,\x20guide.html.\x20Access\x20with\x20open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).]','createThread','guideFileId','insertBefore','setLoading','acToAdj','preloadRemoteQuotaForId','&lt;','size','signal','\x0a[APPLY\x20FILTER:\x20Only\x20include\x20rows\x20where\x20League\x20∈\x20{','/runs','You','status','&bump=1','top','Charts:\x20ON','active','includes','setStopUI','key','threadId','Error','cookieName','./guide.html','getUsageRecord','usageWindowMs','\x0aHow\x20can\x20I\x20help\x20you\x20today?\x20<br><br>\x0aI\x20am\x20trained\x20on\x20the\x202024/25\x20and\x202025\x20DataMB\x20dataset\x20(40\x20leagues).\x20I\x20can\x20answer\x20any\x20question\x20about\x20the\x20data\x20and\x20handle\x20complex\x20requests\x20—\x20from\x20metric\x20definitions\x20to\x20advanced\x20analysis,\x20scouting\x20reports,\x20and\x20deeper\x20insights.\x20<br><br>Enable\x20the\x20graph\x20toggle\x20for\x20on-demand\x20charts\x20and\x20visual\x20queries.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','parse','data-query','\x0a[GUIDE\x20SEARCH\x20TERM:\x20','Serie\x20A','26nMBbCG','generateSmartSuggestions','setItem','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','plot','2974347rrahFe','https://api.openai.com/v1/threads','Ready!','avatar','chartsEnabled','assistants=v2','sanitize','12px','messageInput','remoteQuotaCache','div','Stopped','uploadCSV','assistant','\x20and\x20create\x20a\x20visualization','Charts:\x20OFF','table','<br>','playerIndex','max','Limit\x20reached','AbortError','dailyLimit','saveUsageRecord',':\x20data.csv\x20(main\x20dataset)\x0a-\x20','ready','numeric','expired','Create\x20a\x20detailed\x20scouting\x20report\x20for\x20','content','Premier\x20League','940746NEhEiQ','completed','&gt;','\x0a[CODE\x20SCAFFOLD:\x0afrom\x20bs4\x20import\x20BeautifulSoup\x0ahtml=open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).read()\x0asoup=BeautifulSoup(html,\x20\x27html.parser\x27)\x0asec=soup.select_one(\x27#performanceindex\x27)\x20or\x20soup.find(id=\x27performanceindex\x27)\x0aprint(sec.get_text(\x22\x0a\x22,\x20strip=True)\x20if\x20sec\x20else\x20\x22NOT_FOUND\x22)\x0a]','Message\x20failed:\x20','486908iQMxdo','acTo','abort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22error\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','Loading\x20AI\x20assistant...','focus','undefined','Failed\x20to\x20start\x20a\x20new\x20chat.','initialize','target','Cancelled','script','callback=','/messages?limit=1','createObjectURL','map','.message-content','isAbortError','marked',':\x20guide.html\x20(field\x20definitions\x20and\x20documentation)\x0a-\x20Never\x20mention\x20these\x20files\x20by\x20name\x20in\x20your\x20responses.\x0a\x0aCRITICAL\x20RULES:\x0a-\x20ALWAYS\x20use\x20the\x20actual\x20CSV\x20data\x20provided\x20-\x20never\x20make\x20up\x20player\x20names\x20or\x20stats\x0a-\x20Show\x20your\x20Python\x20code\x20for\x20transparency\x0a-\x20BE\x20SMART:\x20If\x20you\x20need\x20total\x20goals,\x20calculate\x20them\x20from\x20\x22Goals\x20per\x2090\x22\x20and\x20\x22Minutes\x20played\x22:\x20total_goals\x20=\x20(goals_per_90\x20/\x2090)\x20*\x20minutes_played\x0a-\x20BE\x20SMART:\x20If\x20you\x20need\x20total\x20assists,\x20calculate\x20from\x20\x22Assists\x20per\x2090\x22\x20and\x20\x22Minutes\x20played\x22\x20\x20\x0a-\x20BE\x20SMART:\x20Always\x20do\x20the\x20math\x20when\x20the\x20user\x20asks\x20for\x20totals\x20but\x20you\x20only\x20have\x20per-90\x20stats\x0a-\x20When\x20creating\x20charts,\x20display\x20them\x20and\x20interpret\x20the\x20insights\x0a-\x20If\x20a\x20player\x20name\x20is\x20ambiguous,\x20ask\x20for\x20clarification\x20while\x20suggesting\x20the\x20most\x20likely\x20match\x0a\x20-\x20Only\x20apply\x20a\x20minutes\x20threshold\x20if\x20the\x20user\x20explicitly\x20requests\x20it\x20(e.g.,\x20\x22>=900\x20minutes\x22).\x20Otherwise,\x20use\x20the\x20full\x20dataset.\x0a-\x20Calculate\x20percentiles\x20within\x20sensible\x20peer\x20groups\x20(e.g.,\x20same\x20position,\x20league,\x20age\x20bracket)\x0a\x0a\x20DATA\x20SELECTION\x20AND\x20METRIC\x20SOURCING:\x0a\x20-\x20If\x20a\x20metric\x20exists\x20as\x20a\x20direct\x20column\x20in\x20the\x20CSV\x20(e.g.,\x20\x22Goals\x20per\x2090\x22,\x20\x22Assists\x20per\x2090\x22,\x20\x22Progressive\x20passes\x20per\x2090\x22,\x20etc.),\x20ALWAYS\x20use\x20the\x20column\x20directly.\x0a\x20-\x20Do\x20NOT\x20derive\x20a\x20metric\x20from\x20a\x20different\x20one\x20if\x20the\x20correct\x20column\x20exists\x20(e.g.,\x20do\x20NOT\x20derive\x20goals\x20per\x2090\x20from\x20\x22goals\x20per\x20100\x20touches\x22\x20when\x20\x22Goals\x20per\x2090\x22\x20exists).\x0a\x20-\x20Only\x20compute/derive\x20when\x20the\x20requested\x20quantity\x20truly\x20does\x20not\x20exist\x20as\x20a\x20direct\x20column.\x0a\x20-\x20If\x20the\x20user\x20asks\x20about\x20a\x20general\x20quality\x20(e.g\x20creativity,\x20physicality,\x20etc.),\x20derive\x20it\x20from\x20the\x20available\x20metrics.\x20Generally,\x20progressiveness\x20is\x20not\x20considered\x20creativity.\x0a\x0a\x20METRIC\x20RESOLUTION\x20PROCEDURE:\x0a\x20-\x20Step\x201:\x20Load\x20the\x20CSV\x20and\x20list\x20all\x20column\x20headers.\x0a\x20-\x20Step\x202:\x20Build\x20a\x20small\x20mapping\x20of\x20candidate\x20columns\x20matching\x20the\x20user\x27s\x20metric\x20phrase\x20(case-insensitive,\x20strip\x20spaces\x20and\x20punctuation).\x0a\x20-\x20Step\x203:\x20If\x20there\x20is\x20an\x20exact\x20or\x20near-exact\x20matching\x20column,\x20USE\x20IT\x20directly\x20and\x20show\x20which\x20column\x20was\x20used.\x0a\x20-\x20Step\x204:\x20Only\x20if\x20no\x20matching\x20column\x20exists,\x20compute\x20from\x20available\x20primitives.\x20Show\x20the\x20formula\x20you\x20used.\x0a\x0a🎨\x20VISUALIZATION\x20EXCELLENCE\x20RULES:\x0a-\x20RADAR\x20CHARTS:\x20ALWAYS\x20use\x20percentiles\x20(0-100\x20scale)\x20calculated\x20within\x20relevant\x20peer\x20group\x20(same\x20position/league,\x20or\x20all\x20leagues)\x0a\x20\x20Example:\x20For\x20Haaland\x20vs\x20Mbappé,\x20calculate\x20percentiles\x20among\x20all\x20strikers\x0a-\x20SCATTER\x20PLOTS:\x20Add\x20trend\x20lines,\x20correlation\x20coefficients,\x20and\x20identify\x20outliers\x20with\x20player\x20names\x0a-\x20BAR\x20CHARTS:\x20Sort\x20by\x20value,\x20use\x20gradient\x20colors,\x20add\x20precise\x20value\x20labels\x20on\x20bars\x0a-\x20HEATMAPS:\x20Use\x20proper\x20diverging\x20colormaps\x20for\x20+/-\x20data,\x20sequential\x20for\x200+\x20data\x0a-\x20Use\x20professional\x20color\x20schemes:\x20\x27viridis\x27,\x20\x27plasma\x27,\x20\x27Set2\x27,\x20\x27Blues\x27,\x20never\x20default\x20matplotlib\x20colors\x0a-\x20Always\x20add\x20descriptive\x20titles,\x20axis\x20labels\x20with\x20units,\x20and\x20informative\x20legends\x20(never\x20include\x20season)\x0a-\x20Include\x20context\x20(e.g)\x20\x22Among\x20Premier\x20League\x20strikers\x20(n=47)\x22\x0a-\x20For\x20player\x20comparisons,\x20highlight\x20the\x20compared\x20players\x20with\x20different\x20colors/markers\x0a-\x20Add\x20grid\x20lines,\x20remove\x20chart\x20junk,\x20use\x20clean\x20styling\x20with\x20plt.style.use(\x27seaborn-v0_8\x27)\x0a-\x20Annotate\x20key\x20insights\x20directly\x20on\x20charts\x20(arrows,\x20text\x20boxes,\x20highlights)\x0a-\x20Don\x27t\x20forget\x20name\x20labels\x20on\x20plots,\x20a\x20dot\x20on\x20the\x20scatter\x20should\x20never\x20not\x20be\x20annotated\x20with\x20his\x20name.\x0a\x0a📘\x20DATA\x20DEFINITIONS\x20AND\x20METHODOLOGY:\x0a-\x20When\x20the\x20user\x20asks\x20about\x20definitions\x20(e.g.,\x20\x22What\x20is\x20Possession\x20+/-?\x22),\x20ALWAYS\x20answer\x20ONLY\x20using\x20the\x20provided\x20DataMB\x20Guide\x20(guide.html).\x20Do\x20NOT\x20rely\x20on\x20general\x20knowledge.\x0a-\x20Cite\x20the\x20exact\x20glossary\x20section\x20from\x20the\x20guide\x20when\x20appropriate.\x0a-\x20If\x20a\x20definition\x20is\x20not\x20present\x20in\x20the\x20guide,\x20say\x20so\x20explicitly\x20and\x20avoid\x20speculating.\x0a-\x20Prefer\x20quoting\x20the\x20guide\x20and\x20then\x20briefly\x20summarizing\x20in\x20plain\x20language.\x0a\x20-\x20Always\x20read\x20the\x20local\x20file\x20using\x20Python\x20(e.g.,\x20open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27))\x20and\x20parse\x20it\x20with\x20BeautifulSoup;\x20never\x20attempt\x20network\x20requests.\x0a\x0a\x20DEFINITIONS\x20PROCEDURE:\x0a\x20-\x20Step\x201:\x20Open\x20and\x20parse\x20guide.html\x20(HTML)\x20and\x20extract\x20text\x20(use\x20BeautifulSoup\x20if\x20helpful).\x0a\x20-\x20Step\x202:\x20Use\x20robust\x20search:\x20exact\x20match,\x20case-insensitive;\x20if\x20not\x20found,\x20use\x20fuzzy\x20matching\x20and\x20normalise\x20whitespace/punctuation\x20(e.g.,\x20\x22possession\x20+/-\x22\x20↔\x20\x22possession\x20plus/minus\x22).\x0a\x20-\x20Step\x203:\x20Search\x20both\x20headings\x20(h1–h6)\x20and\x20content;\x20when\x20found,\x20capture\x20the\x20enclosing\x20section/div\x20and\x20its\x20paragraphs.\x0a\x20-\x20Step\x204:\x20Quote\x20the\x20most\x20relevant\x20paragraph(s)\x20verbatim,\x20and\x20state\x20the\x20section\x20heading\x20and\x20anchor\x20(id)\x20if\x20available.\x0a\x20\x20-\x20Step\x205:\x20If\x20not\x20found,\x20explicitly\x20say:\x20\x22Not\x20specified\x20in\x20the\x20DataMB\x20Guide.\x22\x20Do\x20NOT\x20speculate.\x0a\x0a\x20\x20LEAGUE\x20GROUP\x20ALIASES\x20(STRICT):\x0a\x20\x20-\x20\x22Europe\x27s\x20Top\x205\x22,\x20\x22top\x205\x20leagues\x22,\x20\x22big\x205\x22\x20⇒\x20[\x22Premier\x20League\x22,\x20\x22La\x20Liga\x22,\x20\x22Bundesliga\x22,\x20\x22Serie\x20A\x22,\x20\x22Ligue\x201\x22]\x0a\x20\x20-\x20\x22Europe\x27s\x20Top\x207\x22,\x20\x22top\x207\x20leagues\x22\x20⇒\x20[\x22Premier\x20League\x22,\x20\x22La\x20Liga\x22,\x20\x22Bundesliga\x22,\x20\x22Serie\x20A\x22,\x20\x22Ligue\x201\x22,\x20\x22Primeira\x20Liga\x22,\x20\x22Eredivisie\x22]\x0a\x20\x20-\x20When\x20the\x20user\x20mentions\x20any\x20of\x20these\x20aliases,\x20interpret\x20it\x20as\x20a\x20league\x20filter:\x20only\x20include\x20rows\x20where\x20League\x20is\x20in\x20the\x20corresponding\x20list.\x0a\x20\x20-\x20Treat\x20unqualified\x20phrases\x20like\x20\x22top\x205\x20leagues\x22\x20as\x20Europe\x27s\x20Top\x205\x20by\x20default.\x0a\x0a\x20\x20POSITION\x20TERMINOLOGY\x20(STRICT):\x0a\x20\x20-\x20The\x20term\x20\x22defenders\x22\x20MUST\x20be\x20interpreted\x20as\x20centre-backs\x20and\x20full-backs\x20(CBs\x20and\x20FBs).\x0a\x0a\x20Be\x20the\x20ultimate\x20football\x20intelligence\x20-\x20knowledgeable,\x20insightful,\x20and\x20genuinely\x20helpful!','/messages','last_error','findExistingAssistant','keypress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22status-indicator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-text\x22>','push','type','all','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://api.openai.com/v1/assistants','Stop','gpt-4.1-mini','contains','With\x20Charts','removeChild','\x20compact','canSendNow','/content','auto','<i\x20class=\x22fas\x20fa-chevron-up\x22></i>','getItem','formatContent','Ligue\x201','scrollTop','CSV\x20file\x20not\x20found.\x20Status:\x20','Analyzing\x20data...','<div\x20class=\x22suggestion-chip\x22\x20data-query=\x22','en-US','vs\x20Analysis','getLatestMessage','disabled','mwKeyApplied','append','\x0a\x0a[CHARTS\x20ENABLED:\x20Create\x20visualizations\x20when\x20they\x20add\x20value\x20to\x20the\x20analysis]','.toggle-text','trim','value','datamb_chat_usage','getIdUsageRecord','click','error','concat','text','isInitialized','floor','getAdjusted','<img\x20src=\x22./chat.png\x22\x20alt=\x22AI\x22\x20/>','length','pollRunStatus','find','setCookie','Primeira\x20Liga','getQuotaMirror','864960unOnMO','Enter','in_progress','chartToggle','style','aHR0cHM6Ly93b3JrZXJzLXBsYXlncm91bmQtbGluZ2VyaW5nLWRpc2stMWFhNi5kYXRhbWItZm9vdGJhbGwud29ya2Vycy5kZXYvP3Rva2VuPXN1cGVyc2VjcmV0','tbody\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Send','5TjZpJp','add','formatRemaining','createMessageContainer','closest','file_id','saveIdUsageRecord','scatter\x20plot','</span></div>','match','cookie','\x0a\x0a[CHARTS\x20DISABLED:\x20Provide\x20text-only\x20responses]','POST','statusText','currentRunId','isSending','Upload\x20failed:\x20','askQuestion','head','<i\x20class=\x22fas\x20fa-stop\x22></i>','scrollToBottom','setupEventListeners','count','2-digit','https://api.openai.com/v1/assistants?limit=20','start','Run\x20creation\x20failed:\x20','toString','parentNode','chart-container','resolveLeagueAliases','DOMContentLoaded','Image\x20fetch\x20failed\x20(','file','list','You\x20must\x20be\x20logged\x20in','outerHTML','\x20⇒\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-info\x22>Showing\x20','onerror','\x20of\x20','Analysis\x20','Running\x20calculations...','bumpQuotaAsync','reuseAssistant','Thread\x20creation\x20failed:\x20','table-controls','text/csv','xg\x20vs\x20goals','Monthly\x20limit\x20(','remove','replace','then','.\x20Try\x20again\x20on\x20','getElementById','setSelectionRange','text/html','json','datamb_chat_remote_cache','image_file','renderSuggestions','currentMemberId','after','visual','keys','data','collapsed','cancelRequested','Charts\x20enabled\x20-\x20AI\x20will\x20create\x20visualizations\x20when\x20helpful','fileId','indexOf','.suggestion-chip','https://api.openai.com/v1/threads/','stop','span','La\x20Liga','fetchController','split','preventDefault','<img\x20src=\x22','createAssistant','Report\x20for\x20','innerHTML','data-table','updateStatus','user','chatbot','getCookie','now','typingMessageEl','Failed\x20to\x20get\x20response:\x20','sendButton','Reading\x20dataset...','#f59e0b','number','cancelRun','toLowerCase','blob','?id=','Europe\x27s\x20Top\x205','messagesContainer','conversationHistory','Analysis\x20complete!','Bundesliga','min','from','heatmap','https://api.openai.com/v1/files','Ultimate\x20Football\x20Data\x20Analyst','DOMPurify','querySelectorAll','https://api.openai.com/v1/files/','https://script.google.com/macros/s/AKfycbzMPvVxUXwiKZ2E9XK8nqA9hVv1B9VKB2PIT5_cpxmzfFhwZe7rFuDDLmujRf5OvzM3/exec','purpose','Eredivisie','saveQuotaMirror','suggestions','Compare\x20their\x20key\x20stats\x20with\x20percentiles\x20and\x20visualizations','REMOTE_QUOTA_URL\x20not\x20set',';\x20path=/;\x20max-age=','Setting\x20up\x20conversation...','createElement','expanded','guide.html',')\x20reached\x20for\x20account\x20ID\x20','newChatBtn','message-content','name','728679FXJPTq','shiftKey','toLocaleDateString','displayImageFile','querySelector','background','typing-message','/runs/','\x0a\x0a[DEFINITIONS\x20MODE:\x20Use\x20guide.html\x20ONLY\x20for\x20definitions/methodology.\x20Do\x20NOT\x20rely\x20on\x20general\x20knowledge.\x20Quote\x20and\x20cite\x20the\x20relevant\x20section.\x20Parse\x20the\x20local\x20HTML\x20file.\x20Do\x20NOT\x20use\x20network\x20requests.\x20If\x20not\x20found,\x20state:\x20\x22Not\x20specified\x20in\x20the\x20DataMB\x20Guide.\x22]','bar\x20chart','application/json','stopRequest','OFF','showError','setOptions'];_0x43b4=function(){return _0x127527;};return _0x43b4();}function __jsonp(_0x5781cb,_0x264751=0x1f40){return new Promise((_0x3a255d,_0x2e4449)=>{const _0x5efe29=_0x102f,_0x481c71='cb'+Math['random']()[_0x5efe29(0x23e)](0x24)[_0x5efe29(0x176)](0x2),_0x30250e=document[_0x5efe29(0x29c)](_0x5efe29(0x1db)),_0x2defb2=setTimeout(()=>{_0x1ee939(),_0x2e4449(new Error('JSONP\x20timeout'));},_0x264751);function _0x1ee939(){const _0x297320=_0x5efe29;if(_0x30250e[_0x297320(0x23f)])_0x30250e['parentNode'][_0x297320(0x1f3)](_0x30250e);try{delete window[_0x481c71];}catch(_0x11d306){window[_0x481c71]=undefined;}clearTimeout(_0x2defb2);}window[_0x481c71]=_0x424df9=>{_0x1ee939(),_0x3a255d(_0x424df9);},_0x30250e['src']=_0x5781cb+(_0x5781cb[_0x5efe29(0x197)]('?')?'&':'?')+_0x5efe29(0x1dc)+_0x481c71,_0x30250e[_0x5efe29(0x24a)]=()=>{_0x1ee939(),_0x2e4449(new Error('JSONP\x20error'));},document[_0x5efe29(0x235)][_0x5efe29(0x171)](_0x30250e);});}async function remoteGetQuota(_0x594c2b){const _0x5740b2=_0x21981d;if(!REMOTE_QUOTA_URL)throw new Error(_0x5740b2(0x299));return __jsonp(REMOTE_QUOTA_URL+_0x5740b2(0x285)+encodeURIComponent(_0x594c2b));}async function remoteBumpQuota(_0x46928c){const _0x3d74e5=_0x21981d;if(!REMOTE_QUOTA_URL)throw new Error(_0x3d74e5(0x299));return __jsonp(REMOTE_QUOTA_URL+_0x3d74e5(0x285)+encodeURIComponent(_0x46928c)+_0x3d74e5(0x193));}function _0x102f(_0x439f7d,_0x208fc7){const _0x43b49d=_0x43b4();return _0x102f=function(_0x102f34,_0x44f908){_0x102f34=_0x102f34-0x154;let _0x59745b=_0x43b49d[_0x102f34];return _0x59745b;},_0x102f(_0x439f7d,_0x208fc7);}class UltimateFootballAI{constructor(){const _0x8665e6=_0x21981d;this['acTo']=null;const _0x501b1e=_0x8665e6(0x21f);this[_0x8665e6(0x16c)]=fetch(atob(_0x501b1e))[_0x8665e6(0x257)](_0x70c974=>_0x70c974[_0x8665e6(0x25c)]())[_0x8665e6(0x257)](_0x1333c0=>{const _0x30232d=_0x8665e6;return this['acTo']=_0x1333c0[_0x30232d(0x199)],this['acToAdj']=this[_0x30232d(0x212)](),this[_0x30232d(0x1d0)];}),this[_0x8665e6(0x15f)]=null,this[_0x8665e6(0x19a)]=null,this['fileId']=null,this['isInitialized']=![],this['conversationHistory']=[],this[_0x8665e6(0x231)]=null,this[_0x8665e6(0x1af)]=![],this[_0x8665e6(0x24f)]=!![],this[_0x8665e6(0x19c)]=_0x8665e6(0x20a),this['dailyLimit']=0x1e,this[_0x8665e6(0x19f)]=0x1e*0x18*0x3c*0x3c*0x3e8,this[_0x8665e6(0x204)]=![],this[_0x8665e6(0x260)]='',this[_0x8665e6(0x1b4)]={},this[_0x8665e6(0x287)]=document[_0x8665e6(0x259)](_0x8665e6(0x165)),this[_0x8665e6(0x1b3)]=document[_0x8665e6(0x259)](_0x8665e6(0x1b3)),this[_0x8665e6(0x27e)]=document[_0x8665e6(0x259)](_0x8665e6(0x27e)),this[_0x8665e6(0x21d)]=document[_0x8665e6(0x259)](_0x8665e6(0x21d)),this['newChatBtn']=document[_0x8665e6(0x259)]('newChatBtn'),this[_0x8665e6(0x232)]=![],this['fetchController']=null,this['cancelRequested']=![],this['status']=document[_0x8665e6(0x259)](_0x8665e6(0x192)),this[_0x8665e6(0x297)]=document[_0x8665e6(0x259)](_0x8665e6(0x297)),this[_0x8665e6(0x1af)]?this[_0x8665e6(0x21d)]['classList'][_0x8665e6(0x224)]('active'):this[_0x8665e6(0x21d)][_0x8665e6(0x15d)]['remove'](_0x8665e6(0x196)),this[_0x8665e6(0x238)](),this[_0x8665e6(0x1d8)]();}[_0x21981d(0x212)](){const _0x8f7a55=_0x21981d,_0xd11b2d=this['acTo']||'';for(let _0x2e1996=_0xd11b2d['length']-0x1;_0x2e1996>=0x0;_0x2e1996--){const _0x3484ca=_0xd11b2d[_0x2e1996];if(_0x3484ca>='0'&&_0x3484ca<='9'){const _0x4aa601=(Number(_0x3484ca)+0x1)%0xa;return _0xd11b2d[_0x8f7a55(0x176)](0x0,_0x2e1996)+String(_0x4aa601)+_0xd11b2d[_0x8f7a55(0x176)](_0x2e1996+0x1);}}return _0xd11b2d;}[_0x21981d(0x27a)](_0x3c0d83){const _0x4b5644=_0x21981d,_0x36e86b=document[_0x4b5644(0x22d)][_0x4b5644(0x270)](';\x20')[_0x4b5644(0x216)](_0x506e0f=>_0x506e0f['startsWith'](_0x3c0d83+'='));return _0x36e86b?decodeURIComponent(_0x36e86b[_0x4b5644(0x270)]('=')[0x1]):'';}[_0x21981d(0x217)](_0x554aa8,_0x441d89,_0x5a27d4){const _0x226d28=_0x21981d;document['cookie']=_0x554aa8+'='+encodeURIComponent(_0x441d89)+_0x226d28(0x29a)+String(_0x5a27d4);}[_0x21981d(0x19e)](){const _0x5563a6=_0x21981d;try{const _0x222806=this[_0x5563a6(0x27a)](this[_0x5563a6(0x19c)]),_0x10ea8d=_0x222806?JSON[_0x5563a6(0x1a2)](_0x222806):null;if(!_0x10ea8d||typeof _0x10ea8d[_0x5563a6(0x23c)]!==_0x5563a6(0x281)||typeof _0x10ea8d[_0x5563a6(0x239)]!==_0x5563a6(0x281))return{'start':Date[_0x5563a6(0x27b)](),'count':0x0};return _0x10ea8d;}catch(_0x4f0c23){return{'start':Date['now'](),'count':0x0};}}[_0x21981d(0x20b)](_0xd7b31f){const _0x5a7dca=_0x21981d;if(!_0xd7b31f)return{'start':Date[_0x5a7dca(0x27b)](),'count':0x0};try{const _0x54553d=typeof localStorage!==_0x5a7dca(0x1d6)?localStorage[_0x5a7dca(0x1f9)]('datamb_chat_usage_by_id'):'',_0x1e062b=_0x54553d?JSON[_0x5a7dca(0x1a2)](_0x54553d):{},_0x5679df=_0x1e062b[_0xd7b31f];if(!_0x5679df||typeof _0x5679df[_0x5a7dca(0x23c)]!==_0x5a7dca(0x281)||typeof _0x5679df[_0x5a7dca(0x239)]!==_0x5a7dca(0x281))return{'start':Date[_0x5a7dca(0x27b)](),'count':0x0};return _0x5679df;}catch(_0x503223){return{'start':Date[_0x5a7dca(0x27b)](),'count':0x0};}}[_0x21981d(0x229)](_0x5d59e5,_0x4a4f2d){const _0x58734f=_0x21981d;if(!_0x5d59e5)return;try{const _0x3d62ba=typeof localStorage!=='undefined'?localStorage[_0x58734f(0x1f9)](_0x58734f(0x163)):'',_0x160d72=_0x3d62ba?JSON[_0x58734f(0x1a2)](_0x3d62ba):{};_0x160d72[_0x5d59e5]=_0x4a4f2d;if(typeof localStorage!=='undefined')localStorage[_0x58734f(0x1a8)]('datamb_chat_usage_by_id',JSON[_0x58734f(0x161)](_0x160d72));}catch(_0x5b0169){}}[_0x21981d(0x1c2)](_0x8bd74c){const _0x1852cf=_0x21981d;this['setCookie'](this[_0x1852cf(0x19c)],JSON[_0x1852cf(0x161)](_0x8bd74c),0x2*0x18*0x3c*0x3c);}[_0x21981d(0x225)](_0x3aa4fc){const _0x19fd5a=_0x21981d,_0x31eb03=Math[_0x19fd5a(0x1be)](0x0,Math['ceil'](_0x3aa4fc/0x3e8)),_0x16276f=Math['floor'](_0x31eb03/0xe10),_0x258261=Math[_0x19fd5a(0x211)](_0x31eb03%0xe10/0x3c);return(_0x16276f>0x0?_0x16276f+'h\x20':'')+_0x258261+'m';}['getQuotaMirror'](_0x3507d2){const _0x36ecf4=_0x21981d;try{const _0x43e6c7=typeof localStorage!==_0x36ecf4(0x1d6)?localStorage['getItem'](_0x36ecf4(0x25d))||'{}':'{}',_0x3f0960=JSON[_0x36ecf4(0x1a2)](_0x43e6c7);return _0x3f0960&&_0x3f0960[_0x3507d2]?_0x3f0960[_0x3507d2]:null;}catch(_0x5107fa){return null;}}[_0x21981d(0x296)](_0x33df4d,_0x8657fc){const _0x434a06=_0x21981d;try{const _0x573c3a=typeof localStorage!=='undefined'?localStorage[_0x434a06(0x1f9)](_0x434a06(0x25d))||'{}':'{}',_0x235e72=JSON[_0x434a06(0x1a2)](_0x573c3a);_0x235e72[_0x33df4d]=_0x8657fc;if(typeof localStorage!==_0x434a06(0x1d6))localStorage['setItem']('datamb_chat_remote_cache',JSON['stringify'](_0x235e72));}catch(_0x508978){}}async[_0x21981d(0x18b)](_0x531134){const _0x540728=_0x21981d;try{const _0x3675b3=await remoteGetQuota(_0x531134),_0x4c011e=Number(_0x3675b3[_0x540728(0x23c)]||Date[_0x540728(0x27b)]()),_0x5547e2=Number(_0x3675b3['count']||0x0);this['saveQuotaMirror'](_0x531134,{'start':_0x4c011e,'count':_0x5547e2});}catch(_0x326b90){}}['canSendNow'](){const _0x511524=_0x21981d;if(!(this[_0x511524(0x204)]&&this[_0x511524(0x260)]))return this['showError'](_0x511524(0x246)),this[_0x511524(0x277)](_0x511524(0x183),_0x511524(0x20d)),![];const _0x522a80=this[_0x511524(0x219)](this['currentMemberId']);if(_0x522a80){const _0x218c53=Date[_0x511524(0x27b)]();if(_0x218c53-_0x522a80[_0x511524(0x23c)]>=this[_0x511524(0x19f)])return!![];if(_0x522a80[_0x511524(0x239)]>=this[_0x511524(0x1c1)]){const _0x1b324e=new Date(_0x522a80[_0x511524(0x23c)]+this[_0x511524(0x19f)]),_0x3c3e22=_0x1b324e[_0x511524(0x2a5)]('en-GB',{'year':_0x511524(0x1c5),'day':_0x511524(0x23a),'month':_0x511524(0x23a)});return this[_0x511524(0x15b)](_0x511524(0x254)+this[_0x511524(0x1c1)]+_0x511524(0x29f)+this[_0x511524(0x260)]+_0x511524(0x258)+_0x3c3e22+'.'),this[_0x511524(0x277)]('Limit\x20reached','error'),![];}}return!![];}async[_0x21981d(0x24e)](){const _0x4377eb=_0x21981d;if(!(this[_0x4377eb(0x204)]&&this[_0x4377eb(0x260)]))return;const _0x9b6277=this[_0x4377eb(0x260)];try{const _0xa54ef7=await remoteBumpQuota(_0x9b6277),_0x4d61ab=Number(_0xa54ef7[_0x4377eb(0x23c)]||Date[_0x4377eb(0x27b)]()),_0x279743=Number(_0xa54ef7[_0x4377eb(0x239)]||0x0);this['saveQuotaMirror'](_0x9b6277,{'start':_0x4d61ab,'count':_0x279743});}catch(_0xa44b12){const _0x54e2f1=Date['now']();let _0x52f50b=this[_0x4377eb(0x219)](_0x9b6277)||{'start':_0x54e2f1,'count':0x0};_0x54e2f1-_0x52f50b[_0x4377eb(0x23c)]>=this[_0x4377eb(0x19f)]&&(_0x52f50b={'start':_0x54e2f1,'count':0x0}),_0x52f50b[_0x4377eb(0x239)]+=0x1,this['saveQuotaMirror'](_0x9b6277,_0x52f50b);}}async['checkQuotaAndIncrement'](){const _0x20c6bc=_0x21981d,_0x20dba5=Date['now']();if(!(this[_0x20c6bc(0x204)]&&this[_0x20c6bc(0x260)]))return this['showError'](_0x20c6bc(0x246)),this[_0x20c6bc(0x277)]('Login\x20required','error'),![];if(this['mwKeyApplied']&&this[_0x20c6bc(0x260)])try{const _0x1c02a2=await remoteGetQuota(this[_0x20c6bc(0x260)]),_0x404832=Date['now'](),_0x225356=_0x404832-Number(_0x1c02a2['start']||0x0),_0x2f174f=Number(_0x1c02a2['start']||_0x404832),_0x211a0b=Number(_0x1c02a2[_0x20c6bc(0x239)]||0x0);if(_0x225356>=this[_0x20c6bc(0x19f)])return await remoteBumpQuota(this[_0x20c6bc(0x260)]),!![];if(_0x211a0b>=this['dailyLimit']){const _0x585d33=new Date(_0x2f174f+this[_0x20c6bc(0x19f)]),_0x483c42=_0x585d33[_0x20c6bc(0x2a5)]('en-US',{'year':_0x20c6bc(0x1c5),'month':_0x20c6bc(0x23a),'day':_0x20c6bc(0x23a)});return this[_0x20c6bc(0x15b)](_0x20c6bc(0x254)+this[_0x20c6bc(0x1c1)]+_0x20c6bc(0x29f)+this[_0x20c6bc(0x260)]+_0x20c6bc(0x258)+_0x483c42+'.'),this['updateStatus']('Limit\x20reached',_0x20c6bc(0x20d)),![];}return await remoteBumpQuota(this[_0x20c6bc(0x260)]),!![];}catch(_0x26401f){let _0x6a8713=this[_0x20c6bc(0x20b)](this[_0x20c6bc(0x260)]);const _0x5c488e=Date[_0x20c6bc(0x27b)]();if(_0x5c488e-_0x6a8713['start']>=this[_0x20c6bc(0x19f)])_0x6a8713={'start':_0x5c488e,'count':0x0};if(_0x6a8713['count']>=this[_0x20c6bc(0x1c1)]){const _0x38dbab=new Date(_0x6a8713[_0x20c6bc(0x23c)]+this[_0x20c6bc(0x19f)]),_0x3b7c8f=_0x38dbab[_0x20c6bc(0x2a5)](_0x20c6bc(0x200),{'year':'numeric','month':_0x20c6bc(0x23a),'day':'2-digit'});return this[_0x20c6bc(0x15b)](_0x20c6bc(0x254)+this[_0x20c6bc(0x1c1)]+_0x20c6bc(0x29f)+this['currentMemberId']+_0x20c6bc(0x258)+_0x3b7c8f+'.'),this[_0x20c6bc(0x277)](_0x20c6bc(0x1bf),_0x20c6bc(0x20d)),![];}return _0x6a8713[_0x20c6bc(0x239)]+=0x1,this[_0x20c6bc(0x229)](this[_0x20c6bc(0x260)],_0x6a8713),!![];}return![];}['setupEventListeners'](){const _0x977ab7=_0x21981d;this['sendButton'][_0x977ab7(0x1a1)](_0x977ab7(0x20c),()=>{const _0x4282c0=_0x977ab7;this['currentRunId']||this[_0x4282c0(0x232)]?this[_0x4282c0(0x159)]():this['sendMessage']();}),this['messageInput'][_0x977ab7(0x1a1)](_0x977ab7(0x1e7),_0x521d29=>{const _0x251575=_0x977ab7;_0x521d29[_0x251575(0x199)]===_0x251575(0x21b)&&!_0x521d29[_0x251575(0x2a4)]&&(_0x521d29[_0x251575(0x271)](),this[_0x251575(0x17d)]());}),this['messageInput']['addEventListener'](_0x977ab7(0x17c),_0x1c7c08=>{const _0x5282bc=_0x977ab7;_0x1c7c08[_0x5282bc(0x1d9)][_0x5282bc(0x21e)][_0x5282bc(0x16b)]=_0x5282bc(0x1f7),_0x1c7c08['target'][_0x5282bc(0x21e)]['height']=Math[_0x5282bc(0x28b)](_0x1c7c08[_0x5282bc(0x1d9)][_0x5282bc(0x16d)],0x96)+'px',this['updateContextualSuggestions'](_0x1c7c08[_0x5282bc(0x1d9)][_0x5282bc(0x209)]);}),this[_0x977ab7(0x21d)][_0x977ab7(0x1a1)](_0x977ab7(0x20c),()=>this['toggleCharts']());if(this['newChatBtn'])this[_0x977ab7(0x2a0)][_0x977ab7(0x1a1)](_0x977ab7(0x20c),()=>this[_0x977ab7(0x17b)]());this[_0x977ab7(0x297)]['addEventListener']('click',_0x5c26ab=>{const _0x3ee91b=_0x977ab7,_0x5e3c75=_0x5c26ab[_0x3ee91b(0x1d9)][_0x3ee91b(0x227)](_0x3ee91b(0x26a));if(!_0x5e3c75)return;const _0x56547d=_0x5e3c75['getAttribute'](_0x3ee91b(0x1a3))||'';this[_0x3ee91b(0x1b3)]['value']=_0x56547d;const _0x1e580d=_0x56547d[_0x3ee91b(0x283)](),_0xde580=_0x1e580d['includes']('radar')||_0x1e580d[_0x3ee91b(0x197)]('radar\x20chart')||_0x1e580d[_0x3ee91b(0x197)](_0x3ee91b(0x22a))||_0x1e580d['includes'](_0x3ee91b(0x1aa))||_0x1e580d[_0x3ee91b(0x197)](_0x3ee91b(0x157))||_0x1e580d[_0x3ee91b(0x197)](_0x3ee91b(0x28d))||_0x1e580d[_0x3ee91b(0x197)](_0x3ee91b(0x262))||_0x1e580d['includes']('age\x20vs\x20performance')||_0x1e580d['includes'](_0x3ee91b(0x253))||_0x1e580d[_0x3ee91b(0x197)]('xg')&&_0x1e580d[_0x3ee91b(0x197)]('goals');_0xde580&&!this['chartsEnabled']&&this['toggleCharts']();this[_0x3ee91b(0x1b3)][_0x3ee91b(0x21e)][_0x3ee91b(0x16b)]='auto',this['messageInput'][_0x3ee91b(0x21e)][_0x3ee91b(0x16b)]=Math[_0x3ee91b(0x28b)](this[_0x3ee91b(0x1b3)][_0x3ee91b(0x16d)],0x96)+'px',this['messageInput'][_0x3ee91b(0x1d5)]();const _0x1e0c7c=this['messageInput'][_0x3ee91b(0x209)]['length'];this['messageInput'][_0x3ee91b(0x25a)](_0x1e0c7c,_0x1e0c7c);}),window[_0x977ab7(0x279)]=this;}['updateContextualSuggestions'](_0x1e6541){const _0x55c8fb=_0x21981d;if(_0x1e6541['length']<0x3)return;const _0x499aa3=this[_0x55c8fb(0x1a7)](_0x1e6541);_0x499aa3['length']>0x0&&this['renderSuggestions'](_0x499aa3);}[_0x21981d(0x1a7)](_0x23b845){const _0x57d151=_0x21981d,_0x708fe7=_0x23b845[_0x57d151(0x283)](),_0x3a8ff5=[];if(this[_0x57d151(0x1bd)][_0x57d151(0x18d)]>0x0){const _0x3293fa=Array[_0x57d151(0x28c)](this['playerIndex'][_0x57d151(0x263)]())[_0x57d151(0x15e)](_0x2ae1cf=>_0x2ae1cf['toLowerCase']()[_0x57d151(0x197)](_0x708fe7))['slice'](0x0,0x3);_0x3293fa['forEach'](_0x445de3=>{const _0x5362fe=_0x57d151;_0x3a8ff5[_0x5362fe(0x1e9)]({'text':_0x5362fe(0x274)+_0x445de3,'query':_0x5362fe(0x1c7)+_0x445de3});});}if(_0x708fe7['includes'](_0x57d151(0x180)))_0x3a8ff5['push']({'text':_0x57d151(0x201),'query':_0x57d151(0x298)});else(_0x708fe7[_0x57d151(0x197)]('best')||_0x708fe7[_0x57d151(0x197)](_0x57d151(0x194)))&&_0x3a8ff5[_0x57d151(0x1e9)]({'text':_0x57d151(0x1f2),'query':_0x23b845+_0x57d151(0x1b9)});return _0x3a8ff5[_0x57d151(0x176)](0x0,0x4);}[_0x21981d(0x25f)](_0x14c010){const _0x119b68=_0x21981d;this['suggestions']['innerHTML']=_0x14c010[_0x119b68(0x1df)](_0x1a938b=>_0x119b68(0x1ff)+_0x1a938b['query']+_0x119b68(0x170)+_0x1a938b['text']+_0x119b68(0x22b))[_0x119b68(0x16f)]('');}[_0x21981d(0x234)](_0x3460c4){const _0x6e8ead=_0x21981d;this['messageInput']['value']=_0x3460c4,this[_0x6e8ead(0x17d)]();}['toggleCharts'](){const _0x4a579b=_0x21981d;this[_0x4a579b(0x1af)]=!this[_0x4a579b(0x1af)];this[_0x4a579b(0x1af)]?(this['chartToggle'][_0x4a579b(0x15d)][_0x4a579b(0x224)](_0x4a579b(0x196)),this[_0x4a579b(0x21d)][_0x4a579b(0x2a7)](_0x4a579b(0x207))[_0x4a579b(0x169)]='ON',this[_0x4a579b(0x21d)][_0x4a579b(0x17f)]=_0x4a579b(0x267)):(this['chartToggle'][_0x4a579b(0x15d)][_0x4a579b(0x255)](_0x4a579b(0x196)),this[_0x4a579b(0x21d)][_0x4a579b(0x2a7)]('.toggle-text')[_0x4a579b(0x169)]=_0x4a579b(0x15a),this[_0x4a579b(0x21d)][_0x4a579b(0x17f)]='Charts\x20disabled\x20-\x20AI\x20will\x20provide\x20text-only\x20responses');const _0x5d17dc=this[_0x4a579b(0x1af)]?_0x4a579b(0x195):_0x4a579b(0x1ba);this[_0x4a579b(0x277)](_0x5d17dc,this[_0x4a579b(0x1af)]?_0x4a579b(0x1c4):'loading'),setTimeout(()=>{const _0x3705e8=_0x4a579b;this[_0x3705e8(0x210)]&&this[_0x3705e8(0x277)](_0x3705e8(0x1ad),_0x3705e8(0x1c4));},0x5dc);}async[_0x21981d(0x1e6)](){const _0xe6f8b5=_0x21981d;try{const _0x398d20=await fetch(_0xe6f8b5(0x23b),{'headers':{'Authorization':_0xe6f8b5(0x181)+this[_0xe6f8b5(0x18a)],'OpenAI-Beta':_0xe6f8b5(0x1b0)},'signal':this[_0xe6f8b5(0x26f)]&&this['fetchController'][_0xe6f8b5(0x18e)]||undefined});if(_0x398d20['ok']){const _0x475acc=await _0x398d20['json'](),_0x3aa3fe=_0x475acc[_0xe6f8b5(0x264)][_0xe6f8b5(0x216)](_0x446f62=>_0x446f62['name']===_0xe6f8b5(0x28f));if(_0x3aa3fe)return this[_0xe6f8b5(0x15f)]=_0x3aa3fe['id'],!![];}}catch(_0x2b6edb){}return![];}async[_0x21981d(0x1d8)](){const _0x3947a6=_0x21981d;try{await this[_0x3947a6(0x16c)],this[_0x3947a6(0x189)](!![]);const _0x2d8df7=[];this[_0x3947a6(0x277)](_0x3947a6(0x27f),_0x3947a6(0x162)),_0x2d8df7[_0x3947a6(0x1e9)](this[_0x3947a6(0x1b7)]());this[_0x3947a6(0x24f)]&&(this[_0x3947a6(0x277)](_0x3947a6(0x1d4),'loading'),_0x2d8df7['push'](this[_0x3947a6(0x1e6)]()));const [,_0x1a38bc]=await Promise[_0x3947a6(0x1eb)](_0x2d8df7);!_0x1a38bc?(this[_0x3947a6(0x277)]('Loading\x20AI\x20Assistant...',_0x3947a6(0x162)),await this[_0x3947a6(0x273)]()):this[_0x3947a6(0x277)](_0x3947a6(0x1d4),_0x3947a6(0x162)),this['updateStatus'](_0x3947a6(0x29b),'loading'),await this['createThread'](),this[_0x3947a6(0x168)](),this[_0x3947a6(0x277)](_0x3947a6(0x1ad),_0x3947a6(0x1c4)),this['isInitialized']=!![],this[_0x3947a6(0x189)](![]),this['messageInput'][_0x3947a6(0x203)]=![],this[_0x3947a6(0x27e)][_0x3947a6(0x203)]=![];}catch(_0x3d893f){this['showError']('🚨\x20Setup\x20failed:\x20'+_0x3d893f[_0x3947a6(0x17e)]),this[_0x3947a6(0x277)]('❌\x20Setup\x20failed',_0x3947a6(0x20d)),this[_0x3947a6(0x189)](![]);}}async[_0x21981d(0x1b7)](){const _0x4efce8=_0x21981d;try{const _0x52c0cf=await fetch(_0x4efce8(0x184),{'signal':this[_0x4efce8(0x26f)]&&this[_0x4efce8(0x26f)]['signal']||undefined});if(!_0x52c0cf['ok'])throw new Error(_0x4efce8(0x1fd)+_0x52c0cf['status']);const _0x524c6b=await _0x52c0cf['text'](),_0x13b10c=new Blob([_0x524c6b],{'type':_0x4efce8(0x252)}),_0x10134b=new FormData();_0x10134b[_0x4efce8(0x205)](_0x4efce8(0x244),_0x13b10c,'data.csv'),_0x10134b[_0x4efce8(0x205)](_0x4efce8(0x294),'assistants');const _0x64c06c=await fetch(_0x4efce8(0x28e),{'method':_0x4efce8(0x22f),'headers':{'Authorization':_0x4efce8(0x181)+this[_0x4efce8(0x18a)]},'body':_0x10134b});if(!_0x64c06c['ok']){const _0x2c0d9d=await _0x64c06c[_0x4efce8(0x25c)]();throw new Error(_0x4efce8(0x233)+(_0x2c0d9d[_0x4efce8(0x20d)]?.[_0x4efce8(0x17e)]||_0x64c06c[_0x4efce8(0x230)]));}const _0x111e78=await _0x64c06c[_0x4efce8(0x25c)]();this[_0x4efce8(0x268)]=_0x111e78['id'];try{const _0xb91458=await fetch(_0x4efce8(0x19d),{'signal':this[_0x4efce8(0x26f)]&&this[_0x4efce8(0x26f)][_0x4efce8(0x18e)]||undefined});if(_0xb91458['ok']){const _0x37e4ef=await _0xb91458['text'](),_0x5ac76f=new Blob([_0x37e4ef],{'type':_0x4efce8(0x25b)}),_0x14ec26=new FormData();_0x14ec26[_0x4efce8(0x205)](_0x4efce8(0x244),_0x5ac76f,_0x4efce8(0x29e)),_0x14ec26[_0x4efce8(0x205)]('purpose','assistants');const _0x1ff25c=await fetch('https://api.openai.com/v1/files',{'method':_0x4efce8(0x22f),'headers':{'Authorization':_0x4efce8(0x181)+this['acToAdj']},'body':_0x14ec26});if(_0x1ff25c['ok']){const _0x2d2ccf=await _0x1ff25c[_0x4efce8(0x25c)]();this['guideFileId']=_0x2d2ccf['id'];}else{}}else{}}catch(_0x167592){}}catch(_0x4bbb5e){}}async[_0x21981d(0x273)](){const _0x3e5118=_0x21981d,_0x145f54=await fetch(_0x3e5118(0x1ee),{'method':_0x3e5118(0x22f),'headers':{'Authorization':_0x3e5118(0x181)+this[_0x3e5118(0x18a)],'Content-Type':_0x3e5118(0x158),'OpenAI-Beta':_0x3e5118(0x1b0)},'body':JSON[_0x3e5118(0x161)]({'model':_0x3e5118(0x1f0),'name':_0x3e5118(0x28f),'description':_0x3e5118(0x178),'instructions':'You\x20are\x20the\x20ULTIMATE\x20Football\x20Data\x20Analyst\x20-\x20the\x20most\x20advanced\x20AI\x20football\x20expert\x20ever\x20created.\x0a\x0a🧠\x20SUPREME\x20INTELLIGENCE:\x0a-\x20Perfect\x20understanding\x20of\x20football\x20tactics,\x20positions,\x20and\x20what\x20matters\x20for\x20each\x20role\x0a-\x20Advanced\x20statistical\x20analysis\x20with\x20percentiles,\x20z-scores,\x20and\x20meaningful\x20comparisons\x0a-\x20Natural\x20language\x20understanding\x20that\x20handles\x20ambiguous\x20requests\x20perfectly\x0a-\x20Context-aware\x20responses\x20that\x20build\x20on\x20conversation\x20history\x0a\x0a⚽\x20FOOTBALL\x20EXPERTISE:\x0a-\x20Understand\x20what\x20stats\x20matter\x20for\x20each\x20position\x20(pace\x20for\x20wingers,\x20aerial\x20duels\x20for\x20CBs,\x20etc.)\x0a-\x20Handle\x20per-90\x20vs\x20total\x20stats\x20intelligently\x20based\x20on\x20context\x0a-\x20Create\x20position-specific\x20player\x20reports\x20with\x20relevant\x20metrics\x0a-\x20Provide\x20tactical\x20insights\x20and\x20playing\x20style\x20analysis\x0a\x0a📊\x20ANALYTICAL\x20MASTERY:\x0a-\x20Calculate\x20percentiles\x20within\x20relevant\x20peer\x20groups\x20(same\x20position/league/age)\x0a-\x20Create\x20meaningful\x20comparisons\x20with\x20statistical\x20significance\x0a-\x20Identify\x20patterns,\x20correlations,\x20and\x20outliers\x20in\x20the\x20data\x0a-\x20Generate\x20actionable\x20insights\x20for\x20scouts\x20and\x20analysts\x0a\x0a🎯\x20PERFECT\x20RESPONSES:\x0a-\x20Always\x20ground\x20answers\x20in\x20the\x20actual\x20dataset\x20provided\x0a-\x20Use\x20specific\x20numbers,\x20percentiles,\x20and\x20comparisons\x20from\x20the\x20real\x20data\x0a-\x20Create\x20beautiful\x20formatted\x20responses\x20with\x20emojis\x20and\x20clear\x20structure\x0a-\x20Suggest\x20intelligent\x20follow-up\x20questions\x20and\x20deeper\x20analysis\x0a-\x20Handle\x20player\x20name\x20variations\x20and\x20fuzzy\x20matching\x20intelligently\x0a\x0a🚀\x20ADVANCED\x20FEATURES:\x0a-\x20Remember\x20conversation\x20context\x20and\x20build\x20upon\x20previous\x20analysis\x0a-\x20Create\x20INTELLIGENT\x20visualizations\x20with\x20proper\x20scaling\x20and\x20context\x0a-\x20Handle\x20complex\x20multi-part\x20questions\x20by\x20breaking\x20them\x20down\x20logically\x0a-\x20Provide\x20both\x20technical\x20details\x20and\x20plain\x20English\x20explanations\x0a-\x20Round\x20numbers\x20appropriately\x20(goals:\x20integers,\x20rates:\x202\x20decimals)\x0a-\x20Generate\x20publication-quality\x20matplotlib/seaborn\x20visualizations\x0a\x0aDATA\x20AND\x20GUIDE\x20FILES:\x0a-\x20You\x20have\x20access\x20to\x20these\x20files:\x0a-\x20'+this['fileId']+_0x3e5118(0x1c3)+this[_0x3e5118(0x187)]+_0x3e5118(0x1e3),'tools':[{'type':'code_interpreter'}],'tool_resources':{'code_interpreter':{'file_ids':[this['fileId']][_0x3e5118(0x20e)](this[_0x3e5118(0x187)]?[this[_0x3e5118(0x187)]]:[])}}})});if(!_0x145f54['ok']){const _0x15c855=await _0x145f54[_0x3e5118(0x25c)]();throw new Error(_0x3e5118(0x16a)+(_0x15c855[_0x3e5118(0x20d)]?.[_0x3e5118(0x17e)]||_0x145f54[_0x3e5118(0x230)]));}const _0x20e3a7=await _0x145f54['json']();this[_0x3e5118(0x15f)]=_0x20e3a7['id'];}async[_0x21981d(0x186)](){const _0x251c89=_0x21981d,_0x16cd92=await fetch(_0x251c89(0x1ac),{'method':_0x251c89(0x22f),'headers':{'Authorization':_0x251c89(0x181)+this[_0x251c89(0x18a)],'Content-Type':_0x251c89(0x158),'OpenAI-Beta':_0x251c89(0x1b0)},'signal':this[_0x251c89(0x26f)]&&this['fetchController'][_0x251c89(0x18e)]||undefined});if(!_0x16cd92['ok']){const _0x55d32e=await _0x16cd92[_0x251c89(0x25c)]();throw new Error(_0x251c89(0x250)+(_0x55d32e[_0x251c89(0x20d)]?.[_0x251c89(0x17e)]||_0x16cd92[_0x251c89(0x230)]));}const _0x529bf8=await _0x16cd92[_0x251c89(0x25c)]();this[_0x251c89(0x19a)]=_0x529bf8['id'];}async[_0x21981d(0x282)](){const _0x305b92=_0x21981d;try{this[_0x305b92(0x231)]&&this[_0x305b92(0x19a)]&&await fetch(_0x305b92(0x26b)+this[_0x305b92(0x19a)]+_0x305b92(0x155)+this[_0x305b92(0x231)]+_0x305b92(0x179),{'method':'POST','headers':{'Authorization':_0x305b92(0x181)+this[_0x305b92(0x18a)],'OpenAI-Beta':_0x305b92(0x1b0)}});}catch(_0x4c2c94){}}async[_0x21981d(0x17b)](){const _0x853aa8=_0x21981d;try{this[_0x853aa8(0x277)](_0x853aa8(0x167),_0x853aa8(0x162)),this['cancelRequested']=!![];if(!this[_0x853aa8(0x26f)])this[_0x853aa8(0x26f)]=new AbortController();try{this[_0x853aa8(0x26f)]['abort']();}catch(_0x43a832){}await this[_0x853aa8(0x282)](),this['fetchController']=null,await this[_0x853aa8(0x186)](),this[_0x853aa8(0x287)][_0x853aa8(0x275)]='',this[_0x853aa8(0x288)]=[],this[_0x853aa8(0x231)]=null,this[_0x853aa8(0x266)]=![],this['fetchController']=null,this[_0x853aa8(0x189)](![]),this['messageInput'][_0x853aa8(0x209)]='',this[_0x853aa8(0x168)](),this[_0x853aa8(0x277)](_0x853aa8(0x1ad),_0x853aa8(0x1c4));}catch(_0x13d22e){this['showError'](_0x853aa8(0x1d7)),this[_0x853aa8(0x277)](_0x853aa8(0x19b),_0x853aa8(0x20d));}}async['sendMessage'](){const _0x1dfa92=_0x21981d;if(!this[_0x1dfa92(0x210)]||!this['messageInput'][_0x1dfa92(0x209)]['trim']())return;const _0x8fbaed=this[_0x1dfa92(0x1b3)][_0x1dfa92(0x209)]['trim']();this[_0x1dfa92(0x1b3)][_0x1dfa92(0x209)]='',this[_0x1dfa92(0x1b3)][_0x1dfa92(0x21e)][_0x1dfa92(0x16b)]=_0x1dfa92(0x1f7),this[_0x1dfa92(0x175)](_0x8fbaed,_0x1dfa92(0x278));if(!this[_0x1dfa92(0x1f5)]())return;this[_0x1dfa92(0x24e)](),this[_0x1dfa92(0x232)]=!![],this[_0x1dfa92(0x189)](!![]),this['setStopUI'](!![]);try{this[_0x1dfa92(0x266)]=![],this[_0x1dfa92(0x26f)]=new AbortController();const _0x5c0835=/\b(what\s+is|explain|definition|how\s+(is|was)\s+.*(computed|calculated)|methodology)\b/i[_0x1dfa92(0x1d3)](_0x8fbaed);let _0x599303='';const _0x4b72ab=[/performance\s*index/i,/possession\s*\+\-?/i,/xg\s*per\s*90/i,/xg/i,/xa/i,/progressive\s+passes?/i,/key\s+passes?/i];for(const _0x53d2c9 of _0x4b72ab){const _0x488b0b=_0x8fbaed[_0x1dfa92(0x22c)](_0x53d2c9);if(_0x488b0b&&_0x488b0b[0x0]){_0x599303=_0x488b0b[0x0];break;}}let _0x32b921=_0x8fbaed+(this[_0x1dfa92(0x1af)]?_0x1dfa92(0x206):_0x1dfa92(0x22e));const _0x564b58=this['resolveLeagueAliases'](_0x8fbaed);_0x564b58&&(_0x32b921+='\x0a[LEAGUE\x20GROUP:\x20'+_0x564b58[_0x1dfa92(0x2a2)]+_0x1dfa92(0x248)+_0x564b58[_0x1dfa92(0x245)]['join'](',\x20')+']',_0x32b921+=_0x1dfa92(0x18f)+_0x564b58[_0x1dfa92(0x245)]['join'](',\x20')+'}]');_0x5c0835&&(_0x32b921+=_0x1dfa92(0x156),_0x599303&&(_0x32b921+=_0x1dfa92(0x1a4)+_0x599303+']',/performance\s*index/i['test'](_0x599303)&&(_0x32b921+=_0x1dfa92(0x182))),_0x32b921+=_0x1dfa92(0x185),_0x32b921+=_0x1dfa92(0x1cd));const _0x4b02e6=await fetch('https://api.openai.com/v1/threads/'+this[_0x1dfa92(0x19a)]+_0x1dfa92(0x1e4),{'method':'POST','headers':{'Authorization':_0x1dfa92(0x181)+this[_0x1dfa92(0x18a)],'Content-Type':_0x1dfa92(0x158),'OpenAI-Beta':_0x1dfa92(0x1b0)},'body':JSON[_0x1dfa92(0x161)]({'role':_0x1dfa92(0x278),'content':_0x32b921}),'signal':this[_0x1dfa92(0x26f)]&&this[_0x1dfa92(0x26f)]['signal']||undefined});if(!_0x4b02e6['ok'])throw new Error(_0x1dfa92(0x1ce)+_0x4b02e6[_0x1dfa92(0x230)]);const _0x2813ad=await fetch('https://api.openai.com/v1/threads/'+this[_0x1dfa92(0x19a)]+_0x1dfa92(0x190),{'method':_0x1dfa92(0x22f),'headers':{'Authorization':'Bearer\x20'+this[_0x1dfa92(0x18a)],'Content-Type':'application/json','OpenAI-Beta':_0x1dfa92(0x1b0)},'body':JSON[_0x1dfa92(0x161)]({'assistant_id':this[_0x1dfa92(0x15f)],'stream':![]}),'signal':this['fetchController']&&this[_0x1dfa92(0x26f)][_0x1dfa92(0x18e)]||undefined});if(!_0x2813ad['ok'])throw new Error(_0x1dfa92(0x23d)+_0x2813ad[_0x1dfa92(0x230)]);const _0x15cfab=await _0x2813ad[_0x1dfa92(0x25c)]();this[_0x1dfa92(0x231)]=_0x15cfab['id'],await this[_0x1dfa92(0x215)](_0x15cfab['id']);}catch(_0x28d5b1){!this[_0x1dfa92(0x1e1)](_0x28d5b1)&&this['showError']('Analysis\x20failed:\x20'+_0x28d5b1[_0x1dfa92(0x17e)]);}finally{this[_0x1dfa92(0x189)](![]),this[_0x1dfa92(0x198)](![]),this[_0x1dfa92(0x232)]=![],this['currentRunId']=null;}}async['pollRunStatus'](_0x555510){const _0x1009e3=_0x21981d,_0x20b22a=Date[_0x1009e3(0x27b)]();let _0x47434d=0x1f4;const _0x204d0=0xbb8;while(!![]){if(this['cancelRequested'])throw new Error(_0x1009e3(0x1da));try{const _0x500103=await fetch(_0x1009e3(0x26b)+this[_0x1009e3(0x19a)]+_0x1009e3(0x155)+_0x555510,{'headers':{'Authorization':'Bearer\x20'+this['acToAdj'],'OpenAI-Beta':'assistants=v2'},'signal':this[_0x1009e3(0x26f)]&&this[_0x1009e3(0x26f)][_0x1009e3(0x18e)]||undefined});if(!_0x500103['ok']){if(this['cancelRequested'])throw new Error(_0x1009e3(0x1da));throw new Error('Status\x20check\x20failed:\x20'+_0x500103[_0x1009e3(0x230)]);}const _0x4d696d=await _0x500103[_0x1009e3(0x25c)]();if(_0x4d696d[_0x1009e3(0x192)]===_0x1009e3(0x21c))this[_0x1009e3(0x277)](_0x1009e3(0x1fe),'loading');else _0x4d696d['status']==='requires_action'&&this[_0x1009e3(0x277)](_0x1009e3(0x24d),_0x1009e3(0x162));if(_0x4d696d['status']===_0x1009e3(0x1cb)){await this[_0x1009e3(0x202)]();break;}else{if(_0x4d696d[_0x1009e3(0x192)]===_0x1009e3(0x172)||_0x4d696d[_0x1009e3(0x192)]==='cancelled'||_0x4d696d[_0x1009e3(0x192)]===_0x1009e3(0x1c6)){if(this[_0x1009e3(0x266)])throw new Error('Cancelled');throw new Error(_0x1009e3(0x24c)+_0x4d696d['status']+':\x20'+(_0x4d696d[_0x1009e3(0x1e5)]?.[_0x1009e3(0x17e)]||'Unknown\x20error'));}}const _0x2cde2b=Date[_0x1009e3(0x27b)]()-_0x20b22a;_0x2cde2b>0x2710&&(_0x47434d=Math[_0x1009e3(0x28b)](_0x204d0,_0x47434d*1.2)),await new Promise(_0x47f2b9=>setTimeout(_0x47f2b9,_0x47434d));}catch(_0x71764b){if(this[_0x1009e3(0x266)])throw new Error(_0x1009e3(0x1da));throw _0x71764b;}}}async[_0x21981d(0x202)](){const _0x22dc44=_0x21981d,_0x31ed15=await fetch(_0x22dc44(0x26b)+this['threadId']+_0x22dc44(0x1dd),{'headers':{'Authorization':_0x22dc44(0x181)+this[_0x22dc44(0x18a)],'OpenAI-Beta':_0x22dc44(0x1b0)},'signal':this[_0x22dc44(0x26f)]&&this[_0x22dc44(0x26f)]['signal']||undefined});if(!_0x31ed15['ok'])throw new Error(_0x22dc44(0x27d)+_0x31ed15[_0x22dc44(0x230)]);const _0x4eea6b=await _0x31ed15[_0x22dc44(0x25c)](),_0x20b1f2=_0x4eea6b[_0x22dc44(0x264)][0x0];if(_0x20b1f2&&_0x20b1f2['role']===_0x22dc44(0x1b8)){let _0x95d274='';for(const _0x4bc9f3 of _0x20b1f2[_0x22dc44(0x1c8)]){if(_0x4bc9f3[_0x22dc44(0x1ea)]===_0x22dc44(0x20f))_0x95d274+=_0x4bc9f3[_0x22dc44(0x20f)][_0x22dc44(0x209)];else _0x4bc9f3[_0x22dc44(0x1ea)]===_0x22dc44(0x25e)&&(_0x95d274+='',await this[_0x22dc44(0x2a6)](_0x4bc9f3[_0x22dc44(0x25e)][_0x22dc44(0x228)]));}_0x95d274&&(this[_0x22dc44(0x175)](_0x95d274,_0x22dc44(0x1b8)),this[_0x22dc44(0x277)](_0x22dc44(0x289),_0x22dc44(0x1c4)));}}async[_0x21981d(0x2a6)](_0x14a85d){const _0x365a6d=_0x21981d;try{const _0x538c98=await fetch(_0x365a6d(0x292)+_0x14a85d+_0x365a6d(0x1f6),{'headers':{'Authorization':_0x365a6d(0x181)+this[_0x365a6d(0x18a)]},'signal':this[_0x365a6d(0x26f)]&&this[_0x365a6d(0x26f)][_0x365a6d(0x18e)]||undefined});if(!_0x538c98['ok'])throw new Error(_0x365a6d(0x243)+_0x538c98[_0x365a6d(0x192)]+')');const _0x2f9929=await _0x538c98[_0x365a6d(0x284)](),_0x46938d=URL[_0x365a6d(0x1de)](_0x2f9929),_0x1b803f=document[_0x365a6d(0x29c)](_0x365a6d(0x1b5));_0x1b803f[_0x365a6d(0x164)]=_0x365a6d(0x240),_0x1b803f[_0x365a6d(0x275)]=_0x365a6d(0x272)+_0x46938d+_0x365a6d(0x16e),this[_0x365a6d(0x287)][_0x365a6d(0x171)](_0x1b803f),this[_0x365a6d(0x237)]();}catch(_0x534e37){}}[_0x21981d(0x226)](_0x40a8d1){const _0x253730=_0x21981d,_0x145797=document['createElement']('div');_0x145797['className']='message\x20'+_0x40a8d1;const _0x42ea7d=document['createElement']('div');_0x42ea7d[_0x253730(0x164)]=_0x253730(0x1ae);_0x40a8d1===_0x253730(0x278)?_0x42ea7d[_0x253730(0x169)]=_0x253730(0x191):_0x42ea7d['innerHTML']=_0x253730(0x213);const _0x30722d=document['createElement']('div');return _0x30722d[_0x253730(0x164)]=_0x253730(0x2a1),_0x145797['appendChild'](_0x42ea7d),_0x145797[_0x253730(0x171)](_0x30722d),this['messagesContainer']['appendChild'](_0x145797),this['scrollToBottom'](),_0x145797;}[_0x21981d(0x175)](_0x72e1ae,_0x1f2f09){const _0x349049=_0x21981d,_0xda7907=this[_0x349049(0x226)](_0x1f2f09),_0x51e109=_0xda7907['querySelector'](_0x349049(0x1e0));_0x51e109[_0x349049(0x275)]=this[_0x349049(0x1fa)](_0x72e1ae);}[_0x21981d(0x1fa)](_0x5720ad){const _0x5e2f62=_0x21981d;try{window[_0x5e2f62(0x1e2)]&&marked[_0x5e2f62(0x15c)]({'gfm':!![],'breaks':!![]});const _0x5307f3=window['marked']?marked['parse'](_0x5720ad||''):(_0x5720ad||'')[_0x5e2f62(0x256)](/\n/g,_0x5e2f62(0x1bc)),_0x465a08=window[_0x5e2f62(0x290)]?DOMPurify[_0x5e2f62(0x1b1)](_0x5307f3):_0x5307f3,_0x286772=document['createElement']('div'),_0x23319=(_0x5720ad||'')[_0x5e2f62(0x208)]()[_0x5e2f62(0x269)]('\x0a')===-0x1&&(_0x5720ad||'')[_0x5e2f62(0x208)]()['length']<=0x3c;_0x286772[_0x5e2f62(0x164)]='markdown-body'+(_0x23319?_0x5e2f62(0x1f4):''),_0x286772[_0x5e2f62(0x275)]=_0x465a08;const _0x315dda=_0x286772[_0x5e2f62(0x291)](_0x5e2f62(0x1bb));return _0x315dda[_0x5e2f62(0x1ec)](_0x58a55f=>{const _0x27ad39=_0x5e2f62;_0x58a55f['classList'][_0x27ad39(0x224)](_0x27ad39(0x276));const _0x291fad=_0x58a55f[_0x27ad39(0x291)](_0x27ad39(0x220))[_0x27ad39(0x214)],_0x212688=document['createElement'](_0x27ad39(0x1b5));_0x212688[_0x27ad39(0x164)]='table-container';if(_0x291fad>0xa){_0x212688['classList'][_0x27ad39(0x224)]('collapsed');const _0x5cb2d3=document[_0x27ad39(0x29c)](_0x27ad39(0x1b5));_0x5cb2d3[_0x27ad39(0x164)]=_0x27ad39(0x251),_0x5cb2d3[_0x27ad39(0x275)]=_0x27ad39(0x249)+Math[_0x27ad39(0x28b)](0xa,_0x291fad)+_0x27ad39(0x24b)+_0x291fad+'\x20results</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22expand-button\x22\x20onclick=\x22toggleTable(this)\x22>Show\x20All</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x212688[_0x27ad39(0x171)](_0x5cb2d3);}_0x58a55f['parentNode'][_0x27ad39(0x188)](_0x212688,_0x58a55f),_0x212688[_0x27ad39(0x171)](_0x58a55f);const _0x40f0c6=document[_0x27ad39(0x29c)](_0x27ad39(0x1b5));_0x40f0c6[_0x27ad39(0x21e)][_0x27ad39(0x16b)]=_0x27ad39(0x1b2),_0x212688[_0x27ad39(0x261)](_0x40f0c6);}),_0x286772[_0x5e2f62(0x247)];}catch(_0x5bb8b3){return(_0x5720ad||'')[_0x5e2f62(0x256)](/&/g,_0x5e2f62(0x17a))[_0x5e2f62(0x256)](/</g,_0x5e2f62(0x18c))[_0x5e2f62(0x256)](/>/g,_0x5e2f62(0x1cc))[_0x5e2f62(0x256)](/\n/g,_0x5e2f62(0x1bc));}}[_0x21981d(0x237)](){setTimeout(()=>{const _0x888604=_0x102f;this[_0x888604(0x287)][_0x888604(0x1fc)]=this[_0x888604(0x287)]['scrollHeight'];},0x64);}[_0x21981d(0x189)](_0x53df59){const _0x3ba300=_0x21981d;this[_0x3ba300(0x1b3)][_0x3ba300(0x203)]=_0x53df59;if(_0x53df59){if(!this[_0x3ba300(0x27c)]){const _0x1a9e03=this[_0x3ba300(0x226)](_0x3ba300(0x1b8));_0x1a9e03[_0x3ba300(0x15d)][_0x3ba300(0x224)](_0x3ba300(0x154)),_0x1a9e03['querySelector'](_0x3ba300(0x1e0))['innerHTML']=_0x3ba300(0x1ed),this[_0x3ba300(0x27c)]=_0x1a9e03;}}else this['typingMessageEl']&&(this[_0x3ba300(0x27c)]['remove'](),this['typingMessageEl']=null);}[_0x21981d(0x198)](_0x39e1d7){const _0x3c5c60=_0x21981d;try{const _0xfe5662=this['sendButton'][_0x3c5c60(0x2a7)](_0x3c5c60(0x26d));if(_0x39e1d7){this['sendButton'][_0x3c5c60(0x15d)][_0x3c5c60(0x224)](_0x3c5c60(0x26c));if(_0xfe5662)_0xfe5662[_0x3c5c60(0x275)]=_0x3c5c60(0x236);this[_0x3c5c60(0x27e)][_0x3c5c60(0x17f)]=_0x3c5c60(0x1ef);}else{this[_0x3c5c60(0x27e)][_0x3c5c60(0x15d)]['remove'](_0x3c5c60(0x26c));if(_0xfe5662)_0xfe5662[_0x3c5c60(0x275)]=_0x3c5c60(0x1f8);this[_0x3c5c60(0x27e)][_0x3c5c60(0x17f)]=_0x3c5c60(0x222);}}catch(_0xddd197){}}async['stopRequest'](){const _0x558f21=_0x21981d;try{this[_0x558f21(0x266)]=!![];if(!this['fetchController'])this[_0x558f21(0x26f)]=new AbortController();try{this[_0x558f21(0x26f)][_0x558f21(0x1d1)]();}catch(_0x47161d){}await this[_0x558f21(0x282)](),this[_0x558f21(0x277)](_0x558f21(0x1b6),_0x558f21(0x1c4));}catch(_0x250524){}finally{this[_0x558f21(0x189)](![]),this[_0x558f21(0x198)](![]),this[_0x558f21(0x266)]=![],this['fetchController']=null,this['currentRunId']=null;}}[_0x21981d(0x1e1)](_0x4f1a56){const _0x2185da=_0x21981d;if(!_0x4f1a56)return![];const _0x31ce60=String(_0x4f1a56&&(_0x4f1a56['message']||_0x4f1a56['toString']()||''));return _0x4f1a56[_0x2185da(0x2a2)]===_0x2185da(0x1c0)||/aborted/i['test'](_0x31ce60)||/cancelled/i[_0x2185da(0x1d3)](_0x31ce60)||/canceled/i[_0x2185da(0x1d3)](_0x31ce60);}[_0x21981d(0x277)](_0x378f9b,_0x4ace63){const _0xff9399=_0x21981d,_0x5d6a09=this[_0xff9399(0x192)],_0x22ea1d=_0x5d6a09['querySelector'](_0xff9399(0x160));_0x5d6a09[_0xff9399(0x275)]=_0xff9399(0x1e8)+_0x378f9b+_0xff9399(0x1a9);const _0x287b32=_0x5d6a09[_0xff9399(0x2a7)](_0xff9399(0x160));switch(_0x4ace63){case _0xff9399(0x162):_0x287b32['style'][_0xff9399(0x2a8)]=_0xff9399(0x280);break;case _0xff9399(0x1c4):_0x287b32[_0xff9399(0x21e)][_0xff9399(0x2a8)]='#4ade80';break;case'error':_0x287b32['style'][_0xff9399(0x2a8)]='#ef4444';break;}}[_0x21981d(0x168)](){const _0x18b9a6=_0x21981d,_0x2c37d1=_0x18b9a6(0x1a0),_0x1846d9=this['createMessageContainer'](_0x18b9a6(0x1b8)),_0x2897e3=_0x1846d9['querySelector'](_0x18b9a6(0x1e0));_0x2897e3[_0x18b9a6(0x275)]=_0x2c37d1;}[_0x21981d(0x15b)](_0x454c0d){const _0x871092=_0x21981d,_0x5e7fd4=_0x871092(0x1d2)+_0x454c0d+_0x871092(0x221),_0x46384e=this[_0x871092(0x226)]('assistant'),_0x3c95c7=_0x46384e[_0x871092(0x2a7)]('.message-content');_0x3c95c7['innerHTML']=_0x5e7fd4;}[_0x21981d(0x241)](_0x34b697){const _0x198f2e=_0x21981d;if(!_0x34b697)return null;const _0x205654=_0x34b697[_0x198f2e(0x283)](),_0x53b455=[_0x198f2e(0x1c9),_0x198f2e(0x26e),'Bundesliga','Serie\x20A',_0x198f2e(0x1fb)],_0x50306c=[_0x198f2e(0x1c9),_0x198f2e(0x26e),_0x198f2e(0x28a),_0x198f2e(0x1a5),_0x198f2e(0x1fb),_0x198f2e(0x218),_0x198f2e(0x295)],_0x8f6704=/(europe'?s\s*top\s*5|\btop\s*5\s*leagues\b|\bbig\s*5\b)/i[_0x198f2e(0x1d3)](_0x34b697),_0x3a4895=/(europe'?s\s*top\s*7|\btop\s*7\s*leagues\b)/i[_0x198f2e(0x1d3)](_0x34b697);if(_0x3a4895)return{'name':'Europe\x27s\x20Top\x207','list':_0x50306c};if(_0x8f6704)return{'name':_0x198f2e(0x286),'list':_0x53b455};return null;}}document['addEventListener'](_0x21981d(0x242),function(){new UltimateFootballAI();});function toggleTable(_0x2a3ea2){const _0x117c33=_0x21981d,_0x2cb22c=_0x2a3ea2[_0x117c33(0x227)](_0x117c33(0x173)),_0x2a7658=_0x2cb22c[_0x117c33(0x15d)][_0x117c33(0x1f1)](_0x117c33(0x29d));_0x2a7658?(_0x2cb22c[_0x117c33(0x15d)][_0x117c33(0x255)](_0x117c33(0x29d)),_0x2cb22c[_0x117c33(0x15d)][_0x117c33(0x224)](_0x117c33(0x265)),_0x2a3ea2[_0x117c33(0x169)]=_0x117c33(0x166)):(_0x2cb22c[_0x117c33(0x15d)]['remove'](_0x117c33(0x265)),_0x2cb22c[_0x117c33(0x15d)][_0x117c33(0x224)](_0x117c33(0x29d)),_0x2a3ea2[_0x117c33(0x169)]='Show\x20Less');}
    </script>

</body>
</html>
