<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"></script>

<style>

    * {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
}
 body {
     font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
     background-color: #f5f7fa;
     min-height: 100vh;
     display: flex;
     align-items: center;
     justify-content: center;
     padding: 20px;
}
 .container {
     background: rgba(255, 255, 255, 0.98);
     backdrop-filter: blur(30px);
     border-radius: 10px;
     box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
     width: 100%;
     max-width: 1400px;
     height: 95vh;
     display: flex;
     flex-direction: column;
     overflow: hidden;
     border: 1px solid rgba(255, 255, 255, 0.4);
}
 .header {
     background: #ffffff;
     color: #333333;
     height: 70px;
     position: relative;
     box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
     display: flex;
     align-items: center;
     justify-content: space-between;
     padding: 0 28px;
     border-bottom: 1px solid #e0e0e0;
}
 .header h1 {
     font-size: 32px;
     font-weight: 900;
     display: flex;
     align-items: center;
     gap: 12px;
     color: #333333;
     order: 1;
}
 .header p {
     opacity: 0.95;
     font-size: 16px;
     font-weight: 600;
}
 .status {
     background: rgba(255, 255, 255, 0.3);
     padding: 10px 18px;
     border-radius: 25px;
     font-size: 13px;
     backdrop-filter: blur(15px);
     font-weight: 700;
     border: 1px solid rgba(255, 255, 255, 0.4);
     display: flex;
     align-items: center;
     gap: 8px;
     order: 3;
     margin-left: auto;
}
 .status-indicator {
     width: 8px;
     height: 8px;
     border-radius: 50%;
     background: #4ade80;
     animation: pulse 2s infinite;
}
 @keyframes pulse {
     0%, 100% {
         opacity: 1;
    }
     50% {
         opacity: 0.5;
    }
}
 .chat-container {
     flex: 1;
     display: flex;
     flex-direction: column;
     overflow: hidden;
}
 .messages {
     flex: 1;
     overflow-y: auto;
     padding: 28px;
     display: flex;
     flex-direction: column;
     justify-content: flex-start;
     gap: 24px;
     background: linear-gradient(to bottom, #fafbff, #f8fafc);
}
 .message {
     display: flex;
     gap: 16px;
     max-width: 95%;
     animation: messageSlide 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
 @keyframes messageSlide {
     from {
         opacity: 0;
         transform: translateY(20px) scale(0.95);
    }
     to {
         opacity: 1;
         transform: translateY(0) scale(1);
    }
}
 .message.user {
     align-self: flex-end;
     flex-direction: row-reverse;
}
 .message-content {
     background: white;
     border-radius: 24px;
     padding: 20px 24px;
     box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
     line-height: 1.7;
     font-size: 15px;
     border: 1px solid rgba(0, 0, 0, 0.05);
     position: relative;
}
 .message.user .message-content {
     background: #e6f0ff;
     color: #0f172a;
     box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
     border: 1px solid #c7d7ff;
}
 .message.assistant .message-content {
     background: #ffffff;
     color: inherit;
}
 .avatar {
     width: 48px;
     height: 48px;
     border-radius: 50%;
     display: flex;
     align-items: center;
     justify-content: center;
     font-weight: 800;
     font-size: 18px;
     flex-shrink: 0;
     box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
     border: 3px solid white;
     overflow: hidden;
}
 .avatar img {
     width: 100%;
     height: 100%;
     object-fit: cover;
     display: block;
}
 .message.user .avatar {
     background: #3498db;
     color: white;
}
 .message.assistant .avatar {
     background: white;
     color: white;
}
 .input-container {
     padding: 16px 28px 9px 28px;
     border-top: 1px solid #e2e8f0;
     background: white;
     box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.1);
}
 .suggestions {
     display: flex;
     gap: 8px;
     margin-bottom: 16px;
     flex-wrap: wrap;
     max-height: 80px;
     overflow-y: auto;
}
 .suggestion-chip {
     background: #f0f0f0;
     border: 1px solid #ddd;
     border-radius: 16px;
     padding: 6px 12px;
     font-size: 12px;
     width: 119px;
     cursor: pointer;
     transition: all 0.2s ease;
     white-space: nowrap;
     display: inline-flex;
     align-items: center;
     gap: 6px;
}
 .suggestion-chip span {
     flex: 1;
     text-align: center;
}
 .suggestion-chip:hover {
     background: #e0e0e0;
     transform: translateY(-1px);
}
 .input-wrapper {
     display: flex;
     gap: 8px;
     align-items: center;
     background: #f8fafc;
     border-radius: 28px;
     padding: 8px;
     border: 2px solid #e2e8f0;
     transition: all 0.3s ease;
}
 .input-wrapper:focus-within {
     border-color: #3498db;
     background: white;
}
 .input-field {
     flex: 1;
     border: none;
     border-radius: 20px;
     padding: 16px 14px;
     font-size: 15px;
     font-family: inherit;
     outline: none;
     resize: none;
     min-height: 24px;
     max-height: 150px;
     background: transparent;
     line-height: 1.5;
}
 .send-button {
     background: #3498db;
     color: white;
     border: none;
     border-radius: 50%;
     width: 45px;
     height: 45px;
     cursor: pointer;
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: 20px;
     transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
     flex-shrink: 0;
     box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
}
 .send-button:hover:not(:disabled) {
     transform: scale(1.1);
     box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
}
 .send-button:active:not(:disabled) {
     transform: scale(0.95);
}
 .send-button:disabled {
     opacity: 0.6;
     cursor: not-allowed;
     transform: none;
}
 .send-button.stop {
     background: #3498db;
     box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
}
 .send-button.stop:hover:not(:disabled) {
     box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
}
/* Typing indicator bubble */
 .typing-message .message-content {
     display: inline-flex;
     align-items: center;
     gap: 10px;
}
 .typing {
     display: inline-flex;
     gap: 6px;
     align-items: center;
}
 .typing-dot {
     width: 8px;
     height: 8px;
     background: #9ec5fe;
     border-radius: 50%;
     animation: blink 1.2s infinite ease-in-out;
}
 .typing-dot:nth-child(2) {
     animation-delay: 0.2s;
}
 .typing-dot:nth-child(3) {
     animation-delay: 0.4s;
}
 @keyframes blink {
     0%, 80%, 100% {
         opacity: 0.3;
         transform: translateY(0);
    }
     40% {
         opacity: 1;
         transform: translateY(-2px);
    }
}
 .input-controls {
     display: flex;
     align-items: center;
     gap: 8px;
     margin-right: 12px;
}
 .chart-toggle {
     display: flex;
     align-items: center;
     gap: 6px;
     background: #e2e8f0;
     color: #64748b;
     border: none;
     padding: 10px 14px;
     border-radius: 20px;
     font-size: 13px;
     font-weight: 600;
     cursor: pointer;
     transition: all 0.2s ease;
     white-space: nowrap;
     min-width: 90px;
     position: relative;
     justify-content: center;
}
 .chart-toggle:hover {
     background: #cbd5e1;
}
 .chart-toggle.active {
     background: linear-gradient(135deg, #10b981, #059669);
     color: white;
     box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}
 .chart-toggle.active:hover {
     background: linear-gradient(135deg, #059669, #047857);
     box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}
 .toggle-text {
     font-size: 12px;
     font-weight: 700;
     text-align: center;
     width: 100%;
}
 .chart-toggle .icon-left {
     position: absolute;
     left: 12px;
     top: 50%;
     transform: translateY(-50%);
}
 .header-action {
     display: flex;
     align-items: center;
     justify-content: center;
     background: #e2e8f0;
     color: #64748b;
     border: none;
     width: 36px;
     height: 36px;
     border-radius: 22px;
     font-size: 15px;
     cursor: pointer;
     transition: all 0.2s ease;
     order: 2;
     margin-left: 17px;
}
 .header-action:hover {
     background: #cbd5e1;
}
 .loading {
     display: flex;
     gap: 6px;
     align-items: center;
}
 .loading-dot {
     width: 8px;
     height: 8px;
     background: white;
     border-radius: 50%;
     animation: loadingBounce 1.6s infinite ease-in-out;
}
 .loading-dot:nth-child(1) {
     animation-delay: -0.32s;
}
 .loading-dot:nth-child(2) {
     animation-delay: -0.16s;
}
 @keyframes loadingBounce {
     0%, 80%, 100% {
         transform: scale(0.6);
         opacity: 0.5;
    }
     40% {
         transform: scale(1);
         opacity: 1;
    }
}
 .error {
     background: linear-gradient(135deg, #fef2f2, #fee2e2);
     border: 2px solid #fca5a5;
     color: #dc2626;
     border-radius: 16px;
     padding: 20px;
     margin: 16px 0;
     font-weight: 600;
}
 .success {
     background: linear-gradient(135deg, #f0fdf4, #dcfce7);
     border: 2px solid #86efac;
     color: #16a34a;
     border-radius: 16px;
     padding: 20px;
     margin: 16px 0;
     font-weight: 600;
}
 .chart-container {
     background: white;
     border-radius: 20px;
     padding: 24px;
     margin: 16px 0;
     box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
     border: 1px solid #e2e8f0;
}
 pre {
     background: #1e293b;
     color: #e2e8f0;
     border-radius: 16px;
     padding: 20px;
     overflow-x: auto;
     font-size: 14px;
     margin: 16px 0;
     font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
     line-height: 1.6;
}
 code {
     background: #f1f5f9;
     color: #475569;
     padding: 4px 8px;
     border-radius: 8px;
     font-size: 14px;
     font-weight: 600;
     font-family: 'SF Mono', Monaco, monospace;
}
 .messages::-webkit-scrollbar {
     width: 10px;
}
 .messages::-webkit-scrollbar-thumb {
     background: #cbd5e1;
     border-radius: 5px;
}
 .messages::-webkit-scrollbar-track {
     background: rgba(0, 0, 0, 0.05);
     border-radius: 5px;
}
 .disclaimer {
     text-align: center;
     font-size: 11px;
     color: #64748b;
     margin: 8px auto 0 auto;
     opacity: 0.8;
     font-weight: 400;
     display: block;
     width: 100%;
}
 @media (max-width: 768px) {
     .header {
         padding: 20px;
    }
     .header h1 {
         font-size: 24px;
    }
     .messages {
         padding: 20px;
    }
}
/* Markdown table styling and controls */
 .table-container {
     margin-top: 16px;
     margin-bottom: 16px;
    /* add spacing after tables to separate following sentences */
     overflow-x: auto;
     border-radius: 12px;
     border: 1px solid #e2e8f0;
     background: white;
}
 .table-controls {
     display: flex;
     justify-content: space-between;
     align-items: center;
     margin-bottom: 0;
     padding: 10px 14px;
     background-color: #f8fafc;
     border-radius: 12px 12px 0 0;
     border-bottom: 1px solid #e2e8f0;
     font-size: 12px;
     color: #64748b;
     font-weight: 600;
}
 .expand-button {
     background: #3498db;
     color: #ffffff;
     border: none;
     padding: 6px 10px;
     border-radius: 8px;
     cursor: pointer;
     font-size: 12px;
     font-weight: 700;
}
 .expand-button:hover {
     opacity: 0.9;
}
 table.data-table {
     width: 100%;
     border-collapse: collapse;
     font-size: 14px;
}
 table.data-table th, table.data-table td {
     padding: 10px 12px;
     text-align: left;
     border-bottom: 1px solid #e2e8f0;
}
 table.data-table th {
     background: #f8fafc;
     font-weight: 700;
     color: #334155;
}
 table.data-table tr:hover {
     background: #f9fafb;
}
 .table-container.collapsed tbody tr:nth-child(n+11) {
     display: none;
}
 .markdown-body {
     line-height: 1.75;
}
 .markdown-body p {
     margin: 0 0 1rem 0;
}
 .markdown-body ul, .markdown-body ol {
     margin: 0.9rem 0 1.1rem 0;
     padding-left: 1.6rem;
     list-style-position: outside;
}
 .markdown-body li + li {
     margin-top: 0.45rem;
}
 .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
     margin: 0.75rem 0 0.55rem 0;
     line-height: 1.25;
}
 .markdown-body blockquote {
     margin: 1rem 0;
     padding: 0.75rem 1rem;
     border-left: 5px solid #e2e8f0;
     background: #f8fafc;
     border-radius: 6px;
     color: #475569;
}
 .markdown-body hr {
     border: none;
     border-top: 1px solid #e2e8f0;
     margin: 1.25rem 0;
}
 .markdown-body > :last-child {
     margin-bottom: 0 !important;
}
 .markdown-body.compact {
     line-height: 1.45;
}
 .markdown-body.compact p {
     margin: 0;
}
 .status {
     font-weight: 500;
}
 .status .status-text {
     font-weight: 500;
     opacity: 0.9;
}
 
   

   </style>
</head>
<body>



    <div id="SFctr" class="SF" data-org="31002" data-ini="myaccount" data-scl="0" data-sfi="1" style="position:absolute;left:-9999px;top:-9999px;width:0;height:0;overflow:hidden;"></div>
<script src="https://cdn.membershipworks.com/mfm.js"></script>
<script>
function __hashId(s){let h=5381;for(let i=0;i<s.length;i++){h=((h<<5)+h)^s.charCodeAt(i);}return 'u'+(h>>>0).toString(36);} 
    function __applyUserKey(key){
    if(!key||!window.chatbot)return;
    window.chatbot.mwKeyApplied=true;
    // If key looks like a plain numeric member ID, store it for per-ID quota
    if(/^\d{3,}$/.test(key)){
        window.chatbot.currentMemberId=key;
        // Preload remote quota silently to sync local mirror without blocking UI
        if(window.chatbot && typeof window.chatbot.preloadRemoteQuotaForId==='function'){
            try{ window.chatbot.preloadRemoteQuotaForId(key); }catch(_){ }
        }
    }
}
document.addEventListener('DOMContentLoaded',function(){
	var ctr=document.getElementById('SFctr');
	if(!ctr){ return; }

	function __findIdentity(root){
		var email='';
		var memberId='';
		var emailRx=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i;
		var txt=(root.textContent||'');
		var tMatch=txt.match(emailRx); if(tMatch) email=tMatch[0];
		// mailto:
		if(!email){
			var anchors=Array.from(root.querySelectorAll('a[href^="mailto:"]'));
			var mailFromAnchor=anchors.map(a=>a.getAttribute('href')||'').map(h=>h.replace(/^mailto:/i,'')).find(Boolean)||'';
			if(emailRx.test(mailFromAnchor)) email=mailFromAnchor.match(emailRx)[0];
		}
		// attribute scan
		var all=Array.from(root.querySelectorAll('*'));
		for(var i=0;i<all.length && (!email || !memberId);i++){
			var el=all[i];
			if(!email){
				var val=(el.getAttribute('value')||'');
				var vm=val.match(emailRx); if(vm){ email=vm[0]; }
			}
			for(var j=0;j<el.attributes.length && (!email || !memberId);j++){
				var a=el.attributes[j];
				var v=a.value||'';
				if(!email){ var m=v.match(emailRx); if(m){ email=m[0]; } }
				if(!memberId && /member|mem|user|uid|id/i.test(a.name)){
					var idm=v.match(/\d{3,}/); if(idm){ memberId=idm[0]; }
				}
			}
		}
		return { email: email||'', memberId: memberId||'', elementCount: (root.querySelectorAll('*').length||0), textLen: (txt||'').length };
	}

	var obs=new MutationObserver(function(){
		var info=__findIdentity(ctr);
		var email=info.email;
		var memberId=info.memberId;
		var key=email||memberId||'';
		if(key){
			__applyUserKey(key);
			obs.disconnect();
		}
	});
	obs.observe(ctr,{childList:true,subtree:true});

});

</script>
 
    <div class="container">
        <div class="header">
            <h1>DataMB Chat</h1>
            <button id="newChatBtn" class="header-action" title="New Chat" data-i18n="tooltips.newChat" data-i18n-attr="title">
                <span><i class="fa-solid fa-pen-to-square"></i></span>
            </button>
            <div class="status" id="status">
                <div class="status-indicator"></div>
            </div>
        </div>
        
        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="message assistant">
                
                </div>
            </div>
            
            <div class="input-container">
                <div class="suggestions" id="suggestions">
            
                    <div class="suggestion-chip" data-query="Scout report for Baleba" data-i18n="suggestionInputs.scoutReport" data-i18n-attr="data-query">
                        <i class="fas fa-chart-pie"></i><span data-i18n="suggestions.scoutReport">Scout Report</span>
                    </div>

                    <div class="suggestion-chip" data-query="Explain how the Performance Index is calculated" data-i18n="suggestionInputs.definitions" data-i18n-attr="data-query">
                        <i class="fas fa-book"></i><span data-i18n="suggestions.definitions">Definitions</span>
                    </div>
                  
                    <div class="suggestion-chip" data-query="Show me the most creative players in Europe's top 5 leagues" data-i18n="suggestionInputs.mostCreative" data-i18n-attr="data-query">
                        <i class="fas fa-lightbulb"></i><span data-i18n="suggestions.mostCreative">Most Creative</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Create a radar chart comparing Pedri and Bellingham" data-i18n="suggestionInputs.radarChart" data-i18n-attr="data-query">
                        <i class="fas fa-project-diagram"></i><span data-i18n="suggestions.radarChart">Radar Chart</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Plot total xG vs total goals for Premier League strikers" data-i18n="suggestionInputs.xGvsGoals" data-i18n-attr="data-query">
                        <i class="fas fa-chart-area"></i><span data-i18n="suggestions.xGvsGoals">xG vs Goals</span>
                    </div>
        
                    <div class="suggestion-chip" data-query="Most goals in Premier League this season" data-i18n="suggestionInputs.topScorers" data-i18n-attr="data-query">
                        <i class="fas fa-futbol"></i><span data-i18n="suggestions.topScorers">Top Scorers</span>
                    </div>
                    

                    </div>
                
                <div class="input-wrapper">
                    <textarea 
                        id="messageInput" 
                        class="input-field" 
                        data-i18n="placeholder"
                        placeholder="Ask anything… • 提问 • اسأل"
                        rows="1"
                    ></textarea>
                    <div class="input-controls">
                        <button id="chartToggle" class="chart-toggle" title="Charts disabled - AI will provide text-only responses" data-i18n="tooltips.chartsDisabled" data-i18n-attr="title">
                            <i class="fas fa-chart-line icon-left"></i>
                            <span class="toggle-text">OFF</span>
                        </button>
                        <button id="sendButton" class="send-button" title="Send" data-i18n="tooltips.send" data-i18n-attr="title">
                            <span>
                                <i class="fas fa-chevron-up"></i> 
                            
                            </span>
                        </button>
                    </div>
                </div>
                <div class="disclaimer" data-i18n="disclaimer">
                    AI can make mistakes. Check other tools for reference.
                </div>
            </div>
        </div>
    </div>

    <script>

		const _0x193671=_0x58ea;(function(_0xe25039,_0x59efaf){const _0x8f9fc2=_0x58ea,_0x341db9=_0xe25039();while(!![]){try{const _0x4705c2=parseInt(_0x8f9fc2(0x121))/0x1+-parseInt(_0x8f9fc2(0xf0))/0x2*(parseInt(_0x8f9fc2(0xf7))/0x3)+-parseInt(_0x8f9fc2(0x138))/0x4+parseInt(_0x8f9fc2(0xd9))/0x5+parseInt(_0x8f9fc2(0x163))/0x6+parseInt(_0x8f9fc2(0x1b4))/0x7*(-parseInt(_0x8f9fc2(0x1db))/0x8)+parseInt(_0x8f9fc2(0x12e))/0x9;if(_0x4705c2===_0x59efaf)break;else _0x341db9['push'](_0x341db9['shift']());}catch(_0x818978){_0x341db9['push'](_0x341db9['shift']());}}}(_0x36d4,0x47248));function _0x58ea(_0x250d09,_0x3a4c90){const _0x36d4b8=_0x36d4();return _0x58ea=function(_0x58ea7d,_0x53a331){_0x58ea7d=_0x58ea7d-0xcf;let _0x1a62b9=_0x36d4b8[_0x58ea7d];return _0x1a62b9;},_0x58ea(_0x250d09,_0x3a4c90);}function _0x36d4(){const _0x46c8e2=['saveQuotaCache','size','includes','12px','table-controls','tbody\x20tr','monthlyLimitReachedForAccount1','Unknown\x20error','file','Reading\x20dataset...','insertBefore','toLocaleString','start','messageInput','Bundesliga','best','ready','createMessageContainer','Europe\x27s\x20Top\x205','currentMemberId','\x20compact','renderSuggestions','messages','min','input','test','/messages','Assistant\x20creation\x20failed:\x20','data-table','https://api.openai.com/v1/threads/','currentTranslations','Report\x20for\x20','errors','formatContent','Ready!','cancelRun','key','guide.html','showMonthlyLimitError','/runs','sort','.toggle-text','monthlyLimitReachedForAccount2','Analysis\x20','Cancelled','Show\x20All','Stopped','append','count','text/html','isInitialized','uploadCSV','assistantId','marked','indexOf','7XdUSHZ','Bearer\x20','vs\x20Analysis','age\x20vs\x20performance','<i\x20class=\x22fas\x20fa-chevron-up\x22></i>','tooltips.chartsEnabled','assistant','failed','Upload\x20failed:\x20','plot','Show\x20Less','status.error','expired','./instructions.txt','scrollHeight','expanded','callback=','sanitize','data-i18n','querySelectorAll','\x0a[CODE\x20SCAFFOLD:\x0afrom\x20bs4\x20import\x20BeautifulSoup\x0ahtml=open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).read()\x0asoup=BeautifulSoup(html,\x20\x27html.parser\x27)\x0asec=soup.select_one(\x27#performanceindex\x27)\x20or\x20soup.find(id=\x27performanceindex\x27)\x0aprint(sec.get_text(\x22\x0a\x22,\x20strip=True)\x20if\x20sec\x20else\x20\x22NOT_FOUND\x22)\x0a]','setupEventListeners','disabled','chart-container','gpt-4.1-mini','Monthly\x20limit\x20reached','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','purpose','\x20of\x20','text','text/csv','fileId','updateContextualSuggestions','\x0a\x0a[CHARTS\x20ENABLED:\x20Create\x20visualizations\x20when\x20they\x20add\x20value\x20to\x20the\x20analysis]','\x20and\x20create\x20a\x20visualization','\x0a[GUIDE\x20SEARCH\x20TERM:\x20','cancelled','now','newChatBtn','719736hxyMoB','checkQuotaAndIncrement','filter','Starting\x20new\x20chat...','name','assistants=v2','setStopUI','background','status','.status-indicator','signal','<div\x20class=\x22suggestion-chip\x22\x20data-query=\x22','stopRequest','https://api.openai.com/v1/files','push','json','loading','find','setSelectionRange','conversationHistory','chartsEnabled','status.analyzingData','<br>','title','radar\x20chart','generateSmartSuggestions','pings','pollRunStatus','random','length','getAdjusted','visual','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22error\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Europe\x27s\x20Top\x207','DOMPurify','initialize','computeResetAtFromQuotaData','&bump=1','abort','Error','assistants','avatar','chatbot','radar','Quota\x20service\x20unavailable.\x20Please\x20try\x20again\x20later.','Primeira\x20Liga','\x0a\x0a[CHARTS\x20DISABLED:\x20Provide\x20text-only\x20responses]','\x20⇒\x20','<img\x20src=\x22','?id=','span','height','user','You\x20must\x20be\x20logged\x20in','canSendNow','MONTHLY_LIMIT','Thread\x20creation\x20failed:\x20','table','bootstrapPromise','data.csv','Analyzing\x20data...','closest','\x0a\x0a[DEFINITIONS\x20MODE:\x20Use\x20guide.html\x20ONLY\x20for\x20definitions/methodology.\x20Do\x20NOT\x20rely\x20on\x20general\x20knowledge.\x20Quote\x20and\x20cite\x20the\x20relevant\x20section.\x20Parse\x20the\x20local\x20HTML\x20file.\x20Do\x20NOT\x20use\x20network\x20requests.\x20If\x20not\x20found,\x20state:\x20\x22Not\x20specified\x20in\x20the\x20DataMB\x20Guide.\x22]','<div\x20data-i18n=\x22welcomeMsg\x22>How\x20can\x20I\x20help\x20you\x20today?\x20<br><br>I\x20am\x20trained\x20on\x20the\x202024/25\x20and\x202025\x20DataMB\x20dataset\x20(40\x20leagues).\x20I\x20can\x20answer\x20any\x20question\x20about\x20the\x20data\x20and\x20handle\x20complex\x20requests\x20—\x20from\x20metric\x20definitions\x20to\x20advanced\x20analysis,\x20scouting\x20reports,\x20and\x20deeper\x20insights.\x20<br><br>Enable\x20the\x20graph\x20toggle\x20for\x20on-demand\x20charts\x20and\x20visual\x20queries.</div>',')\x20reached\x20for\x20account\x20ID\x20','translateElement','setAttribute','createElement','status.analysisComplete','getTime','then','AbortError','auto','isAbortError','updateStatus','reuseAssistant','La\x20Liga','div','showDataInsights','\x0a[LEAGUE\x20GROUP:\x20','<img\x20src=\x22./chat.png\x22\x20alt=\x22AI\x22\x20/>','Analysis\x20failed:\x20','Loading\x20AI\x20Assistant...','setLoading','preventDefault','message\x20','removeChild','1869140LcYjvY','forEach','status.stopped','guideFileId','sendMessage','script','classList','statusText','Login\x20required','displayImageFile','toggleCharts','quotaCache','join','add','Enter','Resets\x20','value','https://script.google.com/macros/s/AKfycbzeGfINVX-m6MHHga0J520gIhcGONFHFSsyPUNeZdhEiNsaBGshAp9X7L9TQVtZU0IOwA/exec','status.monthlyLimitReached','Create\x20a\x20detailed\x20scouting\x20report\x20for\x20','map','&amp;','OFF','6sQGbuD','parentNode','Status\x20check\x20failed:\x20','playerIndex','POST','data','scatter\x20plot','135183LhSEHo','preloadRemoteQuotaForId','match','message-content','/cancel','data-i18n-attr','Running\x20calculations...','Image\x20fetch\x20failed\x20(','type','Run\x20creation\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-info\x22>Showing\x20','onerror','askQuestion','\x20reached\x20for\x20account\x20ID','Failed\x20to\x20start\x20a\x20new\x20chat.','querySelector','currentRunId','\x0a[APPLY\x20FILTER:\x20Only\x20include\x20rows\x20where\x20League\x20∈\x20{','.message-content','.status-text','Compare\x20their\x20key\x20stats\x20with\x20percentiles\x20and\x20visualizations','Ultimate\x20Football\x20Data\x20Analyst','contains','getLatestMessage','#f59e0b','addMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancelRequested','xg\x20vs\x20goals','getQuotaCache','focus','createAssistant','.table-container','Loading\x20AI\x20assistant...','warn','createObjectURL','formatResetDate','tooltips.chartsDisabled','getElementById','trim','Eredivisie','scrollToBottom','206691SQNqVr','collapsed','<i\x20class=\x22fas\x20fa-stop\x22></i>','❌\x20Setup\x20failed','isFinite','content','data-query','Charts:\x20OFF','parse','createThread','bar\x20chart','remove','active','4086090rhGlNn','Charts:\x20ON','/messages?limit=1','markdown-body','addEventListener','className','click','&gt;','Monthly\x20limit\x20(','\x22><i\x20class=\x22fas\x20fa-wand-magic-sparkles\x22></i><span>','2326648LcFyHS','.error','JSONP\x20error','application/json','messagesContainer','With\x20Charts','🚨\x20Setup\x20failed:\x20','\x0a[GUIDE\x20ANCHOR\x20HINT:\x20id=\x22performanceindex\x22\x20and\x20<h4>Performance\x20Index</h4>]','aHR0cHM6Ly93b3JrZXJzLXBsYXlncm91bmQtbGluZ2VyaW5nLWRpc2stMWFhNi5kYXRhbWItZm9vdGJhbGwud29ya2Vycy5kZXYvP3Rva2VuPXN1cGVyc2VjcmV0','2-digit','error','resolveLeagueAliases','Serie\x20A','/runs/','after','suggestions','Premier\x20League','https://api.openai.com/v1/assistants?limit=20','last_error','showError','REMOTE_QUOTA_URL\x20not\x20set','concat','acToAdj','newChat','style','innerHTML','sendButton','all','https://api.openai.com/v1/files/','CSV\x20file\x20not\x20found.\x20Status:\x20','resetAt','\x20results</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22expand-button\x22\x20onclick=\x22toggleTable(this)\x22>Show\x20All</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','The\x20ultimate\x20football\x20analytics\x20AI\x20with\x20perfect\x20understanding\x20and\x20natural\x20language\x20processing','https://api.openai.com/v1/threads','isArray','chartToggle','\x22\x20alt=\x22Generated\x20Chart\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x208px;\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.08);\x22/>','head','getAttribute','appendChild','/content','</span></div>','&lt;','382098pbcjfq','slice','message','code_interpreter','scrollTop','replace','image_file','mwKeyApplied','Analysis\x20complete!','isSending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Message\x20failed:\x20','target','threadId','fetchController','stringify','resets','textContent','typingMessageEl','typing-message','acTo','keypress','toLowerCase','status.runningCalculations','numeric','./guide.html'];_0x36d4=function(){return _0x46c8e2;};return _0x36d4();}const REMOTE_QUOTA_URL=_0x193671(0xea);function __jsonp(_0x105130,_0x707fab=0x1f40){return new Promise((_0x461599,_0x3e8758)=>{const _0x22704b=_0x58ea,_0xb28ef0='cb'+Math[_0x22704b(0x1f7)]()['toString'](0x24)[_0x22704b(0x164)](0x2),_0x251d5c=document[_0x22704b(0x21e)](_0x22704b(0xde)),_0xfd3f2e=setTimeout(()=>{_0x4a8e48(),_0x3e8758(new Error('JSONP\x20timeout'));},_0x707fab);function _0x4a8e48(){const _0x18fd23=_0x22704b;if(_0x251d5c['parentNode'])_0x251d5c['parentNode'][_0x18fd23(0xd8)](_0x251d5c);try{delete window[_0xb28ef0];}catch(_0x153507){window[_0xb28ef0]=undefined;}clearTimeout(_0xfd3f2e);}window[_0xb28ef0]=_0x31bf29=>{_0x4a8e48(),_0x461599(_0x31bf29);},_0x251d5c['src']=_0x105130+(_0x105130[_0x22704b(0x17f)]('?')?'&':'?')+_0x22704b(0x1c4)+_0xb28ef0,_0x251d5c[_0x22704b(0x102)]=()=>{const _0x2c51e3=_0x22704b;_0x4a8e48(),_0x3e8758(new Error(_0x2c51e3(0x13a)));},document[_0x22704b(0x15d)][_0x22704b(0x15f)](_0x251d5c);});}async function remoteGetQuota(_0x44e5e9){const _0x5a4c9d=_0x193671;if(!REMOTE_QUOTA_URL)throw new Error(_0x5a4c9d(0x14c));return __jsonp(REMOTE_QUOTA_URL+'?id='+encodeURIComponent(_0x44e5e9));}async function remoteBumpQuota(_0x38adcf){const _0x5aff2a=_0x193671;if(!REMOTE_QUOTA_URL)throw new Error(_0x5aff2a(0x14c));return __jsonp(REMOTE_QUOTA_URL+_0x5aff2a(0x20c)+encodeURIComponent(_0x38adcf)+_0x5aff2a(0x200));}class UltimateFootballAI{constructor(){const _0x5df9f1=_0x193671;this[_0x5df9f1(0x177)]=null;const _0xfe1e8f=_0x5df9f1(0x140);this[_0x5df9f1(0x215)]=fetch(atob(_0xfe1e8f))[_0x5df9f1(0x221)](_0x4a8748=>_0x4a8748[_0x5df9f1(0x1ea)]())['then'](_0x3373ee=>{const _0x54624d=_0x5df9f1;return this[_0x54624d(0x177)]=_0x3373ee['key'],this[_0x54624d(0x14e)]=this[_0x54624d(0x1f9)](),this[_0x54624d(0x177)];}),this[_0x5df9f1(0x1b1)]=null,this[_0x5df9f1(0x170)]=null,this['fileId']=null,this[_0x5df9f1(0x1af)]=![],this[_0x5df9f1(0x1ee)]=[],this[_0x5df9f1(0x107)]=null,this[_0x5df9f1(0x1ef)]=![],this[_0x5df9f1(0x226)]=!![],this[_0x5df9f1(0x212)]=0x1e,this[_0x5df9f1(0x16a)]=![],this['currentMemberId']='',this[_0x5df9f1(0xe4)]={},this['messagesContainer']=document[_0x5df9f1(0x11d)](_0x5df9f1(0x193)),this[_0x5df9f1(0x18a)]=document[_0x5df9f1(0x11d)](_0x5df9f1(0x18a)),this['sendButton']=document[_0x5df9f1(0x11d)](_0x5df9f1(0x152)),this[_0x5df9f1(0x15b)]=document[_0x5df9f1(0x11d)](_0x5df9f1(0x15b)),this[_0x5df9f1(0x1da)]=document[_0x5df9f1(0x11d)](_0x5df9f1(0x1da)),this[_0x5df9f1(0x16c)]=![],this['fetchController']=null,this[_0x5df9f1(0x112)]=![],this[_0x5df9f1(0x1e3)]=document[_0x5df9f1(0x11d)](_0x5df9f1(0x1e3)),this[_0x5df9f1(0x147)]=document[_0x5df9f1(0x11d)](_0x5df9f1(0x147)),this[_0x5df9f1(0x1ef)]?this[_0x5df9f1(0x15b)][_0x5df9f1(0xdf)]['add'](_0x5df9f1(0x12d)):this[_0x5df9f1(0x15b)]['classList'][_0x5df9f1(0x12c)](_0x5df9f1(0x12d)),this[_0x5df9f1(0x1c9)](),this[_0x5df9f1(0x1fe)]();}[_0x193671(0x1f9)](){const _0x332699=_0x193671,_0xcf0f53=this[_0x332699(0x177)]||'';for(let _0x3d0bd0=_0xcf0f53['length']-0x1;_0x3d0bd0>=0x0;_0x3d0bd0--){const _0x4b25f2=_0xcf0f53[_0x3d0bd0];if(_0x4b25f2>='0'&&_0x4b25f2<='9'){const _0x3eb9c9=(Number(_0x4b25f2)+0x1)%0xa;return _0xcf0f53[_0x332699(0x164)](0x0,_0x3d0bd0)+String(_0x3eb9c9)+_0xcf0f53[_0x332699(0x164)](_0x3d0bd0+0x1);}}return _0xcf0f53;}['computeResetAtFromQuotaData'](_0x5323d3){const _0x4a74af=_0x193671;try{const _0x1c0346=0x1e*0x18*0x3c*0x3c*0x3e8,_0x223fcb=Array[_0x4a74af(0x15a)](_0x5323d3&&_0x5323d3[_0x4a74af(0x1f5)])?_0x5323d3[_0x4a74af(0x1f5)]['map'](Number)[_0x4a74af(0x1dd)](_0x3584f5=>Number[_0x4a74af(0x125)](_0x3584f5)):[];if(_0x223fcb[_0x4a74af(0x1f8)]>=this[_0x4a74af(0x212)]){const _0x59ea26=_0x223fcb[_0x4a74af(0x164)]()[_0x4a74af(0x1a5)]((_0xa59f73,_0x48d81c)=>_0xa59f73-_0x48d81c),_0x12f9ae=_0x59ea26[_0x59ea26[_0x4a74af(0x1f8)]-this[_0x4a74af(0x212)]];return _0x12f9ae+_0x1c0346;}if(Number[_0x4a74af(0x125)](Number(_0x5323d3&&_0x5323d3[_0x4a74af(0x189)])))return Number(_0x5323d3['start'])+_0x1c0346;}catch(_0xd15125){}return null;}['formatResetDate'](_0x433bb2){const _0x5cda81=_0x193671;try{const _0x298744=new Date(Number(_0x433bb2));if(!Number[_0x5cda81(0x125)](_0x298744[_0x5cda81(0x220)]()))return'';return _0x298744[_0x5cda81(0x188)](undefined,{'year':'numeric','month':_0x5cda81(0x17b),'day':_0x5cda81(0x17b),'hour':'2-digit','minute':_0x5cda81(0x141)});}catch(_0x92b0bc){return'';}}[_0x193671(0x17d)](_0x3029c2,_0x318160){const _0x197170=_0x193671;this['quotaCache'][_0x3029c2]={'start':Number(_0x318160[_0x197170(0x189)]||Date[_0x197170(0x1d9)]()),'count':Number(_0x318160[_0x197170(0x1ad)]||0x0),'resetAt':this[_0x197170(0x1ff)](_0x318160)};}[_0x193671(0x114)](_0x11ecfd){const _0x32739c=_0x193671,_0x2d487a=this[_0x32739c(0xe4)][_0x11ecfd];if(!_0x2d487a)return null;return _0x2d487a;}async[_0x193671(0xf8)](_0x110053){const _0x2abdb2=_0x193671;if(!_0x110053)return;try{const _0x5dd068=await remoteGetQuota(_0x110053);this[_0x2abdb2(0x17d)](_0x110053,_0x5dd068);}catch(_0x185abc){console['warn']('Failed\x20to\x20preload\x20quota\x20for',_0x110053,_0x185abc);}}[_0x193671(0x211)](){const _0xa7fdbc=_0x193671;if(!(this['mwKeyApplied']&&this['currentMemberId']))return this['showError'](_0xa7fdbc(0x210)),this[_0xa7fdbc(0x225)](_0xa7fdbc(0xe1),'error'),![];const _0x168978=this[_0xa7fdbc(0x114)](this[_0xa7fdbc(0x190)]);if(_0x168978){if(_0x168978[_0xa7fdbc(0x1ad)]>=this[_0xa7fdbc(0x212)])return this[_0xa7fdbc(0x1a3)](_0x168978[_0xa7fdbc(0x156)]||null),this['updateStatus']('Monthly\x20limit\x20reached',_0xa7fdbc(0x142)),![];}return!![];}async['bumpQuotaAsync'](){const _0x5da869=_0x193671;if(!(this[_0x5da869(0x16a)]&&this[_0x5da869(0x190)]))return;try{const _0x5a4005=await remoteBumpQuota(this[_0x5da869(0x190)]);this['saveQuotaCache'](this[_0x5da869(0x190)],_0x5a4005);}catch(_0x2c302c){console[_0x5da869(0x119)]('Failed\x20to\x20bump\x20quota,\x20updating\x20cache\x20locally:',_0x2c302c);const _0x222fad=this['getQuotaCache'](this[_0x5da869(0x190)]);_0x222fad&&(_0x222fad[_0x5da869(0x1ad)]+=0x1);}}async[_0x193671(0x1dc)](){const _0x36d762=_0x193671;if(!(this[_0x36d762(0x16a)]&&this[_0x36d762(0x190)]))return this[_0x36d762(0x14b)]('You\x20must\x20be\x20logged\x20in'),this[_0x36d762(0x225)](_0x36d762(0xe1),_0x36d762(0x142)),![];try{const _0x41483f=await remoteGetQuota(this[_0x36d762(0x190)]),_0x59cc00=Number(_0x41483f['count']||0x0);if(_0x59cc00>=this['MONTHLY_LIMIT']){this[_0x36d762(0x17d)](this[_0x36d762(0x190)],_0x41483f);const _0x479ea8=this[_0x36d762(0x1ff)](_0x41483f);return this[_0x36d762(0x1a3)](_0x479ea8||null),this[_0x36d762(0x225)](_0x36d762(0x1cd),_0x36d762(0x142)),![];}const _0x1d71b5=await remoteBumpQuota(this[_0x36d762(0x190)]);return this[_0x36d762(0x17d)](this[_0x36d762(0x190)],_0x1d71b5),!![];}catch(_0x503128){return this[_0x36d762(0x14b)](_0x36d762(0x207)),this[_0x36d762(0x225)]('Service\x20unavailable','error'),![];}}['showMonthlyLimitError'](_0x144475){const _0x4854e1=_0x193671;try{const _0x2965f9=window[_0x4854e1(0x19b)]||null,_0x29b6c9=_0x144475?this[_0x4854e1(0x11b)](_0x144475):null;if(_0x2965f9&&_0x2965f9[_0x4854e1(0x19d)]&&_0x2965f9[_0x4854e1(0x19d)][_0x4854e1(0x183)]&&_0x2965f9[_0x4854e1(0x19d)][_0x4854e1(0x1a7)]){const _0x278bec=String(_0x2965f9['errors'][_0x4854e1(0x183)]||'Monthly\x20limit\x20'),_0x23851b='('+this['MONTHLY_LIMIT']+')',_0x34c951=String(_0x2965f9[_0x4854e1(0x19d)]['monthlyLimitReachedForAccount2']||_0x4854e1(0x104)),_0x23144d=''+_0x278bec+_0x23851b+'\x20'+_0x34c951+'\x20'+this[_0x4854e1(0x190)]+'.',_0x5c872b=_0x2965f9[_0x4854e1(0x19d)]&&_0x2965f9[_0x4854e1(0x19d)][_0x4854e1(0x173)]?String(_0x2965f9[_0x4854e1(0x19d)][_0x4854e1(0x173)]):_0x4854e1(0xe8),_0x22470a=_0x29b6c9?'\x20'+_0x5c872b+_0x29b6c9+'.':'';this['showError'](_0x23144d+_0x22470a);return;}}catch(_0x35ac0b){}const _0x242399=_0x144475?'\x20Resets\x20'+this[_0x4854e1(0x11b)](_0x144475)+'.':'';this[_0x4854e1(0x14b)](_0x4854e1(0x136)+this['MONTHLY_LIMIT']+_0x4854e1(0x21b)+this['currentMemberId']+'.'+_0x242399);}['setupEventListeners'](){const _0x1787ad=_0x193671;this['sendButton']['addEventListener'](_0x1787ad(0x134),()=>{const _0x1ed504=_0x1787ad;this[_0x1ed504(0x107)]||this['isSending']?this[_0x1ed504(0x1e7)]():this[_0x1ed504(0xdd)]();}),this[_0x1787ad(0x18a)][_0x1787ad(0x132)](_0x1787ad(0x178),_0x20d660=>{const _0x655a40=_0x1787ad;_0x20d660[_0x655a40(0x1a1)]===_0x655a40(0xe7)&&!_0x20d660['shiftKey']&&(_0x20d660[_0x655a40(0xd6)](),this[_0x655a40(0xdd)]());}),this['messageInput'][_0x1787ad(0x132)](_0x1787ad(0x195),_0xb53c92=>{const _0x177ad2=_0x1787ad;_0xb53c92[_0x177ad2(0x16f)][_0x177ad2(0x150)][_0x177ad2(0x20e)]='auto',_0xb53c92[_0x177ad2(0x16f)][_0x177ad2(0x150)][_0x177ad2(0x20e)]=Math[_0x177ad2(0x194)](_0xb53c92['target']['scrollHeight'],0x96)+'px',this['updateContextualSuggestions'](_0xb53c92[_0x177ad2(0x16f)][_0x177ad2(0xe9)]);}),this['chartToggle'][_0x1787ad(0x132)](_0x1787ad(0x134),()=>this[_0x1787ad(0xe3)]());if(this[_0x1787ad(0x1da)])this['newChatBtn'][_0x1787ad(0x132)]('click',()=>this['newChat']());this[_0x1787ad(0x147)][_0x1787ad(0x132)](_0x1787ad(0x134),_0x580081=>{const _0x1f140e=_0x1787ad,_0x7596c5=_0x580081['target'][_0x1f140e(0x218)]('.suggestion-chip');if(!_0x7596c5)return;const _0x4ce4a9=_0x7596c5[_0x1f140e(0x15e)](_0x1f140e(0x127))||'';this['messageInput'][_0x1f140e(0xe9)]=_0x4ce4a9;const _0x222f04=_0x4ce4a9[_0x1f140e(0x179)](),_0x589704=_0x222f04[_0x1f140e(0x17f)](_0x1f140e(0x206))||_0x222f04[_0x1f140e(0x17f)](_0x1f140e(0x1f3))||_0x222f04['includes'](_0x1f140e(0xf6))||_0x222f04[_0x1f140e(0x17f)](_0x1f140e(0x1bd))||_0x222f04[_0x1f140e(0x17f)](_0x1f140e(0x12b))||_0x222f04[_0x1f140e(0x17f)]('heatmap')||_0x222f04[_0x1f140e(0x17f)](_0x1f140e(0x1fa))||_0x222f04['includes'](_0x1f140e(0x1b7))||_0x222f04[_0x1f140e(0x17f)](_0x1f140e(0x113))||_0x222f04[_0x1f140e(0x17f)]('xg')&&_0x222f04[_0x1f140e(0x17f)]('goals');_0x589704&&!this[_0x1f140e(0x1ef)]&&this[_0x1f140e(0xe3)]();this[_0x1f140e(0x18a)][_0x1f140e(0x150)]['height']=_0x1f140e(0x223),this[_0x1f140e(0x18a)][_0x1f140e(0x150)][_0x1f140e(0x20e)]=Math[_0x1f140e(0x194)](this[_0x1f140e(0x18a)]['scrollHeight'],0x96)+'px',this[_0x1f140e(0x18a)][_0x1f140e(0x115)]();const _0x49df14=this[_0x1f140e(0x18a)][_0x1f140e(0xe9)][_0x1f140e(0x1f8)];this[_0x1f140e(0x18a)][_0x1f140e(0x1ed)](_0x49df14,_0x49df14);}),window[_0x1787ad(0x205)]=this;}[_0x193671(0x1d4)](_0x9e673){const _0x40df87=_0x193671;if(_0x9e673[_0x40df87(0x1f8)]<0x3)return;const _0x4e9fcb=this[_0x40df87(0x1f4)](_0x9e673);_0x4e9fcb[_0x40df87(0x1f8)]>0x0&&this[_0x40df87(0x192)](_0x4e9fcb);}['generateSmartSuggestions'](_0x3b647b){const _0x16129d=_0x193671,_0x12d478=_0x3b647b[_0x16129d(0x179)](),_0x231bad=[];if(this[_0x16129d(0xf3)][_0x16129d(0x17e)]>0x0){const _0x3da94b=Array['from'](this[_0x16129d(0xf3)]['keys']())['filter'](_0x409e02=>_0x409e02[_0x16129d(0x179)]()[_0x16129d(0x17f)](_0x12d478))[_0x16129d(0x164)](0x0,0x3);_0x3da94b[_0x16129d(0xda)](_0x56d1ca=>{const _0x3a94a5=_0x16129d;_0x231bad[_0x3a94a5(0x1e9)]({'text':_0x3a94a5(0x19c)+_0x56d1ca,'query':_0x3a94a5(0xec)+_0x56d1ca});});}if(_0x12d478[_0x16129d(0x17f)]('compare'))_0x231bad[_0x16129d(0x1e9)]({'text':_0x16129d(0x1b6),'query':_0x16129d(0x10b)});else(_0x12d478[_0x16129d(0x17f)](_0x16129d(0x18c))||_0x12d478['includes']('top'))&&_0x231bad[_0x16129d(0x1e9)]({'text':_0x16129d(0x13d),'query':_0x3b647b+_0x16129d(0x1d6)});return _0x231bad[_0x16129d(0x164)](0x0,0x4);}[_0x193671(0x192)](_0x3b301f){const _0x13da37=_0x193671;this[_0x13da37(0x147)][_0x13da37(0x151)]=_0x3b301f[_0x13da37(0xed)](_0xdcbc50=>_0x13da37(0x1e6)+_0xdcbc50['query']+_0x13da37(0x137)+_0xdcbc50['text']+_0x13da37(0x161))[_0x13da37(0xe5)]('');}[_0x193671(0x103)](_0x171a0e){const _0x25a8fb=_0x193671;this[_0x25a8fb(0x18a)][_0x25a8fb(0xe9)]=_0x171a0e,this[_0x25a8fb(0xdd)]();}[_0x193671(0xe3)](){const _0x23c386=_0x193671;this[_0x23c386(0x1ef)]=!this['chartsEnabled'];this[_0x23c386(0x1ef)]?(this[_0x23c386(0x15b)]['classList'][_0x23c386(0xe6)]('active'),this[_0x23c386(0x15b)][_0x23c386(0x106)](_0x23c386(0x1a6))[_0x23c386(0x174)]='ON',this[_0x23c386(0x15b)]['setAttribute'](_0x23c386(0x1c6),_0x23c386(0x1b9)),this['chartToggle'][_0x23c386(0x21d)](_0x23c386(0xfc),_0x23c386(0x1f2)),window[_0x23c386(0x21c)]&&window[_0x23c386(0x21c)](this[_0x23c386(0x15b)],window[_0x23c386(0x19b)])):(this[_0x23c386(0x15b)][_0x23c386(0xdf)][_0x23c386(0x12c)](_0x23c386(0x12d)),this['chartToggle'][_0x23c386(0x106)](_0x23c386(0x1a6))[_0x23c386(0x174)]=_0x23c386(0xef),this[_0x23c386(0x15b)][_0x23c386(0x21d)](_0x23c386(0x1c6),_0x23c386(0x11c)),this['chartToggle'][_0x23c386(0x21d)]('data-i18n-attr',_0x23c386(0x1f2)),window['translateElement']&&window[_0x23c386(0x21c)](this[_0x23c386(0x15b)],window['currentTranslations']));const _0x1ad301=this[_0x23c386(0x1ef)]?_0x23c386(0x12f):_0x23c386(0x128);this['updateStatus'](_0x1ad301,this[_0x23c386(0x1ef)]?'ready':'loading'),setTimeout(()=>{const _0x4c1fa7=_0x23c386;this[_0x4c1fa7(0x1af)]&&this[_0x4c1fa7(0x225)]('Ready!','ready');},0x5dc);}async['findExistingAssistant'](){const _0x226812=_0x193671;try{const _0x14c494=await fetch(_0x226812(0x149),{'headers':{'Authorization':_0x226812(0x1b5)+this['acToAdj'],'OpenAI-Beta':_0x226812(0x1e0)},'signal':this[_0x226812(0x171)]&&this['fetchController'][_0x226812(0x1e5)]||undefined});if(_0x14c494['ok']){const _0x174796=await _0x14c494[_0x226812(0x1ea)](),_0xd8463c=_0x174796[_0x226812(0xf5)][_0x226812(0x1ec)](_0x15be72=>_0x15be72[_0x226812(0x1df)]==='Ultimate\x20Football\x20Data\x20Analyst');if(_0xd8463c)return this['assistantId']=_0xd8463c['id'],!![];}}catch(_0x1b6770){}return![];}async[_0x193671(0x1fe)](){const _0x20b07c=_0x193671;try{await this[_0x20b07c(0x215)],this['setLoading'](!![]);const _0x4809e0=[];this[_0x20b07c(0x225)](_0x20b07c(0x186),'loading'),_0x4809e0[_0x20b07c(0x1e9)](this[_0x20b07c(0x1b0)]());this[_0x20b07c(0x226)]&&(this[_0x20b07c(0x225)](_0x20b07c(0x118),_0x20b07c(0x1eb)),_0x4809e0[_0x20b07c(0x1e9)](this['findExistingAssistant']()));const [,_0xaad462]=await Promise[_0x20b07c(0x153)](_0x4809e0);!_0xaad462?(this[_0x20b07c(0x225)](_0x20b07c(0xd4),_0x20b07c(0x1eb)),await this[_0x20b07c(0x116)]()):this[_0x20b07c(0x225)](_0x20b07c(0x118),_0x20b07c(0x1eb)),this['updateStatus']('Setting\x20up\x20conversation...','loading'),await this[_0x20b07c(0x12a)](),this[_0x20b07c(0xd0)](),this[_0x20b07c(0x225)](_0x20b07c(0x19f),_0x20b07c(0x18d)),this['isInitialized']=!![],this[_0x20b07c(0xd5)](![]),this['messageInput'][_0x20b07c(0x1ca)]=![],this[_0x20b07c(0x152)][_0x20b07c(0x1ca)]=![];}catch(_0x31068a){this[_0x20b07c(0x14b)](_0x20b07c(0x13e)+_0x31068a[_0x20b07c(0x165)]),this[_0x20b07c(0x225)](_0x20b07c(0x124),'error'),this[_0x20b07c(0xd5)](![]);}}async[_0x193671(0x1b0)](){const _0x51f73f=_0x193671;try{const _0x12675a=await fetch('./data.csv',{'signal':this[_0x51f73f(0x171)]&&this[_0x51f73f(0x171)]['signal']||undefined});if(!_0x12675a['ok'])throw new Error(_0x51f73f(0x155)+_0x12675a[_0x51f73f(0x1e3)]);const _0x31d9c7=await _0x12675a[_0x51f73f(0x1d1)](),_0x2cb666=new Blob([_0x31d9c7],{'type':_0x51f73f(0x1d2)}),_0x510f57=new FormData();_0x510f57['append'](_0x51f73f(0x185),_0x2cb666,_0x51f73f(0x216)),_0x510f57[_0x51f73f(0x1ac)]('purpose','assistants');const _0x243783=await fetch('https://api.openai.com/v1/files',{'method':'POST','headers':{'Authorization':_0x51f73f(0x1b5)+this[_0x51f73f(0x14e)]},'body':_0x510f57});if(!_0x243783['ok']){const _0x43ee14=await _0x243783[_0x51f73f(0x1ea)]();throw new Error(_0x51f73f(0x1bc)+(_0x43ee14[_0x51f73f(0x142)]?.['message']||_0x243783['statusText']));}const _0x1a60d9=await _0x243783['json']();this[_0x51f73f(0x1d3)]=_0x1a60d9['id'];try{const _0x115555=await fetch(_0x51f73f(0x17c),{'signal':this['fetchController']&&this[_0x51f73f(0x171)][_0x51f73f(0x1e5)]||undefined});if(_0x115555['ok']){const _0x138f61=await _0x115555['text'](),_0x26429f=new Blob([_0x138f61],{'type':_0x51f73f(0x1ae)}),_0x5ca84f=new FormData();_0x5ca84f['append'](_0x51f73f(0x185),_0x26429f,_0x51f73f(0x1a2)),_0x5ca84f['append'](_0x51f73f(0x1cf),_0x51f73f(0x203));const _0x5544c6=await fetch(_0x51f73f(0x1e8),{'method':_0x51f73f(0xf4),'headers':{'Authorization':_0x51f73f(0x1b5)+this[_0x51f73f(0x14e)]},'body':_0x5ca84f});if(_0x5544c6['ok']){const _0x15d587=await _0x5544c6[_0x51f73f(0x1ea)]();this[_0x51f73f(0xdc)]=_0x15d587['id'];}else{}}else{}}catch(_0x4ac3fa){}}catch(_0x3ed184){}}async['createAssistant'](){const _0x35bbf3=_0x193671,_0x54f326=await fetch(_0x35bbf3(0x1c1))[_0x35bbf3(0x221)](_0x5d98bc=>_0x5d98bc[_0x35bbf3(0x1d1)]()),_0x2f1ded=await fetch('https://api.openai.com/v1/assistants',{'method':_0x35bbf3(0xf4),'headers':{'Authorization':_0x35bbf3(0x1b5)+this[_0x35bbf3(0x14e)],'Content-Type':_0x35bbf3(0x13b),'OpenAI-Beta':_0x35bbf3(0x1e0)},'body':JSON[_0x35bbf3(0x172)]({'model':_0x35bbf3(0x1cc),'name':_0x35bbf3(0x10c),'description':_0x35bbf3(0x158),'instructions':_0x54f326,'tools':[{'type':_0x35bbf3(0x166)}],'tool_resources':{'code_interpreter':{'file_ids':[this[_0x35bbf3(0x1d3)]][_0x35bbf3(0x14d)](this['guideFileId']?[this['guideFileId']]:[])}}})});if(!_0x2f1ded['ok']){const _0x23a863=await _0x2f1ded[_0x35bbf3(0x1ea)]();throw new Error(_0x35bbf3(0x198)+(_0x23a863[_0x35bbf3(0x142)]?.['message']||_0x2f1ded[_0x35bbf3(0xe0)]));}const _0x5dadc8=await _0x2f1ded[_0x35bbf3(0x1ea)]();this[_0x35bbf3(0x1b1)]=_0x5dadc8['id'];}async[_0x193671(0x12a)](){const _0xaa22b7=_0x193671,_0x56e782=await fetch(_0xaa22b7(0x159),{'method':_0xaa22b7(0xf4),'headers':{'Authorization':_0xaa22b7(0x1b5)+this['acToAdj'],'Content-Type':_0xaa22b7(0x13b),'OpenAI-Beta':_0xaa22b7(0x1e0)},'signal':this[_0xaa22b7(0x171)]&&this[_0xaa22b7(0x171)][_0xaa22b7(0x1e5)]||undefined});if(!_0x56e782['ok']){const _0x2487a5=await _0x56e782[_0xaa22b7(0x1ea)]();throw new Error(_0xaa22b7(0x213)+(_0x2487a5[_0xaa22b7(0x142)]?.['message']||_0x56e782[_0xaa22b7(0xe0)]));}const _0x43b214=await _0x56e782[_0xaa22b7(0x1ea)]();this['threadId']=_0x43b214['id'];}async[_0x193671(0x1a0)](){const _0x311068=_0x193671;try{this['currentRunId']&&this[_0x311068(0x170)]&&await fetch('https://api.openai.com/v1/threads/'+this[_0x311068(0x170)]+_0x311068(0x145)+this['currentRunId']+_0x311068(0xfb),{'method':_0x311068(0xf4),'headers':{'Authorization':'Bearer\x20'+this['acToAdj'],'OpenAI-Beta':_0x311068(0x1e0)}});}catch(_0x3c47a7){}}async[_0x193671(0x14f)](){const _0x2a482e=_0x193671;try{this['updateStatus'](_0x2a482e(0x1de),_0x2a482e(0x1eb)),this[_0x2a482e(0x112)]=!![];if(!this[_0x2a482e(0x171)])this[_0x2a482e(0x171)]=new AbortController();try{this[_0x2a482e(0x171)][_0x2a482e(0x201)]();}catch(_0x47e277){}await this[_0x2a482e(0x1a0)](),this[_0x2a482e(0x171)]=null,await this['createThread'](),this[_0x2a482e(0x13c)]['innerHTML']='',this['conversationHistory']=[],this[_0x2a482e(0x107)]=null,this[_0x2a482e(0x112)]=![],this[_0x2a482e(0x171)]=null,this[_0x2a482e(0xd5)](![]),this[_0x2a482e(0x18a)][_0x2a482e(0xe9)]='',this['showDataInsights'](),this[_0x2a482e(0x225)](_0x2a482e(0x19f),_0x2a482e(0x18d));}catch(_0x32defb){this['showError'](_0x2a482e(0x105)),this[_0x2a482e(0x225)](_0x2a482e(0x202),_0x2a482e(0x142));}}async[_0x193671(0xdd)](){const _0x50427a=_0x193671;if(!this[_0x50427a(0x1af)]||!this[_0x50427a(0x18a)][_0x50427a(0xe9)]['trim']())return;const _0xc2b2bf=this[_0x50427a(0x18a)][_0x50427a(0xe9)][_0x50427a(0x11e)]();this[_0x50427a(0x18a)][_0x50427a(0xe9)]='',this[_0x50427a(0x18a)][_0x50427a(0x150)][_0x50427a(0x20e)]='auto',this[_0x50427a(0x110)](_0xc2b2bf,_0x50427a(0x20f));if(!this['canSendNow']())return;this['bumpQuotaAsync'](),this[_0x50427a(0x16c)]=!![],this[_0x50427a(0xd5)](!![]),this[_0x50427a(0x1e1)](!![]);try{this[_0x50427a(0x112)]=![],this[_0x50427a(0x171)]=new AbortController();const _0x31a7eb=/\b(what\s+is|explain|definition|how\s+(is|was)\s+.*(computed|calculated)|methodology)\b/i['test'](_0xc2b2bf);let _0x3bf5bb='';const _0x5b4491=[/performance\s*index/i,/possession\s*\+\-?/i];for(const _0x454477 of _0x5b4491){const _0x548c81=_0xc2b2bf[_0x50427a(0xf9)](_0x454477);if(_0x548c81&&_0x548c81[0x0]){_0x3bf5bb=_0x548c81[0x0];break;}}let _0x14bd9b=_0xc2b2bf+(this[_0x50427a(0x1ef)]?_0x50427a(0x1d5):_0x50427a(0x209));const _0xbac37e=this[_0x50427a(0x143)](_0xc2b2bf);_0xbac37e&&(_0x14bd9b+=_0x50427a(0xd1)+_0xbac37e['name']+_0x50427a(0x20a)+_0xbac37e['list'][_0x50427a(0xe5)](',\x20')+']',_0x14bd9b+=_0x50427a(0x108)+_0xbac37e['list']['join'](',\x20')+'}]');_0x31a7eb&&(_0x14bd9b+=_0x50427a(0x219),_0x3bf5bb&&(_0x14bd9b+=_0x50427a(0x1d7)+_0x3bf5bb+']',/performance\s*index/i[_0x50427a(0x196)](_0x3bf5bb)&&(_0x14bd9b+=_0x50427a(0x13f))),_0x14bd9b+='\x0a[ATTACHED\x20FILES:\x20data.csv,\x20guide.html.\x20Access\x20with\x20open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).]',_0x14bd9b+=_0x50427a(0x1c8));const _0x35fb11=await fetch('https://api.openai.com/v1/threads/'+this[_0x50427a(0x170)]+_0x50427a(0x197),{'method':'POST','headers':{'Authorization':_0x50427a(0x1b5)+this[_0x50427a(0x14e)],'Content-Type':_0x50427a(0x13b),'OpenAI-Beta':'assistants=v2'},'body':JSON[_0x50427a(0x172)]({'role':'user','content':_0x14bd9b}),'signal':this[_0x50427a(0x171)]&&this[_0x50427a(0x171)][_0x50427a(0x1e5)]||undefined});if(!_0x35fb11['ok'])throw new Error(_0x50427a(0x16e)+_0x35fb11[_0x50427a(0xe0)]);const _0x3c27a9=await fetch(_0x50427a(0x19a)+this[_0x50427a(0x170)]+_0x50427a(0x1a4),{'method':_0x50427a(0xf4),'headers':{'Authorization':_0x50427a(0x1b5)+this[_0x50427a(0x14e)],'Content-Type':'application/json','OpenAI-Beta':_0x50427a(0x1e0)},'body':JSON[_0x50427a(0x172)]({'assistant_id':this[_0x50427a(0x1b1)],'stream':![]}),'signal':this[_0x50427a(0x171)]&&this[_0x50427a(0x171)][_0x50427a(0x1e5)]||undefined});if(!_0x3c27a9['ok'])throw new Error(_0x50427a(0x100)+_0x3c27a9[_0x50427a(0xe0)]);const _0x2d831f=await _0x3c27a9[_0x50427a(0x1ea)]();this[_0x50427a(0x107)]=_0x2d831f['id'],await this[_0x50427a(0x1f6)](_0x2d831f['id']);}catch(_0x26efdf){!this[_0x50427a(0x224)](_0x26efdf)&&this[_0x50427a(0x14b)](_0x50427a(0xd3)+_0x26efdf[_0x50427a(0x165)]);}finally{this[_0x50427a(0xd5)](![]),this[_0x50427a(0x1e1)](![]),this[_0x50427a(0x16c)]=![],this[_0x50427a(0x107)]=null;}}async[_0x193671(0x1f6)](_0x2c9783){const _0x2ba8a7=_0x193671,_0x102b36=Date[_0x2ba8a7(0x1d9)]();let _0x787455=0x1f4;const _0x378465=0xbb8;while(!![]){if(this[_0x2ba8a7(0x112)])throw new Error(_0x2ba8a7(0x1a9));try{const _0x3cbe26=await fetch(_0x2ba8a7(0x19a)+this[_0x2ba8a7(0x170)]+_0x2ba8a7(0x145)+_0x2c9783,{'headers':{'Authorization':_0x2ba8a7(0x1b5)+this[_0x2ba8a7(0x14e)],'OpenAI-Beta':_0x2ba8a7(0x1e0)},'signal':this[_0x2ba8a7(0x171)]&&this['fetchController'][_0x2ba8a7(0x1e5)]||undefined});if(!_0x3cbe26['ok']){if(this['cancelRequested'])throw new Error('Cancelled');throw new Error(_0x2ba8a7(0xf2)+_0x3cbe26[_0x2ba8a7(0xe0)]);}const _0x106fec=await _0x3cbe26[_0x2ba8a7(0x1ea)]();if(_0x106fec['status']==='in_progress')this['updateStatus'](_0x2ba8a7(0x217),_0x2ba8a7(0x1eb));else _0x106fec[_0x2ba8a7(0x1e3)]==='requires_action'&&this[_0x2ba8a7(0x225)](_0x2ba8a7(0xfd),'loading');if(_0x106fec[_0x2ba8a7(0x1e3)]==='completed'){await this[_0x2ba8a7(0x10e)]();break;}else{if(_0x106fec[_0x2ba8a7(0x1e3)]===_0x2ba8a7(0x1bb)||_0x106fec[_0x2ba8a7(0x1e3)]===_0x2ba8a7(0x1d8)||_0x106fec[_0x2ba8a7(0x1e3)]===_0x2ba8a7(0x1c0)){if(this[_0x2ba8a7(0x112)])throw new Error(_0x2ba8a7(0x1a9));throw new Error(_0x2ba8a7(0x1a8)+_0x106fec[_0x2ba8a7(0x1e3)]+':\x20'+(_0x106fec[_0x2ba8a7(0x14a)]?.['message']||_0x2ba8a7(0x184)));}}const _0x4081c1=Date['now']()-_0x102b36;_0x4081c1>0x2710&&(_0x787455=Math[_0x2ba8a7(0x194)](_0x378465,_0x787455*1.2)),await new Promise(_0x9e330b=>setTimeout(_0x9e330b,_0x787455));}catch(_0x30f0fd){if(this[_0x2ba8a7(0x112)])throw new Error('Cancelled');throw _0x30f0fd;}}}async['getLatestMessage'](){const _0x2642c0=_0x193671,_0x4e1d05=await fetch(_0x2642c0(0x19a)+this[_0x2642c0(0x170)]+_0x2642c0(0x130),{'headers':{'Authorization':_0x2642c0(0x1b5)+this[_0x2642c0(0x14e)],'OpenAI-Beta':_0x2642c0(0x1e0)},'signal':this[_0x2642c0(0x171)]&&this[_0x2642c0(0x171)][_0x2642c0(0x1e5)]||undefined});if(!_0x4e1d05['ok'])throw new Error('Failed\x20to\x20get\x20response:\x20'+_0x4e1d05[_0x2642c0(0xe0)]);const _0x106d54=await _0x4e1d05[_0x2642c0(0x1ea)](),_0x3523b7=_0x106d54[_0x2642c0(0xf5)][0x0];if(_0x3523b7&&_0x3523b7['role']===_0x2642c0(0x1ba)){let _0x1d8666='';for(const _0x198cb8 of _0x3523b7[_0x2642c0(0x126)]){if(_0x198cb8[_0x2642c0(0xff)]===_0x2642c0(0x1d1))_0x1d8666+=_0x198cb8[_0x2642c0(0x1d1)][_0x2642c0(0xe9)];else _0x198cb8[_0x2642c0(0xff)]===_0x2642c0(0x169)&&(_0x1d8666+='',await this[_0x2642c0(0xe2)](_0x198cb8[_0x2642c0(0x169)]['file_id']));}_0x1d8666&&(this[_0x2642c0(0x110)](_0x1d8666,_0x2642c0(0x1ba)),this[_0x2642c0(0x225)](_0x2642c0(0x16b),_0x2642c0(0x18d)));}}async[_0x193671(0xe2)](_0x235421){const _0x2c50c3=_0x193671;try{const _0x3b51c6=await fetch(_0x2c50c3(0x154)+_0x235421+_0x2c50c3(0x160),{'headers':{'Authorization':'Bearer\x20'+this[_0x2c50c3(0x14e)]},'signal':this[_0x2c50c3(0x171)]&&this['fetchController'][_0x2c50c3(0x1e5)]||undefined});if(!_0x3b51c6['ok'])throw new Error(_0x2c50c3(0xfe)+_0x3b51c6[_0x2c50c3(0x1e3)]+')');const _0x573b53=await _0x3b51c6['blob'](),_0x5c810a=URL[_0x2c50c3(0x11a)](_0x573b53),_0x88cb5c=document[_0x2c50c3(0x21e)]('div');_0x88cb5c[_0x2c50c3(0x133)]=_0x2c50c3(0x1cb),_0x88cb5c['innerHTML']=_0x2c50c3(0x20b)+_0x5c810a+_0x2c50c3(0x15c),this[_0x2c50c3(0x13c)]['appendChild'](_0x88cb5c),this[_0x2c50c3(0x120)]();}catch(_0x1a8a8b){}}[_0x193671(0x18e)](_0x4e13ea){const _0x1538d6=_0x193671,_0x1df409=document['createElement'](_0x1538d6(0xcf));_0x1df409['className']=_0x1538d6(0xd7)+_0x4e13ea;const _0x3d4696=document[_0x1538d6(0x21e)]('div');_0x3d4696[_0x1538d6(0x133)]=_0x1538d6(0x204);_0x4e13ea===_0x1538d6(0x20f)?_0x3d4696[_0x1538d6(0x174)]='You':_0x3d4696['innerHTML']=_0x1538d6(0xd2);const _0x310ec4=document[_0x1538d6(0x21e)](_0x1538d6(0xcf));return _0x310ec4[_0x1538d6(0x133)]=_0x1538d6(0xfa),_0x1df409[_0x1538d6(0x15f)](_0x3d4696),_0x1df409[_0x1538d6(0x15f)](_0x310ec4),this[_0x1538d6(0x13c)][_0x1538d6(0x15f)](_0x1df409),this[_0x1538d6(0x120)](),_0x1df409;}[_0x193671(0x110)](_0x45cfeb,_0x3c98fb){const _0x1aa3ff=_0x193671,_0x35328c=this[_0x1aa3ff(0x18e)](_0x3c98fb),_0x58ba0f=_0x35328c[_0x1aa3ff(0x106)]('.message-content');_0x58ba0f[_0x1aa3ff(0x151)]=this[_0x1aa3ff(0x19e)](_0x45cfeb);}[_0x193671(0x19e)](_0x1be58c){const _0x37e98f=_0x193671;try{window[_0x37e98f(0x1b2)]&&marked['setOptions']({'gfm':!![],'breaks':!![]});const _0x4b2d99=window['marked']?marked[_0x37e98f(0x129)](_0x1be58c||''):(_0x1be58c||'')['replace'](/\n/g,'<br>'),_0x1dc6f3=window[_0x37e98f(0x1fd)]?DOMPurify[_0x37e98f(0x1c5)](_0x4b2d99):_0x4b2d99,_0x5a8e5f=document['createElement']('div'),_0x231510=(_0x1be58c||'')[_0x37e98f(0x11e)]()[_0x37e98f(0x1b3)]('\x0a')===-0x1&&(_0x1be58c||'')[_0x37e98f(0x11e)]()['length']<=0x3c;_0x5a8e5f[_0x37e98f(0x133)]=_0x37e98f(0x131)+(_0x231510?_0x37e98f(0x191):''),_0x5a8e5f['innerHTML']=_0x1dc6f3;const _0x2a0256=_0x5a8e5f[_0x37e98f(0x1c7)](_0x37e98f(0x214));return _0x2a0256[_0x37e98f(0xda)](_0x157b4d=>{const _0x42e1af=_0x37e98f;_0x157b4d[_0x42e1af(0xdf)][_0x42e1af(0xe6)](_0x42e1af(0x199));const _0x5c266e=_0x157b4d[_0x42e1af(0x1c7)](_0x42e1af(0x182))['length'],_0x590df6=document[_0x42e1af(0x21e)]('div');_0x590df6[_0x42e1af(0x133)]='table-container';if(_0x5c266e>0xa){_0x590df6[_0x42e1af(0xdf)]['add'](_0x42e1af(0x122));const _0x4bcad6=document[_0x42e1af(0x21e)](_0x42e1af(0xcf));_0x4bcad6[_0x42e1af(0x133)]=_0x42e1af(0x181),_0x4bcad6[_0x42e1af(0x151)]=_0x42e1af(0x101)+Math[_0x42e1af(0x194)](0xa,_0x5c266e)+_0x42e1af(0x1d0)+_0x5c266e+_0x42e1af(0x157),_0x590df6[_0x42e1af(0x15f)](_0x4bcad6);}_0x157b4d[_0x42e1af(0xf1)][_0x42e1af(0x187)](_0x590df6,_0x157b4d),_0x590df6['appendChild'](_0x157b4d);const _0x3a07a5=document[_0x42e1af(0x21e)](_0x42e1af(0xcf));_0x3a07a5[_0x42e1af(0x150)][_0x42e1af(0x20e)]=_0x42e1af(0x180),_0x590df6[_0x42e1af(0x146)](_0x3a07a5);}),_0x5a8e5f['outerHTML'];}catch(_0xeada25){return(_0x1be58c||'')[_0x37e98f(0x168)](/&/g,_0x37e98f(0xee))[_0x37e98f(0x168)](/</g,_0x37e98f(0x162))[_0x37e98f(0x168)](/>/g,_0x37e98f(0x135))['replace'](/\n/g,_0x37e98f(0x1f1));}}[_0x193671(0x120)](){setTimeout(()=>{const _0x21f3ae=_0x58ea;this[_0x21f3ae(0x13c)][_0x21f3ae(0x167)]=this[_0x21f3ae(0x13c)][_0x21f3ae(0x1c2)];},0x64);}['setLoading'](_0x63f1){const _0x1a7566=_0x193671;this[_0x1a7566(0x18a)][_0x1a7566(0x1ca)]=_0x63f1;if(_0x63f1){if(!this['typingMessageEl']){const _0x26e44f=this[_0x1a7566(0x18e)](_0x1a7566(0x1ba));_0x26e44f[_0x1a7566(0xdf)][_0x1a7566(0xe6)](_0x1a7566(0x176)),_0x26e44f['querySelector'](_0x1a7566(0x109))[_0x1a7566(0x151)]=_0x1a7566(0x16d),this['typingMessageEl']=_0x26e44f;}}else this[_0x1a7566(0x175)]&&(this[_0x1a7566(0x175)][_0x1a7566(0x12c)](),this['typingMessageEl']=null);}[_0x193671(0x1e1)](_0x130326){const _0x28ce36=_0x193671;try{const _0x10cfdb=this['sendButton'][_0x28ce36(0x106)](_0x28ce36(0x20d));if(_0x130326){this[_0x28ce36(0x152)][_0x28ce36(0xdf)][_0x28ce36(0xe6)]('stop');if(_0x10cfdb)_0x10cfdb[_0x28ce36(0x151)]=_0x28ce36(0x123);this[_0x28ce36(0x152)][_0x28ce36(0x21d)](_0x28ce36(0x1c6),'tooltips.stop'),this['sendButton'][_0x28ce36(0x21d)](_0x28ce36(0xfc),'title'),window[_0x28ce36(0x21c)]&&window[_0x28ce36(0x21c)](this['sendButton'],window[_0x28ce36(0x19b)]);}else{this['sendButton'][_0x28ce36(0xdf)][_0x28ce36(0x12c)]('stop');if(_0x10cfdb)_0x10cfdb[_0x28ce36(0x151)]=_0x28ce36(0x1b8);this[_0x28ce36(0x152)]['setAttribute'](_0x28ce36(0x1c6),'tooltips.send'),this[_0x28ce36(0x152)]['setAttribute']('data-i18n-attr',_0x28ce36(0x1f2)),window['translateElement']&&window['translateElement'](this['sendButton'],window[_0x28ce36(0x19b)]);}}catch(_0x100687){}}async[_0x193671(0x1e7)](){const _0xbca39a=_0x193671;try{this['cancelRequested']=!![];if(!this[_0xbca39a(0x171)])this[_0xbca39a(0x171)]=new AbortController();try{this['fetchController'][_0xbca39a(0x201)]();}catch(_0x1f8d6a){}await this['cancelRun'](),this['updateStatus'](_0xbca39a(0x1ab),_0xbca39a(0x18d));}catch(_0x511a75){}finally{this[_0xbca39a(0xd5)](![]),this[_0xbca39a(0x1e1)](![]),this[_0xbca39a(0x112)]=![],this[_0xbca39a(0x171)]=null,this[_0xbca39a(0x107)]=null;}}[_0x193671(0x224)](_0x2d3aea){const _0x60cbda=_0x193671;if(!_0x2d3aea)return![];const _0x514569=String(_0x2d3aea&&(_0x2d3aea[_0x60cbda(0x165)]||_0x2d3aea['toString']()||''));return _0x2d3aea[_0x60cbda(0x1df)]===_0x60cbda(0x222)||/aborted/i[_0x60cbda(0x196)](_0x514569)||/cancelled/i[_0x60cbda(0x196)](_0x514569)||/canceled/i[_0x60cbda(0x196)](_0x514569);}[_0x193671(0x225)](_0x222432,_0x2200bb){const _0xc8598c=_0x193671,_0x4fae83=this['status'],_0x10b58b=_0x4fae83[_0xc8598c(0x106)](_0xc8598c(0x1e4));_0x4fae83['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22status-indicator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-text\x22>'+_0x222432+_0xc8598c(0x1ce);const _0x138e2b=_0x4fae83[_0xc8598c(0x106)](_0xc8598c(0x1e4));switch(_0x2200bb){case'loading':_0x138e2b[_0xc8598c(0x150)][_0xc8598c(0x1e2)]=_0xc8598c(0x10f);break;case'ready':_0x138e2b[_0xc8598c(0x150)]['background']='#4ade80';break;case _0xc8598c(0x142):_0x138e2b[_0xc8598c(0x150)][_0xc8598c(0x1e2)]='#ef4444';break;}try{if(window['currentTranslations']&&_0x4fae83['querySelector']('.status-text')){const _0x13096b={'Stopped':_0xc8598c(0xdb),'Analysis\x20complete!':_0xc8598c(0x21f),'Analyzing\x20data...':_0xc8598c(0x1f0),'Running\x20calculations...':_0xc8598c(0x17a),'Error':_0xc8598c(0x1bf),'Ready!':'status.ready','Starting\x20new\x20chat...':'status.startingNewChat','Setting\x20up\x20conversation...':'status.settingUpConversation','Loading\x20AI\x20assistant...':'status.loadingAIAssistant','Reading\x20dataset...':'status.readingDataset','Monthly\x20limit\x20reached':_0xc8598c(0xeb),'Login\x20required':'status.loginRequired'},_0x3c300e=_0x13096b[_0x222432];_0x3c300e&&(_0x4fae83['querySelector'](_0xc8598c(0x10a))[_0xc8598c(0x21d)]('data-i18n',_0x3c300e),window[_0xc8598c(0x21c)]&&window[_0xc8598c(0x21c)](_0x4fae83[_0xc8598c(0x106)](_0xc8598c(0x10a)),window[_0xc8598c(0x19b)]));}}catch(_0x45b950){}}[_0x193671(0xd0)](){const _0x3be7f1=_0x193671,_0xa6bd34=_0x3be7f1(0x21a),_0x578a87=this[_0x3be7f1(0x18e)](_0x3be7f1(0x1ba)),_0x39f71a=_0x578a87[_0x3be7f1(0x106)](_0x3be7f1(0x109));_0x39f71a[_0x3be7f1(0x151)]=_0xa6bd34;}[_0x193671(0x14b)](_0x29995d){const _0x4d4620=_0x193671,_0x343226=_0x4d4620(0x1fb)+_0x29995d+_0x4d4620(0x111),_0x4bc9c7=this[_0x4d4620(0x18e)](_0x4d4620(0x1ba)),_0xa845b=_0x4bc9c7[_0x4d4620(0x106)]('.message-content');_0xa845b[_0x4d4620(0x151)]=_0x343226;try{const _0x2c710d={'You\x20must\x20be\x20logged\x20in':'errors.loginRequired'},_0x3b8e68=_0x2c710d[_0x29995d];if(_0x3b8e68){const _0x163df7=_0xa845b[_0x4d4620(0x106)](_0x4d4620(0x139));_0x163df7['setAttribute'](_0x4d4620(0x1c6),_0x3b8e68),window[_0x4d4620(0x21c)]&&window[_0x4d4620(0x21c)](_0x163df7,window[_0x4d4620(0x19b)]);}}catch(_0x5cc30a){}}[_0x193671(0x143)](_0xdf413b){const _0x1c3ae3=_0x193671;if(!_0xdf413b)return null;const _0x7ec1e4=_0xdf413b[_0x1c3ae3(0x179)](),_0x443fde=[_0x1c3ae3(0x148),_0x1c3ae3(0x227),'Bundesliga',_0x1c3ae3(0x144),'Ligue\x201'],_0x248e2c=[_0x1c3ae3(0x148),_0x1c3ae3(0x227),_0x1c3ae3(0x18b),_0x1c3ae3(0x144),'Ligue\x201',_0x1c3ae3(0x208),_0x1c3ae3(0x11f)],_0x32dac5=/(europe'?s\s*top\s*5|\btop\s*5\s*leagues\b|\bbig\s*5\b)/i[_0x1c3ae3(0x196)](_0xdf413b),_0x591381=/(europe'?s\s*top\s*7|\btop\s*7\s*leagues\b)/i[_0x1c3ae3(0x196)](_0xdf413b);if(_0x591381)return{'name':_0x1c3ae3(0x1fc),'list':_0x248e2c};if(_0x32dac5)return{'name':_0x1c3ae3(0x18f),'list':_0x443fde};return null;}}document[_0x193671(0x132)]('DOMContentLoaded',function(){new UltimateFootballAI();});function toggleTable(_0x39dfed){const _0x5abd54=_0x193671,_0x238f3f=_0x39dfed['closest'](_0x5abd54(0x117)),_0x453cd8=_0x238f3f[_0x5abd54(0xdf)][_0x5abd54(0x10d)](_0x5abd54(0x1c3));_0x453cd8?(_0x238f3f[_0x5abd54(0xdf)][_0x5abd54(0x12c)](_0x5abd54(0x1c3)),_0x238f3f[_0x5abd54(0xdf)]['add'](_0x5abd54(0x122)),_0x39dfed['textContent']=_0x5abd54(0x1aa)):(_0x238f3f['classList'][_0x5abd54(0x12c)](_0x5abd54(0x122)),_0x238f3f[_0x5abd54(0xdf)][_0x5abd54(0xe6)](_0x5abd54(0x1c3)),_0x39dfed['textContent']=_0x5abd54(0x1be));}
    </script>
<script>

    function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
    return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
    return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
    }
    
    function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
    }
    
    function applyLanguage(language) {
    console.log(language);
    
    if (language === 'en') {
    return;
    }
    
    
    fetch(`locales/${language}.json`)
    .then(response => {
      return response.ok ? response.json() : null;
    })
    .then(translations => {
      // Only proceed if translations exist
      if (translations) {
          window.currentTranslations = translations;
              window.translations = translations;
          
        // expose translator for dynamic usage
        window.translateElement = translateElement;
        document.querySelectorAll('[data-i18n]').forEach(element => {
          translateElement(element, translations);
        });
        
        
        if (!window.translationObserver) {
          window.translationObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              if (mutation.type === 'childList') {
                mutation.addedNodes.forEach(function(node) {
                  if (node.nodeType === 1) { // Element node
                    if (node.hasAttribute && node.hasAttribute('data-i18n')) {
                      translateElement(node, translations);
                    }
                    const elements = node.querySelectorAll ? node.querySelectorAll('[data-i18n]') : [];
                    elements.forEach(function(element) {
                      translateElement(element, translations);
                    });
                  }
                });
              }
            });
          });
          
          window.translationObserver.observe(document.body, {
            childList: true,
            subtree: true
          });
        }
      }
    })
    .catch(() => {
    });
    }
    
    // Helper function to translate a single element
    function translateElement(element, translations) {
      const keys = element.getAttribute('data-i18n').split('.');
      let value = translations;
      
      for (const key of keys) {
        if (value === undefined || value === null) break;
        value = value[key];
      }
      
      if (!value) return;

      const attrTarget = element.getAttribute('data-i18n-attr');
      if (attrTarget) {
        element.setAttribute(attrTarget, value);
        return;
      }

      if (element.tagName === 'META') {
        element.setAttribute('content', value);
      } else if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
        element.setAttribute('placeholder', value);
      } else if (value.includes('<')) {
        element.innerHTML = value;
      } else {
        element.textContent = value;
      }
    }
    
    const preferredLanguage = getPreferredLanguage();
    applyLanguage(preferredLanguage);
        </script>
</body>
</html>
