<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"></script>

<style>

    * {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
}
 body {
     font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
     background-color: #f5f7fa;
     min-height: 100vh;
     display: flex;
     align-items: center;
     justify-content: center;
     padding: 20px;
}
 .container {
     background: rgba(255, 255, 255, 0.98);
     backdrop-filter: blur(30px);
     border-radius: 10px;
     box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
     width: 100%;
     max-width: 1400px;
     height: 95vh;
     display: flex;
     flex-direction: column;
     overflow: hidden;
     border: 1px solid rgba(255, 255, 255, 0.4);
}
 .header {
     background: #ffffff;
     color: #333333;
     height: 70px;
     position: relative;
     box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
     display: flex;
     align-items: center;
     justify-content: space-between;
     padding: 0 28px;
     border-bottom: 1px solid #e0e0e0;
}
 .header h1 {
     font-size: 32px;
     font-weight: 900;
     display: flex;
     align-items: center;
     gap: 12px;
     color: #333333;
     order: 1;
}
 .header p {
     opacity: 0.95;
     font-size: 16px;
     font-weight: 600;
}
 .status {
     background: rgba(255, 255, 255, 0.3);
     padding: 10px 18px;
     border-radius: 25px;
     font-size: 13px;
     backdrop-filter: blur(15px);
     font-weight: 700;
     border: 1px solid rgba(255, 255, 255, 0.4);
     display: flex;
     align-items: center;
     gap: 8px;
     order: 3;
     margin-left: auto;
}
 .status-indicator {
     width: 8px;
     height: 8px;
     border-radius: 50%;
     background: #4ade80;
     animation: pulse 2s infinite;
}
 @keyframes pulse {
     0%, 100% {
         opacity: 1;
    }
     50% {
         opacity: 0.5;
    }
}
 .chat-container {
     flex: 1;
     display: flex;
     flex-direction: column;
     overflow: hidden;
}
 .messages {
     flex: 1;
     overflow-y: auto;
     padding: 28px;
     display: flex;
     flex-direction: column;
     justify-content: flex-start;
     gap: 24px;
     background: linear-gradient(to bottom, #fafbff, #f8fafc);
}
 .message {
     display: flex;
     gap: 16px;
     max-width: 95%;
     animation: messageSlide 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
 @keyframes messageSlide {
     from {
         opacity: 0;
         transform: translateY(20px) scale(0.95);
    }
     to {
         opacity: 1;
         transform: translateY(0) scale(1);
    }
}
 .message.user {
     align-self: flex-end;
     flex-direction: row-reverse;
}
 .message-content {
     background: white;
     border-radius: 24px;
     padding: 20px 24px;
     box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
     line-height: 1.7;
     font-size: 15px;
     border: 1px solid rgba(0, 0, 0, 0.05);
     position: relative;
}
 .message.user .message-content {
     background: #e6f0ff;
     color: #0f172a;
     box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
     border: 1px solid #c7d7ff;
}
 .message.assistant .message-content {
     background: #ffffff;
     color: inherit;
}
 .avatar {
     width: 48px;
     height: 48px;
     border-radius: 50%;
     display: flex;
     align-items: center;
     justify-content: center;
     font-weight: 800;
     font-size: 18px;
     flex-shrink: 0;
     box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
     border: 3px solid white;
     overflow: hidden;
}
 .avatar img {
     width: 100%;
     height: 100%;
     object-fit: cover;
     display: block;
}
 .message.user .avatar {
     background: #3498db;
     color: white;
}
 .message.assistant .avatar {
     background: white;
     color: white;
}
 .input-container {
     padding: 16px 28px 9px 28px;
     border-top: 1px solid #e2e8f0;
     background: white;
     box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.1);
}
 .suggestions {
     display: flex;
     gap: 8px;
     margin-bottom: 16px;
     flex-wrap: wrap;
     max-height: 80px;
     overflow-y: auto;
}
 .suggestion-chip {
     background: #f0f0f0;
     border: 1px solid #ddd;
     border-radius: 16px;
     padding: 6px 12px;
     font-size: 12px;
     width: 119px;
     cursor: pointer;
     transition: all 0.2s ease;
     white-space: nowrap;
     display: inline-flex;
     align-items: center;
     gap: 6px;
}
 .suggestion-chip span {
     flex: 1;
     text-align: center;
}
 .suggestion-chip:hover {
     background: #e0e0e0;
     transform: translateY(-1px);
}
 .input-wrapper {
     display: flex;
     gap: 8px;
     align-items: center;
     background: #f8fafc;
     border-radius: 28px;
     padding: 8px;
     border: 2px solid #e2e8f0;
     transition: all 0.3s ease;
}
 .input-wrapper:focus-within {
     border-color: #3498db;
     background: white;
}
 .input-field {
     flex: 1;
     border: none;
     border-radius: 20px;
     padding: 16px 14px;
     font-size: 15px;
     font-family: inherit;
     outline: none;
     resize: none;
     min-height: 24px;
     max-height: 150px;
     background: transparent;
     line-height: 1.5;
}
 .send-button {
     background: #3498db;
     color: white;
     border: none;
     border-radius: 50%;
     width: 45px;
     height: 45px;
     cursor: pointer;
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: 20px;
     transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
     flex-shrink: 0;
     box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
}
 .send-button:hover:not(:disabled) {
     transform: scale(1.1);
     box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
}
 .send-button:active:not(:disabled) {
     transform: scale(0.95);
}
 .send-button:disabled {
     opacity: 0.6;
     cursor: not-allowed;
     transform: none;
}
 .send-button.stop {
     background: #3498db;
     box-shadow: 0 8px 24px rgba(52, 152, 219, 0.3);
}
 .send-button.stop:hover:not(:disabled) {
     box-shadow: 0 12px 32px rgba(52, 152, 219, 0.45);
}
/* Typing indicator bubble */
 .typing-message .message-content {
     display: inline-flex;
     align-items: center;
     gap: 10px;
}
 .typing {
     display: inline-flex;
     gap: 6px;
     align-items: center;
}
 .typing-dot {
     width: 8px;
     height: 8px;
     background: #9ec5fe;
     border-radius: 50%;
     animation: blink 1.2s infinite ease-in-out;
}
 .typing-dot:nth-child(2) {
     animation-delay: 0.2s;
}
 .typing-dot:nth-child(3) {
     animation-delay: 0.4s;
}
 @keyframes blink {
     0%, 80%, 100% {
         opacity: 0.3;
         transform: translateY(0);
    }
     40% {
         opacity: 1;
         transform: translateY(-2px);
    }
}
 .input-controls {
     display: flex;
     align-items: center;
     gap: 8px;
     margin-right: 12px;
}
 .chart-toggle {
     display: flex;
     align-items: center;
     gap: 6px;
     background: #e2e8f0;
     color: #64748b;
     border: none;
     padding: 10px 14px;
     border-radius: 20px;
     font-size: 13px;
     font-weight: 600;
     cursor: pointer;
     transition: all 0.2s ease;
     white-space: nowrap;
     min-width: 90px;
     position: relative;
     justify-content: center;
}
 .chart-toggle:hover {
     background: #cbd5e1;
}
 .chart-toggle.active {
     background: linear-gradient(135deg, #10b981, #059669);
     color: white;
     box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}
 .chart-toggle.active:hover {
     background: linear-gradient(135deg, #059669, #047857);
     box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}
 .toggle-text {
     font-size: 12px;
     font-weight: 700;
     text-align: center;
     width: 100%;
}
 .chart-toggle .icon-left {
     position: absolute;
     left: 12px;
     top: 50%;
     transform: translateY(-50%);
}
 .header-action {
     display: flex;
     align-items: center;
     justify-content: center;
     background: #e2e8f0;
     color: #64748b;
     border: none;
     width: 36px;
     height: 36px;
     border-radius: 22px;
     font-size: 15px;
     cursor: pointer;
     transition: all 0.2s ease;
     order: 2;
     margin-left: 17px;
}
 .header-action:hover {
     background: #cbd5e1;
}
 .loading {
     display: flex;
     gap: 6px;
     align-items: center;
}
 .loading-dot {
     width: 8px;
     height: 8px;
     background: white;
     border-radius: 50%;
     animation: loadingBounce 1.6s infinite ease-in-out;
}
 .loading-dot:nth-child(1) {
     animation-delay: -0.32s;
}
 .loading-dot:nth-child(2) {
     animation-delay: -0.16s;
}
 @keyframes loadingBounce {
     0%, 80%, 100% {
         transform: scale(0.6);
         opacity: 0.5;
    }
     40% {
         transform: scale(1);
         opacity: 1;
    }
}
 .error {
     background: linear-gradient(135deg, #fef2f2, #fee2e2);
     border: 2px solid #fca5a5;
     color: #dc2626;
     border-radius: 16px;
     padding: 20px;
     margin: 16px 0;
     font-weight: 600;
}
 .success {
     background: linear-gradient(135deg, #f0fdf4, #dcfce7);
     border: 2px solid #86efac;
     color: #16a34a;
     border-radius: 16px;
     padding: 20px;
     margin: 16px 0;
     font-weight: 600;
}
 .chart-container {
     background: white;
     border-radius: 20px;
     padding: 24px;
     margin: 16px 0;
     box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
     border: 1px solid #e2e8f0;
}
 pre {
     background: #1e293b;
     color: #e2e8f0;
     border-radius: 16px;
     padding: 20px;
     overflow-x: auto;
     font-size: 14px;
     margin: 16px 0;
     font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
     line-height: 1.6;
}
 code {
     background: #f1f5f9;
     color: #475569;
     padding: 4px 8px;
     border-radius: 8px;
     font-size: 14px;
     font-weight: 600;
     font-family: 'SF Mono', Monaco, monospace;
}
 .messages::-webkit-scrollbar {
     width: 10px;
}
 .messages::-webkit-scrollbar-thumb {
     background: #cbd5e1;
     border-radius: 5px;
}
 .messages::-webkit-scrollbar-track {
     background: rgba(0, 0, 0, 0.05);
     border-radius: 5px;
}
 .disclaimer {
     text-align: center;
     font-size: 11px;
     color: #64748b;
     margin: 8px auto 0 auto;
     opacity: 0.8;
     font-weight: 400;
     display: block;
     width: 100%;
}
 @media (max-width: 768px) {
     .header {
         padding: 20px;
    }
     .header h1 {
         font-size: 24px;
    }
     .messages {
         padding: 20px;
    }
}
/* Markdown table styling and controls */
 .table-container {
     margin-top: 16px;
     margin-bottom: 16px;
    /* add spacing after tables to separate following sentences */
     overflow-x: auto;
     border-radius: 12px;
     border: 1px solid #e2e8f0;
     background: white;
}
 .table-controls {
     display: flex;
     justify-content: space-between;
     align-items: center;
     margin-bottom: 0;
     padding: 10px 14px;
     background-color: #f8fafc;
     border-radius: 12px 12px 0 0;
     border-bottom: 1px solid #e2e8f0;
     font-size: 12px;
     color: #64748b;
     font-weight: 600;
}
 .expand-button {
     background: #3498db;
     color: #ffffff;
     border: none;
     padding: 6px 10px;
     border-radius: 8px;
     cursor: pointer;
     font-size: 12px;
     font-weight: 700;
}
 .expand-button:hover {
     opacity: 0.9;
}
 table.data-table {
     width: 100%;
     border-collapse: collapse;
     font-size: 14px;
}
 table.data-table th, table.data-table td {
     padding: 10px 12px;
     text-align: left;
     border-bottom: 1px solid #e2e8f0;
}
 table.data-table th {
     background: #f8fafc;
     font-weight: 700;
     color: #334155;
}
 table.data-table tr:hover {
     background: #f9fafb;
}
 .table-container.collapsed tbody tr:nth-child(n+11) {
     display: none;
}
 .markdown-body {
     line-height: 1.75;
}
 .markdown-body p {
     margin: 0 0 1rem 0;
}
 .markdown-body ul, .markdown-body ol {
     margin: 0.9rem 0 1.1rem 0;
     padding-left: 1.6rem;
     list-style-position: outside;
}
 .markdown-body li + li {
     margin-top: 0.45rem;
}
 .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
     margin: 0.75rem 0 0.55rem 0;
     line-height: 1.25;
}
 .markdown-body blockquote {
     margin: 1rem 0;
     padding: 0.75rem 1rem;
     border-left: 5px solid #e2e8f0;
     background: #f8fafc;
     border-radius: 6px;
     color: #475569;
}
 .markdown-body hr {
     border: none;
     border-top: 1px solid #e2e8f0;
     margin: 1.25rem 0;
}
 .markdown-body > :last-child {
     margin-bottom: 0 !important;
}
 .markdown-body.compact {
     line-height: 1.45;
}
 .markdown-body.compact p {
     margin: 0;
}
 .status {
     font-weight: 500;
}
 .status .status-text {
     font-weight: 500;
     opacity: 0.9;
}
 
   

   </style>
</head>
<body>



    <div id="SFctr" class="SF" data-org="31002" data-ini="myaccount" data-scl="0" data-sfi="1" style="position:absolute;left:-9999px;top:-9999px;width:0;height:0;overflow:hidden;"></div>
<script src="https://cdn.membershipworks.com/mfm.js"></script>
<script>
function _0x27fc(_0xfdf2f8,_0xafd6ba){var _0x2ebc1a=_0x2ebc();return _0x27fc=function(_0x27fcfa,_0x2503fb){_0x27fcfa=_0x27fcfa-0x125;var _0x25f11c=_0x2ebc1a[_0x27fcfa];return _0x25f11c;},_0x27fc(_0xfdf2f8,_0xafd6ba);}var _0x57df99=_0x27fc;function _0x2ebc(){var _0x47833b=['test','from','email','10mHeTwA','5826RuBgtG','117745aFWljL','preloadRemoteQuotaForId','395649kYBhSe','getAttribute','603722Gkufzt','replace','getElementById','length','DOMContentLoaded','194184sHzkri','charCodeAt','a[href^=\x22mailto:\x22]','function','457699flpBHk','chatbot','18OhoNnn','find','84GXHLSW','4071408JeUAoU','addEventListener','49XyJPcM','SFctr','toString','querySelectorAll','match','3VBlrRU','value','disconnect','string','observe','attributes'];_0x2ebc=function(){return _0x47833b;};return _0x2ebc();}(function(_0x12c318,_0x337946){var _0x1f4106=_0x27fc,_0xd94353=_0x12c318();while(!![]){try{var _0x355efe=parseInt(_0x1f4106(0x137))/0x1+-parseInt(_0x1f4106(0x139))/0x2*(parseInt(_0x1f4106(0x12a))/0x3)+-parseInt(_0x1f4106(0x146))/0x4*(-parseInt(_0x1f4106(0x135))/0x5)+parseInt(_0x1f4106(0x134))/0x6*(parseInt(_0x1f4106(0x125))/0x7)+-parseInt(_0x1f4106(0x13e))/0x8*(parseInt(_0x1f4106(0x144))/0x9)+-parseInt(_0x1f4106(0x133))/0xa*(-parseInt(_0x1f4106(0x142))/0xb)+-parseInt(_0x1f4106(0x147))/0xc;if(_0x355efe===_0x337946)break;else _0xd94353['push'](_0xd94353['shift']());}catch(_0x3d2828){_0xd94353['push'](_0xd94353['shift']());}}}(_0x2ebc,0x3cc3d));function __hashId(_0x5695c8){var _0x38d4df=_0x27fc;let _0x5418b7=0x1505;for(let _0x39a76a=0x0;_0x39a76a<_0x5695c8[_0x38d4df(0x13c)];_0x39a76a++){_0x5418b7=(_0x5418b7<<0x5)+_0x5418b7^_0x5695c8[_0x38d4df(0x13f)](_0x39a76a);}return'u'+(_0x5418b7>>>0x0)[_0x38d4df(0x127)](0x24);}function __applyUserKey(_0x11ebd3){var _0x510a50=_0x27fc;if(!_0x11ebd3||!window[_0x510a50(0x143)])return;window[_0x510a50(0x143)]['mwKeyApplied']=!![];var _0x310dfa='';if(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i[_0x510a50(0x130)](_0x11ebd3))try{_0x310dfa=__hashId(String(_0x11ebd3)['trim']()['toLowerCase']());}catch(_0xc9594b){_0x310dfa='';}if(_0x310dfa){window['chatbot']['currentMemberId']=_0x310dfa;if(window[_0x510a50(0x143)]&&typeof window[_0x510a50(0x143)][_0x510a50(0x136)]===_0x510a50(0x141))try{window[_0x510a50(0x143)]['preloadRemoteQuotaForId'](_0x310dfa);}catch(_0xdcb405){}}}document[_0x57df99(0x148)](_0x57df99(0x13d),function(){var _0x169db3=_0x57df99,_0x3fa8af=document[_0x169db3(0x13b)](_0x169db3(0x126));if(!_0x3fa8af)return;function _0x152653(_0x2e7038){var _0x537334=_0x169db3,_0x46bac6='',_0x516fef=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i,_0x5aa1d7=_0x2e7038['textContent']||'',_0x5dc998=_0x5aa1d7['match'](_0x516fef);if(_0x5dc998)_0x46bac6=_0x5dc998[0x0];if(!_0x46bac6){var _0x2b552a=Array[_0x537334(0x131)](_0x2e7038[_0x537334(0x128)](_0x537334(0x140))),_0x1ae542=_0x2b552a['map'](_0x25bfe0=>_0x25bfe0[_0x537334(0x138)]('href')||'')['map'](_0x35adce=>_0x35adce[_0x537334(0x13a)](/^mailto:/i,''))[_0x537334(0x145)](Boolean)||'';if(_0x516fef[_0x537334(0x130)](_0x1ae542))_0x46bac6=_0x1ae542[_0x537334(0x129)](_0x516fef)[0x0];}var _0x5773e5=Array[_0x537334(0x131)](_0x2e7038[_0x537334(0x128)]('*'));for(var _0x1c8638=0x0;_0x1c8638<_0x5773e5[_0x537334(0x13c)]&&!_0x46bac6;_0x1c8638++){var _0x3a2472=_0x5773e5[_0x1c8638],_0x59f5df=_0x3a2472[_0x537334(0x138)]&&_0x3a2472[_0x537334(0x138)](_0x537334(0x12b))||'',_0x52cd09=typeof _0x3a2472['value']===_0x537334(0x12d)?_0x3a2472['value']:'',_0x4c233f=(_0x52cd09||_0x59f5df)[_0x537334(0x129)](_0x516fef);if(_0x4c233f){_0x46bac6=_0x4c233f[0x0];break;}for(var _0x3cfd24=0x0;_0x3cfd24<_0x3a2472[_0x537334(0x12f)]['length']&&!_0x46bac6;_0x3cfd24++){var _0x523db0=_0x3a2472[_0x537334(0x12f)][_0x3cfd24],_0x4bf677=_0x523db0[_0x537334(0x12b)]||'',_0x4feb02=_0x4bf677['match'](_0x516fef);if(_0x4feb02){_0x46bac6=_0x4feb02[0x0];break;}}}return{'email':_0x46bac6||'','elementCount':_0x2e7038[_0x537334(0x128)]('*')[_0x537334(0x13c)]||0x0,'textLen':(_0x5aa1d7||'')[_0x537334(0x13c)]};}var _0x2b04f6=new MutationObserver(function(){var _0x51e8c9=_0x169db3,_0x41c836=_0x152653(_0x3fa8af),_0x5b70e9=_0x41c836[_0x51e8c9(0x132)];_0x5b70e9&&(__applyUserKey(_0x5b70e9),_0x2b04f6[_0x51e8c9(0x12c)]());});_0x2b04f6[_0x169db3(0x12e)](_0x3fa8af,{'childList':!![],'subtree':!![]});});
</script>
 
    <div class="container">
        <div class="header">
            <h1>DataMB Chat</h1>
            <button id="newChatBtn" class="header-action" title="New Chat" data-i18n="tooltips.newChat" data-i18n-attr="title">
                <span><i class="fa-solid fa-pen-to-square"></i></span>
            </button>
            <div class="status" id="status">
                <div class="status-indicator"></div>
            </div>
        </div>
        
        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="message assistant">
                
                </div>
            </div>
            
            <div class="input-container">
                <div class="suggestions" id="suggestions">
            
                    <div class="suggestion-chip" data-query="Scout report for Baleba" data-i18n="suggestionInputs.scoutReport" data-i18n-attr="data-query">
                        <i class="fas fa-chart-pie"></i><span data-i18n="suggestions.scoutReport">Scout Report</span>
                    </div>

                    <div class="suggestion-chip" data-query="Explain how the Performance Index is calculated" data-i18n="suggestionInputs.definitions" data-i18n-attr="data-query">
                        <i class="fas fa-book"></i><span data-i18n="suggestions.definitions">Definitions</span>
                    </div>
                  
                    <div class="suggestion-chip" data-query="Show me the most creative players in Europe's top 5 leagues" data-i18n="suggestionInputs.mostCreative" data-i18n-attr="data-query">
                        <i class="fas fa-lightbulb"></i><span data-i18n="suggestions.mostCreative">Most Creative</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Create a radar chart comparing Pedri and Bellingham" data-i18n="suggestionInputs.radarChart" data-i18n-attr="data-query">
                        <i class="fas fa-project-diagram"></i><span data-i18n="suggestions.radarChart">Radar Chart</span>
                    </div>
                    
                    <div class="suggestion-chip" data-query="Plot total xG vs total goals for Premier League strikers" data-i18n="suggestionInputs.xGvsGoals" data-i18n-attr="data-query">
                        <i class="fas fa-chart-area"></i><span data-i18n="suggestions.xGvsGoals">xG vs Goals</span>
                    </div>
        
                    <div class="suggestion-chip" data-query="Most goals in Premier League this season" data-i18n="suggestionInputs.topScorers" data-i18n-attr="data-query">
                        <i class="fas fa-futbol"></i><span data-i18n="suggestions.topScorers">Top Scorers</span>
                    </div>
                    

                    </div>
                
                <div class="input-wrapper">
                    <textarea 
                        id="messageInput" 
                        class="input-field" 
                        data-i18n="placeholder"
                        placeholder="Ask anything… • 提问 • اسأل"
                        rows="1"
                    ></textarea>
                    <div class="input-controls">
                        <button id="chartToggle" class="chart-toggle" title="Charts disabled - AI will provide text-only responses" data-i18n="tooltips.chartsDisabled" data-i18n-attr="title">
                            <i class="fas fa-chart-line icon-left"></i>
                            <span class="toggle-text">OFF</span>
                        </button>
                        <button id="sendButton" class="send-button" title="Send" data-i18n="tooltips.send" data-i18n-attr="title">
                            <span>
                                <i class="fas fa-chevron-up"></i> 
                            
                            </span>
                        </button>
                    </div>
                </div>
                <div class="disclaimer" data-i18n="disclaimer">
                    AI can make mistakes. Check other tools for reference.
                </div>
            </div>
        </div>
    </div>

    <script>
 const _0xf10032=_0x51b0;(function(_0x298c2a,_0x11a253){const _0x99041b=_0x51b0,_0x2cc64b=_0x298c2a();while(!![]){try{const _0x2e34c3=-parseInt(_0x99041b(0x252))/0x1*(parseInt(_0x99041b(0x173))/0x2)+-parseInt(_0x99041b(0x286))/0x3*(-parseInt(_0x99041b(0x1b0))/0x4)+parseInt(_0x99041b(0x163))/0x5+-parseInt(_0x99041b(0x18a))/0x6+-parseInt(_0x99041b(0x298))/0x7*(-parseInt(_0x99041b(0x18d))/0x8)+-parseInt(_0x99041b(0x184))/0x9+-parseInt(_0x99041b(0x261))/0xa;if(_0x2e34c3===_0x11a253)break;else _0x2cc64b['push'](_0x2cc64b['shift']());}catch(_0x35d0a3){_0x2cc64b['push'](_0x2cc64b['shift']());}}}(_0xca2c,0xa9ec4));const REMOTE_QUOTA_URL=_0xf10032(0x22f);function _0xca2c(){const _0x3244e9=['errors','Primeira\x20Liga','text/csv','sanitize','assistants=v2','message','parentNode','❌\x20Setup\x20failed','focus','toLocaleString','sendMessage','With\x20Charts','getLatestMessage','monthlyLimitReachedForAccount1','status.error','height','purpose','callback=','newChatBtn','chatbot','uploadCSV','messages','quotaCache','#4ade80','table-controls','The\x20ultimate\x20football\x20analytics\x20AI\x20with\x20perfect\x20understanding\x20and\x20natural\x20language\x20processing','\x0a[CODE\x20SCAFFOLD:\x0afrom\x20bs4\x20import\x20BeautifulSoup\x0ahtml=open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).read()\x0asoup=BeautifulSoup(html,\x20\x27html.parser\x27)\x0asec=soup.select_one(\x27#performanceindex\x27)\x20or\x20soup.find(id=\x27performanceindex\x27)\x0aprint(sec.get_text(\x22\x0a\x22,\x20strip=True)\x20if\x20sec\x20else\x20\x22NOT_FOUND\x22)\x0a]','preventDefault','status.readingDataset','createMessageContainer','.message-content','Failed\x20to\x20start\x20a\x20new\x20chat.','translateElement','list','Setting\x20up\x20conversation...','map','You\x20must\x20be\x20logged\x20in','</span></div>','Analyzing\x20data...','showError','count','failed','push','POST','name','random','#ef4444','aHR0cHM6Ly93b3JrZXJzLXBsYXlncm91bmQtbGluZ2VyaW5nLWRpc2stMWFhNi5kYXRhbWItZm9vdGJhbGwud29ya2Vycy5kZXYvP3Rva2VuPXN1cGVyc2VjcmV0','\x0a\x0a[CHARTS\x20ENABLED:\x20Create\x20visualizations\x20when\x20they\x20add\x20value\x20to\x20the\x20analysis]','loading','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x20reached\x20for\x20account\x20ID\x20','age\x20vs\x20performance','key','ready','input','find','showMonthlyLimitError','text','addMessage','pings','json','formatResetDate','best','Charts:\x20OFF','setSelectionRange','type','append','Charts:\x20ON','https://script.google.com/macros/s/AKfycbzeGfINVX-m6MHHga0J520gIhcGONFHFSsyPUNeZdhEiNsaBGshAp9X7L9TQVtZU0IOwA/exec','bootstrapPromise','status.settingUpConversation','Compare\x20their\x20key\x20stats\x20with\x20percentiles\x20and\x20visualizations','remove','text/html','title','Loading\x20AI\x20assistant...','sendButton','Europe\x27s\x20Top\x205','signal','cancelRun','marked','requires_action','start','application/json','length','REMOTE_QUOTA_URL\x20not\x20set','newChat','isSending','min','contains','value','errors.loginRequired','La\x20Liga','code_interpreter','query','status.monthlyLimitReached','message\x20','includes','Bearer\x20','last_error','Stopped','currentRunId','/runs','531478hmyIWh','showDataInsights','Create\x20a\x20detailed\x20scouting\x20report\x20for\x20','./guide.html','https://api.openai.com/v1/assistants?limit=20','https://api.openai.com/v1/files','#f59e0b','add','assistants','getQuotaCache','blob','data-i18n','12px','avatar','assistantId','348140CYMeDH','./instructions.txt','fileId','Error','playerIndex','renderSuggestions','status.analyzingData','setupEventListeners','tooltips.chartsEnabled','\x0a[ATTACHED\x20FILES:\x20data.csv,\x20guide.html.\x20Access\x20with\x20open(\x27guide.html\x27,\x20encoding=\x27utf-8\x27).]','scrollToBottom','computeResetAtFromQuotaData','.status-indicator','active','target','Ultimate\x20Football\x20Data\x20Analyst','Assistant\x20creation\x20failed:\x20','setLoading','createThread','head','message-content','/messages','DOMPurify','status','test','plot','Quota\x20service\x20unavailable.\x20Please\x20try\x20again\x20later.','Loading\x20AI\x20Assistant...','toLowerCase','saveQuotaCache','status.ready','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','.toggle-text','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-info\x22>Showing\x20','getElementById','403227qRkwpe','toggleCharts','Show\x20All','Ready!','suggestions','Run\x20creation\x20failed:\x20','<div\x20class=\x22suggestion-chip\x22\x20data-query=\x22','isInitialized','xg\x20vs\x20goals','Ligue\x201','tbody\x20tr','parse','<i\x20class=\x22fas\x20fa-chevron-up\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-dot\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x20results</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22expand-button\x22\x20onclick=\x22toggleTable(this)\x22>Show\x20All</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancelRequested','toString','1099lJerAK','textContent','createElement','<img\x20src=\x22./chat.png\x22\x20alt=\x22AI\x22\x20/>','closest','expired','chartToggle','in_progress','\x20compact','markdown-body','div','tooltips.send','setOptions','\x0a[GUIDE\x20ANCHOR\x20HINT:\x20id=\x22performanceindex\x22\x20and\x20<h4>Performance\x20Index</h4>]','acTo','\x0a[APPLY\x20FILTER:\x20Only\x20include\x20rows\x20where\x20League\x20∈\x20{','Europe\x27s\x20Top\x207','filter','formatContent','stop','&amp;','Analysis\x20','assistant','Premier\x20League','createAssistant','role','4690100awtTRq','scrollHeight','join','error','status.loginRequired','MONTHLY_LIMIT','file_id','.table-container','canSendNow','className','typingMessageEl','currentTranslations','&gt;','/runs/','setStopUI','/messages?limit=1','2nAcOUL','conversationHistory','Reading\x20dataset...','disabled','statusText','mwKeyApplied','generateSmartSuggestions','\x20Resets\x20','resolveLeagueAliases','click','concat','data.csv','.suggestion-chip','2-digit','Serie\x20A','status.analysisComplete','initialize','925416SQvQcK','<br>','isFinite','span','abort','currentMemberId','8076324ujhGZc','preloadRemoteQuotaForId','Status\x20check\x20failed:\x20','28712umHmzT','appendChild','src','pollRunStatus','Running\x20calculations...','messageInput','checkQuotaAndIncrement','table-container','radar','now','?id=','\x20and\x20create\x20a\x20visualization','findExistingAssistant','Enter','Failed\x20to\x20bump\x20quota,\x20updating\x20cache\x20locally:','stringify','chartsEnabled','trim','after','Cancelled','Bundesliga','resets','all','background','\x0a[GUIDE\x20SEARCH\x20TERM:\x20','goals','./data.csv','🚨\x20Setup\x20failed:\x20','then','data-query','collapsed','OFF','data-i18n-attr','messagesContainer','slice','36mFjCNf','threadId','top','innerHTML','acToAdj','match','Eredivisie','outerHTML','<i\x20class=\x22fas\x20fa-stop\x22></i>','image_file','displayImageFile','DOMContentLoaded','/cancel','getAdjusted','warn','reuseAssistant','content','expanded','table','querySelectorAll','askQuestion','auto','JSONP\x20error','Monthly\x20limit\x20','https://api.openai.com/v1/threads/','getTime','AbortError','radar\x20chart','compare','<img\x20src=\x22','script','getAttribute','isArray','monthlyLimitReachedForAccount2','Message\x20failed:\x20','You','querySelector','onerror','from','style','sort','bumpQuotaAsync','user','stopRequest','Report\x20for\x20','fetchController','guideFileId','keypress','numeric','Thread\x20creation\x20failed:\x20','forEach','Analysis\x20complete!','replace','updateContextualSuggestions','indexOf','updateStatus','insertBefore','file'];_0xca2c=function(){return _0x3244e9;};return _0xca2c();}function __jsonp(_0x11e2fe,_0x58c295=0x1f40){return new Promise((_0x357838,_0x13d3db)=>{const _0x184991=_0x51b0,_0x1f057a='cb'+Math[_0x184991(0x217)]()[_0x184991(0x297)](0x24)[_0x184991(0x1af)](0x2),_0x5bbce6=document[_0x184991(0x29a)](_0x184991(0x1ce)),_0xe23090=setTimeout(()=>{_0x5dd0c8(),_0x13d3db(new Error('JSONP\x20timeout'));},_0x58c295);function _0x5dd0c8(){const _0x423cd5=_0x184991;if(_0x5bbce6[_0x423cd5(0x1f0)])_0x5bbce6['parentNode']['removeChild'](_0x5bbce6);try{delete window[_0x1f057a];}catch(_0x329036){window[_0x1f057a]=undefined;}clearTimeout(_0xe23090);}window[_0x1f057a]=_0x332604=>{_0x5dd0c8(),_0x357838(_0x332604);},_0x5bbce6[_0x184991(0x18f)]=_0x11e2fe+(_0x11e2fe[_0x184991(0x24c)]('?')?'&':'?')+_0x184991(0x1fb)+_0x1f057a,_0x5bbce6[_0x184991(0x1d5)]=()=>{const _0x35d7d9=_0x184991;_0x5dd0c8(),_0x13d3db(new Error(_0x35d7d9(0x1c6)));},document[_0x184991(0x274)][_0x184991(0x18e)](_0x5bbce6);});}function _0x51b0(_0x5dcca9,_0x20a052){const _0xca2c4e=_0xca2c();return _0x51b0=function(_0x51b09f,_0x47a439){_0x51b09f=_0x51b09f-0x14e;let _0x3d963d=_0xca2c4e[_0x51b09f];return _0x3d963d;},_0x51b0(_0x5dcca9,_0x20a052);}async function remoteGetQuota(_0x4c1f76){const _0x14e61d=_0xf10032;if(!REMOTE_QUOTA_URL)throw new Error('REMOTE_QUOTA_URL\x20not\x20set');return __jsonp(REMOTE_QUOTA_URL+_0x14e61d(0x197)+encodeURIComponent(_0x4c1f76));}async function remoteBumpQuota(_0x2565fc){const _0x7f9f99=_0xf10032;if(!REMOTE_QUOTA_URL)throw new Error(_0x7f9f99(0x240));return __jsonp(REMOTE_QUOTA_URL+_0x7f9f99(0x197)+encodeURIComponent(_0x2565fc)+'&bump=1');}class UltimateFootballAI{constructor(){const _0x44e829=_0xf10032;this[_0x44e829(0x157)]=null;const _0x2f6fae=_0x44e829(0x219);this[_0x44e829(0x230)]=fetch(atob(_0x2f6fae))[_0x44e829(0x1a9)](_0x1dfd3b=>_0x1dfd3b[_0x44e829(0x227)]())[_0x44e829(0x1a9)](_0x4bdbd2=>{const _0x48cace=_0x44e829;return this[_0x48cace(0x157)]=_0x4bdbd2[_0x48cace(0x21f)],this[_0x48cace(0x1b4)]=this[_0x48cace(0x1bd)](),this[_0x48cace(0x157)];}),this[_0x44e829(0x260)]=null,this[_0x44e829(0x1b1)]=null,this['fileId']=null,this['isInitialized']=![],this[_0x44e829(0x174)]=[],this['currentRunId']=null,this[_0x44e829(0x19d)]=![],this['reuseAssistant']=!![],this[_0x44e829(0x168)]=0x1e,this[_0x44e829(0x178)]=![],this['currentMemberId']='',this[_0x44e829(0x200)]={},this[_0x44e829(0x1ae)]=document[_0x44e829(0x285)](_0x44e829(0x1ff)),this[_0x44e829(0x192)]=document['getElementById'](_0x44e829(0x192)),this[_0x44e829(0x237)]=document[_0x44e829(0x285)](_0x44e829(0x237)),this[_0x44e829(0x14f)]=document[_0x44e829(0x285)](_0x44e829(0x14f)),this[_0x44e829(0x1fc)]=document['getElementById'](_0x44e829(0x1fc)),this[_0x44e829(0x242)]=![],this[_0x44e829(0x1dd)]=null,this['cancelRequested']=![],this['status']=document[_0x44e829(0x285)](_0x44e829(0x278)),this[_0x44e829(0x28a)]=document[_0x44e829(0x285)](_0x44e829(0x28a)),this[_0x44e829(0x19d)]?this['chartToggle']['classList']['add']('active'):this[_0x44e829(0x14f)][_0x44e829(0x281)][_0x44e829(0x233)]('active'),this['setupEventListeners'](),this[_0x44e829(0x183)]();}['getAdjusted'](){const _0x50095c=_0xf10032,_0x4ae434=this['acTo']||'';for(let _0x2b643e=_0x4ae434[_0x50095c(0x23f)]-0x1;_0x2b643e>=0x0;_0x2b643e--){const _0xc7736f=_0x4ae434[_0x2b643e];if(_0xc7736f>='0'&&_0xc7736f<='9'){const _0x25fd0d=(Number(_0xc7736f)+0x1)%0xa;return _0x4ae434[_0x50095c(0x1af)](0x0,_0x2b643e)+String(_0x25fd0d)+_0x4ae434[_0x50095c(0x1af)](_0x2b643e+0x1);}}return _0x4ae434;}[_0xf10032(0x26c)](_0x5672d4){const _0x3973e3=_0xf10032;try{const _0x2e5d5e=0x1e*0x18*0x3c*0x3c*0x3e8,_0x3636ac=Array[_0x3973e3(0x1d0)](_0x5672d4&&_0x5672d4[_0x3973e3(0x226)])?_0x5672d4[_0x3973e3(0x226)][_0x3973e3(0x20d)](Number)[_0x3973e3(0x15a)](_0x47a101=>Number[_0x3973e3(0x186)](_0x47a101)):[];if(_0x3636ac[_0x3973e3(0x23f)]>=this['MONTHLY_LIMIT']){const _0x341e73=_0x3636ac[_0x3973e3(0x1af)]()[_0x3973e3(0x1d8)]((_0x4a1d3e,_0x7dc73b)=>_0x4a1d3e-_0x7dc73b),_0x49b4cf=_0x341e73[_0x341e73['length']-this[_0x3973e3(0x168)]];return _0x49b4cf+_0x2e5d5e;}if(Number['isFinite'](Number(_0x5672d4&&_0x5672d4[_0x3973e3(0x23d)])))return Number(_0x5672d4['start'])+_0x2e5d5e;}catch(_0x418bb3){}return null;}['formatResetDate'](_0x44d13a){const _0x2cb07c=_0xf10032;try{const _0x2dfa92=new Date(Number(_0x44d13a));if(!Number['isFinite'](_0x2dfa92[_0x2cb07c(0x1c9)]()))return'';return _0x2dfa92[_0x2cb07c(0x1f3)](undefined,{'year':'numeric','month':_0x2cb07c(0x1e0),'day':_0x2cb07c(0x1e0),'hour':_0x2cb07c(0x180),'minute':_0x2cb07c(0x180)});}catch(_0x820b5f){return'';}}[_0xf10032(0x27e)](_0x8fab57,_0x3dd304){const _0x297fac=_0xf10032;this[_0x297fac(0x200)][_0x8fab57]={'start':Number(_0x3dd304['start']||Date[_0x297fac(0x196)]()),'count':Number(_0x3dd304[_0x297fac(0x212)]||0x0),'resetAt':this['computeResetAtFromQuotaData'](_0x3dd304)};}[_0xf10032(0x25b)](_0x2d8bf4){const _0x4e7cdd=_0xf10032,_0x25737e=this[_0x4e7cdd(0x200)][_0x2d8bf4];if(!_0x25737e)return null;return _0x25737e;}async[_0xf10032(0x18b)](_0x495fc2){const _0x326157=_0xf10032;if(!_0x495fc2)return;try{const _0x1e4fac=await remoteGetQuota(_0x495fc2);this[_0x326157(0x27e)](_0x495fc2,_0x1e4fac);}catch(_0x2a85c3){console[_0x326157(0x1be)]('Failed\x20to\x20preload\x20quota\x20for',_0x495fc2,_0x2a85c3);}}[_0xf10032(0x16b)](){const _0x1f978b=_0xf10032;if(!(this[_0x1f978b(0x178)]&&this['currentMemberId']))return this['showError'](_0x1f978b(0x20e)),this[_0x1f978b(0x1e7)]('Login\x20required',_0x1f978b(0x166)),![];const _0x45bce9=this[_0x1f978b(0x25b)](this['currentMemberId']);if(_0x45bce9){if(_0x45bce9[_0x1f978b(0x212)]>=this[_0x1f978b(0x168)])return this['showMonthlyLimitError'](_0x45bce9['resetAt']||null),this['updateStatus']('Monthly\x20limit\x20reached',_0x1f978b(0x166)),![];}return!![];}async[_0xf10032(0x1d9)](){const _0x2363c3=_0xf10032;if(!(this[_0x2363c3(0x178)]&&this['currentMemberId']))return;try{const _0xa2ca36=await remoteBumpQuota(this[_0x2363c3(0x189)]);this[_0x2363c3(0x27e)](this['currentMemberId'],_0xa2ca36);}catch(_0x46b9f8){console[_0x2363c3(0x1be)](_0x2363c3(0x19b),_0x46b9f8);const _0x4befec=this[_0x2363c3(0x25b)](this[_0x2363c3(0x189)]);_0x4befec&&(_0x4befec[_0x2363c3(0x212)]+=0x1);}}async[_0xf10032(0x193)](){const _0x14acc3=_0xf10032;if(!(this['mwKeyApplied']&&this['currentMemberId']))return this['showError']('You\x20must\x20be\x20logged\x20in'),this[_0x14acc3(0x1e7)]('Login\x20required',_0x14acc3(0x166)),![];try{const _0x2fcf34=await remoteGetQuota(this[_0x14acc3(0x189)]),_0x14403d=Number(_0x2fcf34['count']||0x0);if(_0x14403d>=this[_0x14acc3(0x168)]){this['saveQuotaCache'](this[_0x14acc3(0x189)],_0x2fcf34);const _0x43a0d1=this[_0x14acc3(0x26c)](_0x2fcf34);return this[_0x14acc3(0x223)](_0x43a0d1||null),this['updateStatus']('Monthly\x20limit\x20reached',_0x14acc3(0x166)),![];}const _0x30b8fa=await remoteBumpQuota(this[_0x14acc3(0x189)]);return this[_0x14acc3(0x27e)](this[_0x14acc3(0x189)],_0x30b8fa),!![];}catch(_0x4d9cf2){return this[_0x14acc3(0x211)](_0x14acc3(0x27b)),this[_0x14acc3(0x1e7)]('Service\x20unavailable',_0x14acc3(0x166)),![];}}[_0xf10032(0x223)](_0x512668){const _0x3e60d3=_0xf10032;try{const _0x22d6de=window['currentTranslations']||null,_0x5bcb90=_0x512668?this[_0x3e60d3(0x228)](_0x512668):null;if(_0x22d6de&&_0x22d6de[_0x3e60d3(0x1ea)]&&_0x22d6de[_0x3e60d3(0x1ea)][_0x3e60d3(0x1f7)]&&_0x22d6de['errors'][_0x3e60d3(0x1d1)]){const _0xffeb90=String(_0x22d6de[_0x3e60d3(0x1ea)][_0x3e60d3(0x1f7)]||_0x3e60d3(0x1c7)),_0x3d2d30='('+this[_0x3e60d3(0x168)]+')',_0x36021f=String(_0x22d6de[_0x3e60d3(0x1ea)][_0x3e60d3(0x1d1)]||'\x20reached\x20for\x20account\x20ID'),_0x119863=''+_0xffeb90+_0x3d2d30+'\x20'+_0x36021f+'\x20'+this[_0x3e60d3(0x189)]+'.',_0x2a6d11=_0x22d6de['errors']&&_0x22d6de[_0x3e60d3(0x1ea)][_0x3e60d3(0x1a2)]?String(_0x22d6de[_0x3e60d3(0x1ea)][_0x3e60d3(0x1a2)]):'Resets\x20',_0x4b2afb=_0x5bcb90?'\x20'+_0x2a6d11+_0x5bcb90+'.':'';this[_0x3e60d3(0x211)](_0x119863+_0x4b2afb);return;}}catch(_0x2209d7){}const _0x112566=_0x512668?_0x3e60d3(0x17a)+this[_0x3e60d3(0x228)](_0x512668)+'.':'';this[_0x3e60d3(0x211)]('Monthly\x20limit\x20('+this[_0x3e60d3(0x168)]+_0x3e60d3(0x21d)+this['currentMemberId']+'.'+_0x112566);}[_0xf10032(0x268)](){const _0x1c0020=_0xf10032;this[_0x1c0020(0x237)][_0x1c0020(0x294)](_0x1c0020(0x17c),()=>{const _0x5eca51=_0x1c0020;this['currentRunId']||this['isSending']?this[_0x5eca51(0x1db)]():this[_0x5eca51(0x1f4)]();}),this['messageInput'][_0x1c0020(0x294)](_0x1c0020(0x1df),_0x4a569a=>{const _0x5cb197=_0x1c0020;_0x4a569a[_0x5cb197(0x21f)]===_0x5cb197(0x19a)&&!_0x4a569a['shiftKey']&&(_0x4a569a[_0x5cb197(0x205)](),this[_0x5cb197(0x1f4)]());}),this['messageInput'][_0x1c0020(0x294)](_0x1c0020(0x221),_0x2b41e=>{const _0x55bbf2=_0x1c0020;_0x2b41e['target'][_0x55bbf2(0x1d7)]['height']='auto',_0x2b41e['target'][_0x55bbf2(0x1d7)][_0x55bbf2(0x1f9)]=Math[_0x55bbf2(0x243)](_0x2b41e[_0x55bbf2(0x26f)]['scrollHeight'],0x96)+'px',this[_0x55bbf2(0x1e5)](_0x2b41e[_0x55bbf2(0x26f)][_0x55bbf2(0x245)]);}),this[_0x1c0020(0x14f)][_0x1c0020(0x294)](_0x1c0020(0x17c),()=>this[_0x1c0020(0x287)]());if(this[_0x1c0020(0x1fc)])this[_0x1c0020(0x1fc)]['addEventListener'](_0x1c0020(0x17c),()=>this[_0x1c0020(0x241)]());this[_0x1c0020(0x28a)][_0x1c0020(0x294)]('click',_0x6cb602=>{const _0x1ce65c=_0x1c0020,_0xb4a65f=_0x6cb602[_0x1ce65c(0x26f)][_0x1ce65c(0x29c)](_0x1ce65c(0x17f));if(!_0xb4a65f)return;const _0x3832d4=_0xb4a65f[_0x1ce65c(0x1cf)](_0x1ce65c(0x1aa))||'';this['messageInput'][_0x1ce65c(0x245)]=_0x3832d4;const _0x2b39b2=_0x3832d4[_0x1ce65c(0x27d)](),_0x2d3770=_0x2b39b2[_0x1ce65c(0x24c)](_0x1ce65c(0x195))||_0x2b39b2[_0x1ce65c(0x24c)](_0x1ce65c(0x1cb))||_0x2b39b2[_0x1ce65c(0x24c)]('scatter\x20plot')||_0x2b39b2[_0x1ce65c(0x24c)](_0x1ce65c(0x27a))||_0x2b39b2[_0x1ce65c(0x24c)]('bar\x20chart')||_0x2b39b2['includes']('heatmap')||_0x2b39b2[_0x1ce65c(0x24c)]('visual')||_0x2b39b2[_0x1ce65c(0x24c)](_0x1ce65c(0x21e))||_0x2b39b2['includes'](_0x1ce65c(0x28e))||_0x2b39b2[_0x1ce65c(0x24c)]('xg')&&_0x2b39b2[_0x1ce65c(0x24c)](_0x1ce65c(0x1a6));_0x2d3770&&!this[_0x1ce65c(0x19d)]&&this[_0x1ce65c(0x287)]();this[_0x1ce65c(0x192)][_0x1ce65c(0x1d7)]['height']=_0x1ce65c(0x1c5),this[_0x1ce65c(0x192)][_0x1ce65c(0x1d7)]['height']=Math[_0x1ce65c(0x243)](this[_0x1ce65c(0x192)][_0x1ce65c(0x164)],0x96)+'px',this[_0x1ce65c(0x192)][_0x1ce65c(0x1f2)]();const _0x8915db=this[_0x1ce65c(0x192)][_0x1ce65c(0x245)][_0x1ce65c(0x23f)];this[_0x1ce65c(0x192)][_0x1ce65c(0x22b)](_0x8915db,_0x8915db);}),window[_0x1c0020(0x1fd)]=this;}[_0xf10032(0x1e5)](_0x4533b7){const _0xd669ca=_0xf10032;if(_0x4533b7[_0xd669ca(0x23f)]<0x3)return;const _0xff5b4c=this[_0xd669ca(0x179)](_0x4533b7);_0xff5b4c[_0xd669ca(0x23f)]>0x0&&this[_0xd669ca(0x266)](_0xff5b4c);}['generateSmartSuggestions'](_0x3a3e43){const _0x333506=_0xf10032,_0xad53a7=_0x3a3e43[_0x333506(0x27d)](),_0x4cae57=[];if(this[_0x333506(0x265)]['size']>0x0){const _0x13b8b5=Array[_0x333506(0x1d6)](this[_0x333506(0x265)]['keys']())[_0x333506(0x15a)](_0x460183=>_0x460183['toLowerCase']()[_0x333506(0x24c)](_0xad53a7))[_0x333506(0x1af)](0x0,0x3);_0x13b8b5[_0x333506(0x1e2)](_0x4228e2=>{const _0x7a0030=_0x333506;_0x4cae57[_0x7a0030(0x214)]({'text':_0x7a0030(0x1dc)+_0x4228e2,'query':_0x7a0030(0x254)+_0x4228e2});});}if(_0xad53a7[_0x333506(0x24c)](_0x333506(0x1cc)))_0x4cae57[_0x333506(0x214)]({'text':'vs\x20Analysis','query':_0x333506(0x232)});else(_0xad53a7['includes'](_0x333506(0x229))||_0xad53a7[_0x333506(0x24c)](_0x333506(0x1b2)))&&_0x4cae57[_0x333506(0x214)]({'text':_0x333506(0x1f5),'query':_0x3a3e43+_0x333506(0x198)});return _0x4cae57['slice'](0x0,0x4);}[_0xf10032(0x266)](_0x568fc0){const _0x105349=_0xf10032;this[_0x105349(0x28a)][_0x105349(0x1b3)]=_0x568fc0[_0x105349(0x20d)](_0x594397=>_0x105349(0x28c)+_0x594397[_0x105349(0x249)]+'\x22><i\x20class=\x22fas\x20fa-wand-magic-sparkles\x22></i><span>'+_0x594397[_0x105349(0x224)]+_0x105349(0x20f))[_0x105349(0x165)]('');}[_0xf10032(0x1c4)](_0xe3368c){const _0x31031b=_0xf10032;this['messageInput'][_0x31031b(0x245)]=_0xe3368c,this[_0x31031b(0x1f4)]();}[_0xf10032(0x287)](){const _0x5de346=_0xf10032;this[_0x5de346(0x19d)]=!this[_0x5de346(0x19d)];this[_0x5de346(0x19d)]?(this[_0x5de346(0x14f)][_0x5de346(0x281)][_0x5de346(0x259)](_0x5de346(0x26e)),this[_0x5de346(0x14f)][_0x5de346(0x1d4)](_0x5de346(0x282))[_0x5de346(0x299)]='ON',this[_0x5de346(0x14f)]['setAttribute']('data-i18n',_0x5de346(0x269)),this[_0x5de346(0x14f)][_0x5de346(0x283)](_0x5de346(0x1ad),_0x5de346(0x235)),window['translateElement']&&window['translateElement'](this[_0x5de346(0x14f)],window[_0x5de346(0x16e)])):(this[_0x5de346(0x14f)]['classList'][_0x5de346(0x233)](_0x5de346(0x26e)),this[_0x5de346(0x14f)][_0x5de346(0x1d4)]('.toggle-text')[_0x5de346(0x299)]=_0x5de346(0x1ac),this[_0x5de346(0x14f)]['setAttribute'](_0x5de346(0x25d),'tooltips.chartsDisabled'),this[_0x5de346(0x14f)][_0x5de346(0x283)]('data-i18n-attr',_0x5de346(0x235)),window[_0x5de346(0x20a)]&&window[_0x5de346(0x20a)](this['chartToggle'],window[_0x5de346(0x16e)]));const _0x33ed99=this[_0x5de346(0x19d)]?_0x5de346(0x22e):_0x5de346(0x22a);this[_0x5de346(0x1e7)](_0x33ed99,this['chartsEnabled']?'ready':'loading'),setTimeout(()=>{const _0x3e84fd=_0x5de346;this[_0x3e84fd(0x28d)]&&this[_0x3e84fd(0x1e7)](_0x3e84fd(0x289),_0x3e84fd(0x220));},0x5dc);}async[_0xf10032(0x199)](){const _0x18f00e=_0xf10032;try{const _0xdf2d83=await fetch(_0x18f00e(0x256),{'headers':{'Authorization':'Bearer\x20'+this[_0x18f00e(0x1b4)],'OpenAI-Beta':'assistants=v2'},'signal':this[_0x18f00e(0x1dd)]&&this['fetchController'][_0x18f00e(0x239)]||undefined});if(_0xdf2d83['ok']){const _0x2a159f=await _0xdf2d83[_0x18f00e(0x227)](),_0x4c8bd8=_0x2a159f['data'][_0x18f00e(0x222)](_0x116e8c=>_0x116e8c[_0x18f00e(0x216)]===_0x18f00e(0x270));if(_0x4c8bd8)return this[_0x18f00e(0x260)]=_0x4c8bd8['id'],!![];}}catch(_0x4d0e70){}return![];}async[_0xf10032(0x183)](){const _0x51b914=_0xf10032;try{await this['bootstrapPromise'],this[_0x51b914(0x272)](!![]);const _0x7dfde=[];this[_0x51b914(0x1e7)](_0x51b914(0x175),_0x51b914(0x21b)),_0x7dfde[_0x51b914(0x214)](this[_0x51b914(0x1fe)]());this[_0x51b914(0x1bf)]&&(this[_0x51b914(0x1e7)](_0x51b914(0x236),'loading'),_0x7dfde[_0x51b914(0x214)](this[_0x51b914(0x199)]()));const [,_0x570ff8]=await Promise[_0x51b914(0x1a3)](_0x7dfde);!_0x570ff8?(this[_0x51b914(0x1e7)](_0x51b914(0x27c),_0x51b914(0x21b)),await this[_0x51b914(0x161)]()):this[_0x51b914(0x1e7)](_0x51b914(0x236),_0x51b914(0x21b)),this[_0x51b914(0x1e7)](_0x51b914(0x20c),_0x51b914(0x21b)),await this[_0x51b914(0x273)](),this[_0x51b914(0x253)](),this[_0x51b914(0x1e7)](_0x51b914(0x289),_0x51b914(0x220)),this[_0x51b914(0x28d)]=!![],this[_0x51b914(0x272)](![]),this[_0x51b914(0x192)]['disabled']=![],this['sendButton']['disabled']=![];}catch(_0x27e89c){this['showError'](_0x51b914(0x1a8)+_0x27e89c[_0x51b914(0x1ef)]),this[_0x51b914(0x1e7)](_0x51b914(0x1f1),_0x51b914(0x166)),this[_0x51b914(0x272)](![]);}}async['uploadCSV'](){const _0xe4c21b=_0xf10032;try{const _0x5a53df=await fetch(_0xe4c21b(0x1a7),{'signal':this[_0xe4c21b(0x1dd)]&&this[_0xe4c21b(0x1dd)][_0xe4c21b(0x239)]||undefined});if(!_0x5a53df['ok'])throw new Error('CSV\x20file\x20not\x20found.\x20Status:\x20'+_0x5a53df['status']);const _0x586d67=await _0x5a53df[_0xe4c21b(0x224)](),_0x2b6fd4=new Blob([_0x586d67],{'type':_0xe4c21b(0x1ec)}),_0x19cd4a=new FormData();_0x19cd4a[_0xe4c21b(0x22d)](_0xe4c21b(0x1e9),_0x2b6fd4,_0xe4c21b(0x17e)),_0x19cd4a[_0xe4c21b(0x22d)](_0xe4c21b(0x1fa),'assistants');const _0x4e13d3=await fetch(_0xe4c21b(0x257),{'method':_0xe4c21b(0x215),'headers':{'Authorization':'Bearer\x20'+this[_0xe4c21b(0x1b4)]},'body':_0x19cd4a});if(!_0x4e13d3['ok']){const _0x13c690=await _0x4e13d3[_0xe4c21b(0x227)]();throw new Error('Upload\x20failed:\x20'+(_0x13c690[_0xe4c21b(0x166)]?.[_0xe4c21b(0x1ef)]||_0x4e13d3[_0xe4c21b(0x177)]));}const _0x23568c=await _0x4e13d3[_0xe4c21b(0x227)]();this[_0xe4c21b(0x263)]=_0x23568c['id'];try{const _0x1e9320=await fetch(_0xe4c21b(0x255),{'signal':this[_0xe4c21b(0x1dd)]&&this[_0xe4c21b(0x1dd)][_0xe4c21b(0x239)]||undefined});if(_0x1e9320['ok']){const _0x5185dd=await _0x1e9320['text'](),_0x2b8f04=new Blob([_0x5185dd],{'type':_0xe4c21b(0x234)}),_0x2285cb=new FormData();_0x2285cb[_0xe4c21b(0x22d)](_0xe4c21b(0x1e9),_0x2b8f04,'guide.html'),_0x2285cb[_0xe4c21b(0x22d)](_0xe4c21b(0x1fa),_0xe4c21b(0x25a));const _0x4c1d32=await fetch(_0xe4c21b(0x257),{'method':'POST','headers':{'Authorization':_0xe4c21b(0x24d)+this[_0xe4c21b(0x1b4)]},'body':_0x2285cb});if(_0x4c1d32['ok']){const _0x57913f=await _0x4c1d32['json']();this[_0xe4c21b(0x1de)]=_0x57913f['id'];}else{}}else{}}catch(_0x528940){}}catch(_0x54f686){}}async[_0xf10032(0x161)](){const _0xb2afe7=_0xf10032,_0x5dcca4=await fetch(_0xb2afe7(0x262))[_0xb2afe7(0x1a9)](_0x26f089=>_0x26f089['text']()),_0x5e8863=await fetch('https://api.openai.com/v1/assistants',{'method':_0xb2afe7(0x215),'headers':{'Authorization':_0xb2afe7(0x24d)+this[_0xb2afe7(0x1b4)],'Content-Type':_0xb2afe7(0x23e),'OpenAI-Beta':_0xb2afe7(0x1ee)},'body':JSON['stringify']({'model':'gpt-4.1-mini','name':'Ultimate\x20Football\x20Data\x20Analyst','description':_0xb2afe7(0x203),'instructions':_0x5dcca4,'tools':[{'type':_0xb2afe7(0x248)}],'tool_resources':{'code_interpreter':{'file_ids':[this[_0xb2afe7(0x263)]][_0xb2afe7(0x17d)](this['guideFileId']?[this[_0xb2afe7(0x1de)]]:[])}}})});if(!_0x5e8863['ok']){const _0x5ef222=await _0x5e8863[_0xb2afe7(0x227)]();throw new Error(_0xb2afe7(0x271)+(_0x5ef222['error']?.['message']||_0x5e8863[_0xb2afe7(0x177)]));}const _0x54aa11=await _0x5e8863[_0xb2afe7(0x227)]();this[_0xb2afe7(0x260)]=_0x54aa11['id'];}async['createThread'](){const _0x1b834c=_0xf10032,_0x3f6d1b=await fetch('https://api.openai.com/v1/threads',{'method':_0x1b834c(0x215),'headers':{'Authorization':_0x1b834c(0x24d)+this[_0x1b834c(0x1b4)],'Content-Type':_0x1b834c(0x23e),'OpenAI-Beta':'assistants=v2'},'signal':this[_0x1b834c(0x1dd)]&&this[_0x1b834c(0x1dd)]['signal']||undefined});if(!_0x3f6d1b['ok']){const _0x3daed3=await _0x3f6d1b[_0x1b834c(0x227)]();throw new Error(_0x1b834c(0x1e1)+(_0x3daed3[_0x1b834c(0x166)]?.['message']||_0x3f6d1b[_0x1b834c(0x177)]));}const _0x2a3fc6=await _0x3f6d1b[_0x1b834c(0x227)]();this['threadId']=_0x2a3fc6['id'];}async['cancelRun'](){const _0x31becf=_0xf10032;try{this[_0x31becf(0x250)]&&this[_0x31becf(0x1b1)]&&await fetch(_0x31becf(0x1c8)+this['threadId']+_0x31becf(0x170)+this[_0x31becf(0x250)]+_0x31becf(0x1bc),{'method':'POST','headers':{'Authorization':'Bearer\x20'+this[_0x31becf(0x1b4)],'OpenAI-Beta':'assistants=v2'}});}catch(_0x28c696){}}async[_0xf10032(0x241)](){const _0x52e4b9=_0xf10032;try{this[_0x52e4b9(0x1e7)]('Starting\x20new\x20chat...','loading'),this[_0x52e4b9(0x296)]=!![];if(!this[_0x52e4b9(0x1dd)])this[_0x52e4b9(0x1dd)]=new AbortController();try{this[_0x52e4b9(0x1dd)][_0x52e4b9(0x188)]();}catch(_0x42a8a3){}await this[_0x52e4b9(0x23a)](),this['fetchController']=null,await this[_0x52e4b9(0x273)](),this[_0x52e4b9(0x1ae)]['innerHTML']='',this[_0x52e4b9(0x174)]=[],this[_0x52e4b9(0x250)]=null,this[_0x52e4b9(0x296)]=![],this['fetchController']=null,this['setLoading'](![]),this[_0x52e4b9(0x192)][_0x52e4b9(0x245)]='',this[_0x52e4b9(0x253)](),this[_0x52e4b9(0x1e7)](_0x52e4b9(0x289),'ready');}catch(_0xc98302){this[_0x52e4b9(0x211)](_0x52e4b9(0x209)),this[_0x52e4b9(0x1e7)](_0x52e4b9(0x264),_0x52e4b9(0x166));}}async[_0xf10032(0x1f4)](){const _0x57afef=_0xf10032;if(!this['isInitialized']||!this[_0x57afef(0x192)][_0x57afef(0x245)]['trim']())return;const _0x517b25=this['messageInput'][_0x57afef(0x245)][_0x57afef(0x19e)]();this[_0x57afef(0x192)][_0x57afef(0x245)]='',this['messageInput']['style'][_0x57afef(0x1f9)]=_0x57afef(0x1c5),this[_0x57afef(0x225)](_0x517b25,_0x57afef(0x1da));if(!this[_0x57afef(0x16b)]())return;this[_0x57afef(0x1d9)](),this['isSending']=!![],this[_0x57afef(0x272)](!![]),this[_0x57afef(0x171)](!![]);try{this['cancelRequested']=![],this[_0x57afef(0x1dd)]=new AbortController();const _0x2b7763=/\b(what\s+is|explain|definition|how\s+(is|was)\s+.*(computed|calculated)|methodology)\b/i[_0x57afef(0x279)](_0x517b25);let _0x41e087='';const _0x510090=[/performance\s*index/i,/possession\s*\+\-?/i];for(const _0x1cc523 of _0x510090){const _0x13144f=_0x517b25[_0x57afef(0x1b5)](_0x1cc523);if(_0x13144f&&_0x13144f[0x0]){_0x41e087=_0x13144f[0x0];break;}}let _0x165cae=_0x517b25+(this[_0x57afef(0x19d)]?_0x57afef(0x21a):'\x0a\x0a[CHARTS\x20DISABLED:\x20Provide\x20text-only\x20responses]');const _0x5669ca=this['resolveLeagueAliases'](_0x517b25);_0x5669ca&&(_0x165cae+='\x0a[LEAGUE\x20GROUP:\x20'+_0x5669ca[_0x57afef(0x216)]+'\x20⇒\x20'+_0x5669ca[_0x57afef(0x20b)][_0x57afef(0x165)](',\x20')+']',_0x165cae+=_0x57afef(0x158)+_0x5669ca[_0x57afef(0x20b)][_0x57afef(0x165)](',\x20')+'}]');_0x2b7763&&(_0x165cae+='\x0a\x0a[DEFINITIONS\x20MODE:\x20Use\x20guide.html\x20ONLY\x20for\x20definitions/methodology.\x20Do\x20NOT\x20rely\x20on\x20general\x20knowledge.\x20Quote\x20and\x20cite\x20the\x20relevant\x20section.\x20Parse\x20the\x20local\x20HTML\x20file.\x20Do\x20NOT\x20use\x20network\x20requests.\x20If\x20not\x20found,\x20state:\x20\x22Not\x20specified\x20in\x20the\x20DataMB\x20Guide.\x22]',_0x41e087&&(_0x165cae+=_0x57afef(0x1a5)+_0x41e087+']',/performance\s*index/i[_0x57afef(0x279)](_0x41e087)&&(_0x165cae+=_0x57afef(0x156))),_0x165cae+=_0x57afef(0x26a),_0x165cae+=_0x57afef(0x204));const _0x32ff2f=await fetch(_0x57afef(0x1c8)+this[_0x57afef(0x1b1)]+_0x57afef(0x276),{'method':_0x57afef(0x215),'headers':{'Authorization':_0x57afef(0x24d)+this[_0x57afef(0x1b4)],'Content-Type':_0x57afef(0x23e),'OpenAI-Beta':_0x57afef(0x1ee)},'body':JSON[_0x57afef(0x19c)]({'role':_0x57afef(0x1da),'content':_0x165cae}),'signal':this[_0x57afef(0x1dd)]&&this[_0x57afef(0x1dd)][_0x57afef(0x239)]||undefined});if(!_0x32ff2f['ok'])throw new Error(_0x57afef(0x1d2)+_0x32ff2f['statusText']);const _0x372a9d=await fetch('https://api.openai.com/v1/threads/'+this[_0x57afef(0x1b1)]+_0x57afef(0x251),{'method':'POST','headers':{'Authorization':_0x57afef(0x24d)+this['acToAdj'],'Content-Type':_0x57afef(0x23e),'OpenAI-Beta':'assistants=v2'},'body':JSON[_0x57afef(0x19c)]({'assistant_id':this[_0x57afef(0x260)],'stream':![]}),'signal':this['fetchController']&&this[_0x57afef(0x1dd)][_0x57afef(0x239)]||undefined});if(!_0x372a9d['ok'])throw new Error(_0x57afef(0x28b)+_0x372a9d['statusText']);const _0x209b4e=await _0x372a9d['json']();this[_0x57afef(0x250)]=_0x209b4e['id'],await this[_0x57afef(0x190)](_0x209b4e['id']);}catch(_0x2f5f24){!this['isAbortError'](_0x2f5f24)&&this['showError']('Analysis\x20failed:\x20'+_0x2f5f24[_0x57afef(0x1ef)]);}finally{this[_0x57afef(0x272)](![]),this[_0x57afef(0x171)](![]),this[_0x57afef(0x242)]=![],this[_0x57afef(0x250)]=null;}}async['pollRunStatus'](_0x35f87a){const _0x24464d=_0xf10032,_0x4ec6a2=Date['now']();let _0x2a1c6f=0x1f4;const _0x2d54f1=0xbb8;while(!![]){if(this['cancelRequested'])throw new Error(_0x24464d(0x1a0));try{const _0x2a66f0=await fetch(_0x24464d(0x1c8)+this['threadId']+_0x24464d(0x170)+_0x35f87a,{'headers':{'Authorization':_0x24464d(0x24d)+this['acToAdj'],'OpenAI-Beta':_0x24464d(0x1ee)},'signal':this['fetchController']&&this[_0x24464d(0x1dd)][_0x24464d(0x239)]||undefined});if(!_0x2a66f0['ok']){if(this[_0x24464d(0x296)])throw new Error(_0x24464d(0x1a0));throw new Error(_0x24464d(0x18c)+_0x2a66f0[_0x24464d(0x177)]);}const _0x55e7d7=await _0x2a66f0['json']();if(_0x55e7d7['status']===_0x24464d(0x150))this[_0x24464d(0x1e7)](_0x24464d(0x210),_0x24464d(0x21b));else _0x55e7d7[_0x24464d(0x278)]===_0x24464d(0x23c)&&this[_0x24464d(0x1e7)](_0x24464d(0x191),'loading');if(_0x55e7d7[_0x24464d(0x278)]==='completed'){await this[_0x24464d(0x1f6)]();break;}else{if(_0x55e7d7[_0x24464d(0x278)]===_0x24464d(0x213)||_0x55e7d7[_0x24464d(0x278)]==='cancelled'||_0x55e7d7[_0x24464d(0x278)]===_0x24464d(0x14e)){if(this[_0x24464d(0x296)])throw new Error(_0x24464d(0x1a0));throw new Error(_0x24464d(0x15e)+_0x55e7d7[_0x24464d(0x278)]+':\x20'+(_0x55e7d7[_0x24464d(0x24e)]?.[_0x24464d(0x1ef)]||'Unknown\x20error'));}}const _0x5775e3=Date[_0x24464d(0x196)]()-_0x4ec6a2;_0x5775e3>0x2710&&(_0x2a1c6f=Math[_0x24464d(0x243)](_0x2d54f1,_0x2a1c6f*1.2)),await new Promise(_0x1697ba=>setTimeout(_0x1697ba,_0x2a1c6f));}catch(_0x3eb969){if(this[_0x24464d(0x296)])throw new Error(_0x24464d(0x1a0));throw _0x3eb969;}}}async[_0xf10032(0x1f6)](){const _0x1e351a=_0xf10032,_0x7406a5=await fetch(_0x1e351a(0x1c8)+this[_0x1e351a(0x1b1)]+_0x1e351a(0x172),{'headers':{'Authorization':_0x1e351a(0x24d)+this[_0x1e351a(0x1b4)],'OpenAI-Beta':_0x1e351a(0x1ee)},'signal':this[_0x1e351a(0x1dd)]&&this[_0x1e351a(0x1dd)]['signal']||undefined});if(!_0x7406a5['ok'])throw new Error('Failed\x20to\x20get\x20response:\x20'+_0x7406a5['statusText']);const _0x51d8d2=await _0x7406a5[_0x1e351a(0x227)](),_0x48800a=_0x51d8d2['data'][0x0];if(_0x48800a&&_0x48800a[_0x1e351a(0x162)]===_0x1e351a(0x15f)){let _0x433b54='';for(const _0x3f8332 of _0x48800a[_0x1e351a(0x1c0)]){if(_0x3f8332[_0x1e351a(0x22c)]==='text')_0x433b54+=_0x3f8332[_0x1e351a(0x224)]['value'];else _0x3f8332[_0x1e351a(0x22c)]===_0x1e351a(0x1b9)&&(_0x433b54+='',await this[_0x1e351a(0x1ba)](_0x3f8332[_0x1e351a(0x1b9)][_0x1e351a(0x169)]));}_0x433b54&&(this[_0x1e351a(0x225)](_0x433b54,'assistant'),this['updateStatus'](_0x1e351a(0x1e3),_0x1e351a(0x220)));}}async['displayImageFile'](_0x5c4844){const _0x541483=_0xf10032;try{const _0x51e047=await fetch('https://api.openai.com/v1/files/'+_0x5c4844+'/content',{'headers':{'Authorization':_0x541483(0x24d)+this[_0x541483(0x1b4)]},'signal':this[_0x541483(0x1dd)]&&this['fetchController'][_0x541483(0x239)]||undefined});if(!_0x51e047['ok'])throw new Error('Image\x20fetch\x20failed\x20('+_0x51e047[_0x541483(0x278)]+')');const _0x490393=await _0x51e047[_0x541483(0x25c)](),_0x38ef62=URL['createObjectURL'](_0x490393),_0x4def00=document[_0x541483(0x29a)](_0x541483(0x153));_0x4def00[_0x541483(0x16c)]='chart-container',_0x4def00[_0x541483(0x1b3)]=_0x541483(0x1cd)+_0x38ef62+'\x22\x20alt=\x22Generated\x20Chart\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x208px;\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.08);\x22/>',this[_0x541483(0x1ae)][_0x541483(0x18e)](_0x4def00),this['scrollToBottom']();}catch(_0x1d0601){}}[_0xf10032(0x207)](_0x21193c){const _0x4fed6=_0xf10032,_0x407f4f=document['createElement'](_0x4fed6(0x153));_0x407f4f[_0x4fed6(0x16c)]=_0x4fed6(0x24b)+_0x21193c;const _0x52273c=document[_0x4fed6(0x29a)](_0x4fed6(0x153));_0x52273c[_0x4fed6(0x16c)]=_0x4fed6(0x25f);_0x21193c===_0x4fed6(0x1da)?_0x52273c['textContent']=_0x4fed6(0x1d3):_0x52273c[_0x4fed6(0x1b3)]=_0x4fed6(0x29b);const _0x3f1c9d=document['createElement'](_0x4fed6(0x153));return _0x3f1c9d[_0x4fed6(0x16c)]=_0x4fed6(0x275),_0x407f4f[_0x4fed6(0x18e)](_0x52273c),_0x407f4f[_0x4fed6(0x18e)](_0x3f1c9d),this[_0x4fed6(0x1ae)][_0x4fed6(0x18e)](_0x407f4f),this[_0x4fed6(0x26b)](),_0x407f4f;}[_0xf10032(0x225)](_0x429bd7,_0x282f02){const _0x111096=_0xf10032,_0x28791a=this[_0x111096(0x207)](_0x282f02),_0x4729f1=_0x28791a[_0x111096(0x1d4)](_0x111096(0x208));_0x4729f1[_0x111096(0x1b3)]=this[_0x111096(0x15b)](_0x429bd7);}[_0xf10032(0x15b)](_0x147149){const _0x2845f3=_0xf10032;try{window[_0x2845f3(0x23b)]&&marked[_0x2845f3(0x155)]({'gfm':!![],'breaks':!![]});const _0x1d07ea=window[_0x2845f3(0x23b)]?marked[_0x2845f3(0x291)](_0x147149||''):(_0x147149||'')[_0x2845f3(0x1e4)](/\n/g,_0x2845f3(0x185)),_0x4c2180=window[_0x2845f3(0x277)]?DOMPurify[_0x2845f3(0x1ed)](_0x1d07ea):_0x1d07ea,_0x432145=document['createElement'](_0x2845f3(0x153)),_0x1b718c=(_0x147149||'')[_0x2845f3(0x19e)]()[_0x2845f3(0x1e6)]('\x0a')===-0x1&&(_0x147149||'')[_0x2845f3(0x19e)]()[_0x2845f3(0x23f)]<=0x3c;_0x432145[_0x2845f3(0x16c)]=_0x2845f3(0x152)+(_0x1b718c?_0x2845f3(0x151):''),_0x432145['innerHTML']=_0x4c2180;const _0x1bf4f4=_0x432145[_0x2845f3(0x1c3)](_0x2845f3(0x1c2));return _0x1bf4f4[_0x2845f3(0x1e2)](_0x4d9a6c=>{const _0x27c20d=_0x2845f3;_0x4d9a6c['classList'][_0x27c20d(0x259)]('data-table');const _0x1878a0=_0x4d9a6c[_0x27c20d(0x1c3)](_0x27c20d(0x290))[_0x27c20d(0x23f)],_0x4b096a=document[_0x27c20d(0x29a)]('div');_0x4b096a[_0x27c20d(0x16c)]=_0x27c20d(0x194);if(_0x1878a0>0xa){_0x4b096a['classList'][_0x27c20d(0x259)](_0x27c20d(0x1ab));const _0x22fda6=document[_0x27c20d(0x29a)](_0x27c20d(0x153));_0x22fda6[_0x27c20d(0x16c)]=_0x27c20d(0x202),_0x22fda6[_0x27c20d(0x1b3)]=_0x27c20d(0x284)+Math[_0x27c20d(0x243)](0xa,_0x1878a0)+'\x20of\x20'+_0x1878a0+_0x27c20d(0x295),_0x4b096a[_0x27c20d(0x18e)](_0x22fda6);}_0x4d9a6c[_0x27c20d(0x1f0)][_0x27c20d(0x1e8)](_0x4b096a,_0x4d9a6c),_0x4b096a[_0x27c20d(0x18e)](_0x4d9a6c);const _0x11e2bc=document['createElement'](_0x27c20d(0x153));_0x11e2bc[_0x27c20d(0x1d7)][_0x27c20d(0x1f9)]=_0x27c20d(0x25e),_0x4b096a[_0x27c20d(0x19f)](_0x11e2bc);}),_0x432145[_0x2845f3(0x1b7)];}catch(_0x30c5ae){return(_0x147149||'')[_0x2845f3(0x1e4)](/&/g,_0x2845f3(0x15d))['replace'](/</g,'&lt;')[_0x2845f3(0x1e4)](/>/g,_0x2845f3(0x16f))[_0x2845f3(0x1e4)](/\n/g,_0x2845f3(0x185));}}[_0xf10032(0x26b)](){setTimeout(()=>{const _0x91a060=_0x51b0;this[_0x91a060(0x1ae)]['scrollTop']=this[_0x91a060(0x1ae)][_0x91a060(0x164)];},0x64);}[_0xf10032(0x272)](_0x335010){const _0x1f95fe=_0xf10032;this['messageInput'][_0x1f95fe(0x176)]=_0x335010;if(_0x335010){if(!this['typingMessageEl']){const _0x184b57=this[_0x1f95fe(0x207)](_0x1f95fe(0x15f));_0x184b57[_0x1f95fe(0x281)][_0x1f95fe(0x259)]('typing-message'),_0x184b57[_0x1f95fe(0x1d4)](_0x1f95fe(0x208))[_0x1f95fe(0x1b3)]=_0x1f95fe(0x293),this[_0x1f95fe(0x16d)]=_0x184b57;}}else this[_0x1f95fe(0x16d)]&&(this[_0x1f95fe(0x16d)]['remove'](),this[_0x1f95fe(0x16d)]=null);}['setStopUI'](_0x49751f){const _0x17f976=_0xf10032;try{const _0x4046d4=this['sendButton']['querySelector'](_0x17f976(0x187));if(_0x49751f){this[_0x17f976(0x237)][_0x17f976(0x281)][_0x17f976(0x259)](_0x17f976(0x15c));if(_0x4046d4)_0x4046d4[_0x17f976(0x1b3)]=_0x17f976(0x1b8);this[_0x17f976(0x237)]['setAttribute'](_0x17f976(0x25d),'tooltips.stop'),this['sendButton']['setAttribute'](_0x17f976(0x1ad),_0x17f976(0x235)),window[_0x17f976(0x20a)]&&window[_0x17f976(0x20a)](this[_0x17f976(0x237)],window[_0x17f976(0x16e)]);}else{this[_0x17f976(0x237)][_0x17f976(0x281)][_0x17f976(0x233)]('stop');if(_0x4046d4)_0x4046d4[_0x17f976(0x1b3)]=_0x17f976(0x292);this[_0x17f976(0x237)]['setAttribute'](_0x17f976(0x25d),_0x17f976(0x154)),this[_0x17f976(0x237)][_0x17f976(0x283)](_0x17f976(0x1ad),_0x17f976(0x235)),window[_0x17f976(0x20a)]&&window[_0x17f976(0x20a)](this[_0x17f976(0x237)],window['currentTranslations']);}}catch(_0x50c7a7){}}async[_0xf10032(0x1db)](){const _0x176e2e=_0xf10032;try{this[_0x176e2e(0x296)]=!![];if(!this[_0x176e2e(0x1dd)])this[_0x176e2e(0x1dd)]=new AbortController();try{this[_0x176e2e(0x1dd)][_0x176e2e(0x188)]();}catch(_0x369edf){}await this['cancelRun'](),this[_0x176e2e(0x1e7)](_0x176e2e(0x24f),_0x176e2e(0x220));}catch(_0x50fc4b){}finally{this[_0x176e2e(0x272)](![]),this['setStopUI'](![]),this[_0x176e2e(0x296)]=![],this[_0x176e2e(0x1dd)]=null,this[_0x176e2e(0x250)]=null;}}['isAbortError'](_0x1ed0b5){const _0x4d1f22=_0xf10032;if(!_0x1ed0b5)return![];const _0x5e61a4=String(_0x1ed0b5&&(_0x1ed0b5[_0x4d1f22(0x1ef)]||_0x1ed0b5[_0x4d1f22(0x297)]()||''));return _0x1ed0b5[_0x4d1f22(0x216)]===_0x4d1f22(0x1ca)||/aborted/i[_0x4d1f22(0x279)](_0x5e61a4)||/cancelled/i[_0x4d1f22(0x279)](_0x5e61a4)||/canceled/i[_0x4d1f22(0x279)](_0x5e61a4);}[_0xf10032(0x1e7)](_0x237176,_0x20953a){const _0x15c1ee=_0xf10032,_0x488f70=this[_0x15c1ee(0x278)],_0x58fe59=_0x488f70[_0x15c1ee(0x1d4)](_0x15c1ee(0x26d));_0x488f70[_0x15c1ee(0x1b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22status-indicator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status-text\x22>'+_0x237176+_0x15c1ee(0x280);const _0x52b34d=_0x488f70[_0x15c1ee(0x1d4)](_0x15c1ee(0x26d));switch(_0x20953a){case _0x15c1ee(0x21b):_0x52b34d[_0x15c1ee(0x1d7)][_0x15c1ee(0x1a4)]=_0x15c1ee(0x258);break;case _0x15c1ee(0x220):_0x52b34d[_0x15c1ee(0x1d7)]['background']=_0x15c1ee(0x201);break;case'error':_0x52b34d[_0x15c1ee(0x1d7)][_0x15c1ee(0x1a4)]=_0x15c1ee(0x218);break;}try{if(window[_0x15c1ee(0x16e)]&&_0x488f70[_0x15c1ee(0x1d4)]('.status-text')){const _0x14306f={'Stopped':'status.stopped','Analysis\x20complete!':_0x15c1ee(0x182),'Analyzing\x20data...':_0x15c1ee(0x267),'Running\x20calculations...':'status.runningCalculations','Error':_0x15c1ee(0x1f8),'Ready!':_0x15c1ee(0x27f),'Starting\x20new\x20chat...':'status.startingNewChat','Setting\x20up\x20conversation...':_0x15c1ee(0x231),'Loading\x20AI\x20assistant...':'status.loadingAIAssistant','Reading\x20dataset...':_0x15c1ee(0x206),'Monthly\x20limit\x20reached':_0x15c1ee(0x24a),'Login\x20required':_0x15c1ee(0x167)},_0xbc2f23=_0x14306f[_0x237176];_0xbc2f23&&(_0x488f70[_0x15c1ee(0x1d4)]('.status-text')['setAttribute'](_0x15c1ee(0x25d),_0xbc2f23),window[_0x15c1ee(0x20a)]&&window[_0x15c1ee(0x20a)](_0x488f70[_0x15c1ee(0x1d4)]('.status-text'),window['currentTranslations']));}}catch(_0x15e3c0){}}[_0xf10032(0x253)](){const _0x52b8e4=_0xf10032,_0x2628c7='<div\x20data-i18n=\x22welcomeMsg\x22>How\x20can\x20I\x20help\x20you\x20today?\x20<br><br>I\x20am\x20trained\x20on\x20the\x202024/25\x20and\x202025\x20DataMB\x20dataset\x20(40\x20leagues).\x20I\x20can\x20answer\x20any\x20question\x20about\x20the\x20data\x20and\x20handle\x20complex\x20requests\x20—\x20from\x20metric\x20definitions\x20to\x20advanced\x20analysis,\x20scouting\x20reports,\x20and\x20deeper\x20insights.\x20<br><br>Enable\x20the\x20graph\x20toggle\x20for\x20on-demand\x20charts\x20and\x20visual\x20queries.</div>',_0x5a1172=this['createMessageContainer'](_0x52b8e4(0x15f)),_0x23052a=_0x5a1172[_0x52b8e4(0x1d4)](_0x52b8e4(0x208));_0x23052a[_0x52b8e4(0x1b3)]=_0x2628c7;}[_0xf10032(0x211)](_0x58905a){const _0xbce5ef=_0xf10032,_0xddbfac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22error\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58905a+_0xbce5ef(0x21c),_0x2ad55c=this[_0xbce5ef(0x207)](_0xbce5ef(0x15f)),_0x2d1df3=_0x2ad55c[_0xbce5ef(0x1d4)](_0xbce5ef(0x208));_0x2d1df3['innerHTML']=_0xddbfac;try{const _0x384400={'You\x20must\x20be\x20logged\x20in':_0xbce5ef(0x246)},_0x22bc8d=_0x384400[_0x58905a];if(_0x22bc8d){const _0x2b468e=_0x2d1df3[_0xbce5ef(0x1d4)]('.error');_0x2b468e[_0xbce5ef(0x283)](_0xbce5ef(0x25d),_0x22bc8d),window[_0xbce5ef(0x20a)]&&window['translateElement'](_0x2b468e,window[_0xbce5ef(0x16e)]);}}catch(_0x344f90){}}[_0xf10032(0x17b)](_0x53cf85){const _0xb56969=_0xf10032;if(!_0x53cf85)return null;const _0x4a5cad=_0x53cf85[_0xb56969(0x27d)](),_0x5e2820=[_0xb56969(0x160),'La\x20Liga','Bundesliga','Serie\x20A',_0xb56969(0x28f)],_0x55c862=[_0xb56969(0x160),_0xb56969(0x247),_0xb56969(0x1a1),_0xb56969(0x181),_0xb56969(0x28f),_0xb56969(0x1eb),_0xb56969(0x1b6)],_0x57bbcc=/(europe'?s\s*top\s*5|\btop\s*5\s*leagues\b|\bbig\s*5\b)/i[_0xb56969(0x279)](_0x53cf85),_0x34f2d9=/(europe'?s\s*top\s*7|\btop\s*7\s*leagues\b)/i[_0xb56969(0x279)](_0x53cf85);if(_0x34f2d9)return{'name':_0xb56969(0x159),'list':_0x55c862};if(_0x57bbcc)return{'name':_0xb56969(0x238),'list':_0x5e2820};return null;}}document[_0xf10032(0x294)](_0xf10032(0x1bb),function(){new UltimateFootballAI();});function toggleTable(_0x36ad29){const _0x4a219d=_0xf10032,_0xfe43dd=_0x36ad29[_0x4a219d(0x29c)](_0x4a219d(0x16a)),_0x525567=_0xfe43dd[_0x4a219d(0x281)][_0x4a219d(0x244)](_0x4a219d(0x1c1));_0x525567?(_0xfe43dd[_0x4a219d(0x281)]['remove'](_0x4a219d(0x1c1)),_0xfe43dd[_0x4a219d(0x281)][_0x4a219d(0x259)](_0x4a219d(0x1ab)),_0x36ad29[_0x4a219d(0x299)]=_0x4a219d(0x288)):(_0xfe43dd['classList'][_0x4a219d(0x233)](_0x4a219d(0x1ab)),_0xfe43dd[_0x4a219d(0x281)][_0x4a219d(0x259)](_0x4a219d(0x1c1)),_0x36ad29['textContent']='Show\x20Less');}
    </script>
<script>

    function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
    return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
    return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
    }
    
    function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
    }
    
    function applyLanguage(language) {
    console.log(language);
    
    if (language === 'en') {
    return;
    }
    
    
    fetch(`locales/${language}.json`)
    .then(response => {
      return response.ok ? response.json() : null;
    })
    .then(translations => {
      // Only proceed if translations exist
      if (translations) {
          window.currentTranslations = translations;
              window.translations = translations;
          
        // expose translator for dynamic usage
        window.translateElement = translateElement;
        document.querySelectorAll('[data-i18n]').forEach(element => {
          translateElement(element, translations);
        });
        
        
        if (!window.translationObserver) {
          window.translationObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              if (mutation.type === 'childList') {
                mutation.addedNodes.forEach(function(node) {
                  if (node.nodeType === 1) { // Element node
                    if (node.hasAttribute && node.hasAttribute('data-i18n')) {
                      translateElement(node, translations);
                    }
                    const elements = node.querySelectorAll ? node.querySelectorAll('[data-i18n]') : [];
                    elements.forEach(function(element) {
                      translateElement(element, translations);
                    });
                  }
                });
              }
            });
          });
          
          window.translationObserver.observe(document.body, {
            childList: true,
            subtree: true
          });
        }
      }
    })
    .catch(() => {
    });
    }
    
    // Helper function to translate a single element
    function translateElement(element, translations) {
      const keys = element.getAttribute('data-i18n').split('.');
      let value = translations;
      
      for (const key of keys) {
        if (value === undefined || value === null) break;
        value = value[key];
      }
      
      if (!value) return;

      const attrTarget = element.getAttribute('data-i18n-attr');
      if (attrTarget) {
        element.setAttribute(attrTarget, value);
        return;
      }

      if (element.tagName === 'META') {
        element.setAttribute('content', value);
      } else if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
        element.setAttribute('placeholder', value);
      } else if (value.includes('<')) {
        element.innerHTML = value;
      } else {
        element.textContent = value;
      }
    }
    
    const preferredLanguage = getPreferredLanguage();
    applyLanguage(preferredLanguage);
        </script>
</body>
</html>
